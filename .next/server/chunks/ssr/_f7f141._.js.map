{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/lib/imageUrl.ts"],"sourcesContent":["import { client } from \"@/sanity/lib/client\";\r\nimport imageUrlBuilder from \"@sanity/image-url\";\r\nimport { SanityImageSource } from \"@sanity/image-url/lib/types/types\";\r\n\r\nconst builder = imageUrlBuilder(client);\r\n\r\nexport function imageUrl(source: SanityImageSource) {\r\n    return builder.image(source);\r\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAGA,MAAM,UAAU,CAAA,GAAA,gKAAA,CAAA,UAAe,AAAD,EAAE,uHAAA,CAAA,SAAM;AAE/B,SAAS,SAAS,MAAyB;IAC9C,OAAO,QAAQ,KAAK,CAAC;AACzB"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/sanity/lib/products/getProductBySlug.ts"],"sourcesContent":["import { defineQuery } from 'next-sanity';\r\nimport { sanityFetch } from '../live';\r\n\r\nexport const getProductBySlug = async (slug: string) => {\r\n    const PRODUCT_BY_ID_QUERY = defineQuery(`\r\n            *[\r\n                _type == \"product\" && slug.current == $slug\r\n            ] | order(name asc) [0]\r\n        `);\r\n\r\n    try {\r\n        //use sanityfetch to send the query with the slug as a parameter\r\n        const product = await sanityFetch({\r\n            query: PRODUCT_BY_ID_QUERY,\r\n            params: {\r\n                slug,\r\n            },\r\n        });\r\n\r\n        //return the product data or null if not found\r\n        return product.data || null;\r\n    } catch (error) {\r\n        console.error('Error fetching product by ID', error);\r\n        return null;\r\n    }\r\n};"],"names":[],"mappings":";;;AACA;AADA;;;AAGO,MAAM,mBAAmB,OAAO;IACnC,MAAM,sBAAsB,CAAA,GAAA,mIAAA,CAAA,cAAW,AAAD,EAAE,CAAC;;;;QAIrC,CAAC;IAEL,IAAI;QACA,gEAAgE;QAChE,MAAM,UAAU,MAAM,CAAA,GAAA,qHAAA,CAAA,cAAW,AAAD,EAAE;YAC9B,OAAO;YACP,QAAQ;gBACJ;YACJ;QACJ;QAEA,8CAA8C;QAC9C,OAAO,QAAQ,IAAI,IAAI;IAC3B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;IACX;AACJ"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/app/%28store%29/product/%5Bslug%5D/page.tsx"],"sourcesContent":["import { Button } from '@/components/ui/button';\r\nimport { imageUrl } from '@/lib/imageUrl';\r\nimport { getProductBySlug } from \"@/sanity/lib/products/getProductBySlug\";\r\nimport { PortableText } from \"next-sanity\";\r\nimport Image from \"next/image\";\r\nimport { notFound } from \"next/navigation\";\r\n\r\nasync function ProductPage({\r\n    params,\r\n}: {\r\n    params: Promise<{\r\n        slug: string;\r\n    }>;\r\n}) {\r\n    const { slug } = await params;\r\n    const product = await getProductBySlug(slug);\r\n\r\n    if (!product) {\r\n        return notFound();\r\n    }\r\n\r\n    const isOutOfStock = product.stock != null && product.stock <= 0;\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                <div \r\n                    className={`relative aspect-square overflow-hidden rounded-lg shadow-lg ${isOutOfStock ? 'opacity-50' : ''}`}\r\n                >\r\n                    {product.image && (\r\n                        <Image\r\n                            src={imageUrl(product.image).url()}\r\n                            alt={product.name ?? 'Product Image'}\r\n                            fill\r\n                            className=\"object-contain transition-transform duration-300 hover:scale-105\"\r\n                        />\r\n                    )}\r\n                    {isOutOfStock && (\r\n                        <div className=\"absolute inset-0 flex -items-center justify-center bg-black bg-opacity-50\">\r\n                            <span className=\"text-white font-bold text-lg\">Out of Stock</span>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                    <div className=\"flex flex-col justify-between\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold mb-4\">{product.name}</h1>\r\n                        <div className=\"text-xl font-semibold mb-4\">\r\n                            ${product.price?.toFixed(2)}\r\n                        </div>\r\n                        <div className=\"prose max-w-none mb-6\">\r\n                            {Array.isArray(product.description) && (\r\n                                <PortableText value={product.description} />\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <div className='mt-6'>\r\n                        <AddToBasketButton product={product} disable={isOutOfStock} />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n//2:47:34 revisar por si hay algun error \r\n\r\nexport default ProductPage;"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;AAFA;AAEA;;;;;;;AAEA,eAAe,YAAY,EACvB,MAAM,EAKT;IACG,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,UAAU,MAAM,CAAA,GAAA,6IAAA,CAAA,mBAAgB,AAAD,EAAE;IAEvC,IAAI,CAAC,SAAS;QACV,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IAClB;IAEA,MAAM,eAAe,QAAQ,KAAK,IAAI,QAAQ,QAAQ,KAAK,IAAI;IAE/D,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBACG,WAAW,CAAC,4DAA4D,EAAE,eAAe,eAAe,IAAI;;wBAE3G,QAAQ,KAAK,kBACV,8OAAC,6HAAA,CAAA,UAAK;4BACF,KAAK,CAAA,GAAA,+GAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,KAAK,EAAE,GAAG;4BAChC,KAAK,QAAQ,IAAI,IAAI;4BACrB,IAAI;4BACJ,WAAU;;;;;;wBAGjB,8BACG,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAK,WAAU;0CAA+B;;;;;;;;;;;;;;;;;8BAKvD,8OAAC;oBAAI,WAAU;;sCACf,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAA2B,QAAQ,IAAI;;;;;;8CACrD,8OAAC;oCAAI,WAAU;;wCAA6B;wCACtC,QAAQ,KAAK,EAAE,QAAQ;;;;;;;8CAE7B,8OAAC;oCAAI,WAAU;8CACV,MAAM,OAAO,CAAC,QAAQ,WAAW,mBAC9B,8OAAC,wKAAA,CAAA,eAAY;wCAAC,OAAO,QAAQ,WAAW;;;;;;;;;;;;;;;;;sCAIpD,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAkB,SAAS;gCAAS,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtE;uCAIe"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}