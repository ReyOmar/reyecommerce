{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"index.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/helpers.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/reference/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/assets/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/crossDatasetReference/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/documents/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/markers/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/mutations/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/paths/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/portableText/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/schema/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/schema/define.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/search/types.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/search/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/slug/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/transactionLog/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/types/src/validation/asserters.ts"],"sourcesContent":["export function isObject(obj: unknown): obj is Record<string, unknown> {\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj)\n}\n","import {isObject} from '../helpers'\nimport {type Reference} from './types'\n\n/** @internal */\nexport function isReference(reference: unknown): reference is Reference {\n  return isObject(reference) && typeof reference._ref === 'string'\n}\n","import {isObject} from '../helpers'\nimport {isReference} from '../reference'\nimport {type Image} from './types'\n\n/** @public */\nexport function isImage(value: unknown): value is Image {\n  return isObject(value) && isReference(value.asset) && value.asset._ref.startsWith('image-')\n}\n","import {isObject} from '../helpers'\nimport {type CrossDatasetReferenceValue} from './types'\n\n/** @beta */\nexport function isCrossDatasetReference(\n  reference: unknown,\n): reference is CrossDatasetReferenceValue {\n  return (\n    isObject(reference) &&\n    typeof reference._ref === 'string' &&\n    typeof reference._dataset === 'string' &&\n    typeof reference._projectId === 'string'\n  )\n}\n","import {isObject} from '../helpers'\nimport {type KeyedObject, type SanityDocument, type TypedObject} from './types'\n\n/** @public */\nexport function isSanityDocument(document: unknown): document is SanityDocument {\n  return (\n    isObject(document) && typeof document._id === 'string' && typeof document._type === 'string'\n  )\n}\n\n/** @public */\nexport function isTypedObject(obj: unknown): obj is TypedObject {\n  return isObject(obj) && typeof obj._type === 'string'\n}\n\n/** @public */\nexport function isKeyedObject(obj: unknown): obj is KeyedObject {\n  return isObject(obj) && typeof obj._key === 'string'\n}\n","import {type ValidationMarker} from './types'\n\n/** @internal */\nexport function isValidationErrorMarker(\n  marker: ValidationMarker,\n): marker is ValidationMarker & {level: 'error'} {\n  return marker.level === 'error'\n}\n\n/** @internal */\nexport function isValidationWarningMarker(\n  marker: ValidationMarker,\n): marker is ValidationMarker & {level: 'warning'} {\n  return marker.level === 'warning'\n}\n\n/** @internal */\nexport function isValidationInfoMarker(\n  marker: ValidationMarker,\n): marker is ValidationMarker & {level: 'info'} {\n  return marker.level === 'info'\n}\n","import {type TransactionLogMutation} from '../transactionLog'\nimport {\n  type CreateIfNotExistsMutation,\n  type CreateMutation,\n  type CreateOrReplaceMutation,\n  type DeleteMutation,\n  type Mutation,\n  type PatchMutation,\n} from './types'\n\n/** @internal */\nexport function isCreateMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is CreateMutation {\n  return 'create' in mutation\n}\n\n/** @internal */\nexport function isCreateIfNotExistsMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is CreateIfNotExistsMutation {\n  return 'createIfNotExists' in mutation\n}\n\n/** @internal */\nexport function isCreateOrReplaceMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is CreateOrReplaceMutation {\n  return 'createOrReplace' in mutation\n}\n\n/** @internal */\nexport function isDeleteMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is DeleteMutation {\n  return 'delete' in mutation\n}\n\n/** @internal */\nexport function isPatchMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is PatchMutation {\n  return 'patch' in mutation\n}\n","import {type IndexTuple, type KeyedSegment, type PathSegment} from './types'\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/\nconst reIndexTuple = /^\\d*:\\d*$/\n\n/** @internal */\nexport function isIndexSegment(segment: PathSegment): segment is number {\n  return typeof segment === 'number' || (typeof segment === 'string' && /^\\[\\d+\\]$/.test(segment))\n}\n\n/** @internal */\nexport function isKeySegment(segment: PathSegment): segment is KeyedSegment {\n  if (typeof segment === 'string') {\n    return reKeySegment.test(segment.trim())\n  }\n\n  return typeof segment === 'object' && '_key' in segment\n}\n\n/** @internal */\nexport function isIndexTuple(segment: PathSegment): segment is IndexTuple {\n  if (typeof segment === 'string' && reIndexTuple.test(segment)) {\n    return true\n  }\n\n  if (!Array.isArray(segment) || segment.length !== 2) {\n    return false\n  }\n\n  const [from, to] = segment\n  return (typeof from === 'number' || from === '') && (typeof to === 'number' || to === '')\n}\n","import {type PortableTextObject, type PortableTextSpan, type PortableTextTextBlock} from './types'\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return !!value && (typeof value == 'object' || typeof value == 'function')\n}\n\n/**\n * Assert that a given object is a portable-text text-block type object\n *\n * @remarks\n * * The `markDefs` and `style` property of a block is optional.\n * * Block types can be named, so expect anything of the _type property.\n *\n * @alpha\n */\nexport function isPortableTextTextBlock<T = PortableTextSpan | PortableTextObject>(\n  value: unknown,\n): value is PortableTextTextBlock<T> {\n  return (\n    isRecord(value) &&\n    typeof value._type === 'string' && // block types can be named, so expect anything here.\n    Array.isArray(value.children) &&\n    value.children.every((child) => isRecord(child)) &&\n    ('markDefs' in value // optional property\n      ? Array.isArray(value.markDefs) && value.markDefs.every((def) => isRecord(def))\n      : true) &&\n    ('style' in value ? typeof value.style === 'string' : true) // optional property\n  )\n}\n\n/**\n * Assert that a given object is a portable-text span-type object\n *\n * @remarks\n * The `marks` property of a block is optional.\n *\n * @alpha\n */\nexport function isPortableTextSpan(value: unknown): value is PortableTextSpan {\n  return (\n    isRecord(value) &&\n    value._type === 'span' &&\n    typeof value.text === 'string' &&\n    ('marks' in value // optional property\n      ? Array.isArray(value.marks) && value.marks.every((mark) => typeof mark === 'string')\n      : true)\n  )\n}\n\n/**\n * Assert that a given object is a portable-text list-text-block-type object\n *\n * @remarks\n * Uses `isPortableTextTextBlock` and checks for `listItem` and `level`\n *\n * @see isPortableTextTextBlock\n *\n * @alpha\n */\nexport function isPortableTextListBlock<T = PortableTextSpan | PortableTextObject>(\n  value: unknown,\n): value is PortableTextTextBlock<T> {\n  return (\n    isPortableTextTextBlock(value) &&\n    'listItem' in value &&\n    typeof value.listItem === 'string' &&\n    'level' in value &&\n    Number.isInteger(value.level)\n  )\n}\n","import {type CrossDatasetReferenceSchemaType} from '../crossDatasetReference'\nimport {type TitledListValue} from './definition'\nimport {\n  type ArraySchemaType,\n  type BaseSchemaType,\n  type BlockChildrenObjectField,\n  type BlockListObjectField,\n  type BlockSchemaType,\n  type BlockStyleObjectField,\n  type BooleanSchemaType,\n  type DeprecatedSchemaType,\n  type DeprecationConfiguration,\n  type FileSchemaType,\n  type ImageSchemaType,\n  type NumberSchemaType,\n  type ObjectSchemaType,\n  type ReferenceSchemaType,\n  type SchemaType,\n  type SpanSchemaType,\n  type StringSchemaType,\n} from './types'\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return !!value && (typeof value == 'object' || typeof value == 'function')\n}\n\n/**\n * Returns wether or not the given type is a document type\n * (eg that it was defined as `type: 'document'`)\n *\n * @param type - Schema type to test\n * @returns True if type is a document type, false otherwise\n *\n * @public\n */\nexport function isDocumentSchemaType(type: unknown): type is ObjectSchemaType {\n  if (!isObjectSchemaType(type)) {\n    return false\n  }\n\n  let current: SchemaType | undefined = type as SchemaType\n  while (current) {\n    if (current.name === 'document') {\n      return true\n    }\n\n    current = current.type\n  }\n  return false\n}\n\n/** @internal */\nexport function isObjectSchemaType(type: unknown): type is ObjectSchemaType {\n  if (!isRecord(type)) return false\n  return type.jsonType === 'object'\n}\n\n/** @internal */\nexport function isArraySchemaType(type: unknown): type is ArraySchemaType {\n  if (!isRecord(type)) return false\n  return type.jsonType === 'array'\n}\n\n/** @internal */\nexport function isArrayOfBlocksSchemaType(\n  type: unknown,\n): type is ArraySchemaType<ObjectSchemaType> {\n  return isArraySchemaType(type) && type.of.some((memberType) => isBlockSchemaType(memberType))\n}\n\n/** @internal */\nexport function isArrayOfObjectsSchemaType(\n  type: unknown,\n): type is ArraySchemaType<ObjectSchemaType> {\n  return isArraySchemaType(type) && type.of.every((memberType) => isObjectSchemaType(memberType))\n}\n\n/** @internal */\nexport function isArrayOfPrimitivesSchemaType(type: unknown): type is ArraySchemaType {\n  return isArraySchemaType(type) && type.of.every((memberType) => isPrimitiveSchemaType(memberType))\n}\n\n/** @internal */\nexport function isBooleanSchemaType(type: unknown): type is BooleanSchemaType {\n  if (!isRecord(type)) return false\n  return type.jsonType === 'boolean'\n}\n\n/** @internal */\nexport function isStringSchemaType(type: unknown): type is StringSchemaType {\n  if (!isRecord(type)) return false\n  return type.jsonType === 'string'\n}\n\n/** @internal */\nexport function isNumberSchemaType(type: unknown): type is NumberSchemaType {\n  if (!isRecord(type)) return false\n  return type.jsonType === 'number'\n}\n\n/** @internal */\nexport function isPrimitiveSchemaType(\n  type: unknown,\n): type is BooleanSchemaType | StringSchemaType | NumberSchemaType {\n  return isBooleanSchemaType(type) || isStringSchemaType(type) || isNumberSchemaType(type)\n}\n\n/** @internal */\nexport function isReferenceSchemaType(type: unknown): type is ReferenceSchemaType {\n  return isRecord(type) && (type.name === 'reference' || isReferenceSchemaType(type.type))\n}\n\n/** @internal */\nexport function isImageSchemaType(type: unknown): type is ImageSchemaType {\n  return isRecord(type) && (type.name === 'image' || isImageSchemaType(type.type))\n}\n\n/** @internal */\nexport function isFileSchemaType(type: unknown): type is FileSchemaType {\n  return isRecord(type) && (type.name === 'file' || isFileSchemaType(type.type))\n}\n\n/** @internal */\nexport function isDeprecatedSchemaType<TSchemaType extends BaseSchemaType>(\n  type: TSchemaType,\n): type is DeprecatedSchemaType<TSchemaType> {\n  if (!isRecord(type)) return false\n  return typeof type.deprecated !== 'undefined'\n}\n\n/** @internal */\nexport function isDeprecationConfiguration(type: unknown): type is DeprecationConfiguration {\n  if (!isRecord(type)) return false\n  return typeof type.deprecated !== 'undefined'\n}\n\n/** @internal */\nexport function isCrossDatasetReferenceSchemaType(\n  type: unknown,\n): type is CrossDatasetReferenceSchemaType {\n  return (\n    isRecord(type) &&\n    (type.name === 'crossDatasetReference' || isCrossDatasetReferenceSchemaType(type.type))\n  )\n}\n\n/** @internal */\nexport function isTitledListValue(item: unknown): item is TitledListValue {\n  return typeof item === 'object' && item !== null && 'title' in item && 'value' in item\n}\n\n/** @internal */\nexport function isSpanSchemaType(type: unknown): type is SpanSchemaType {\n  if (!isRecord(type)) return false\n  // we check for `annotations` and `decorators` instead of `type.name` because\n  // schema names can technically change if someone extends the type\n  return Array.isArray(type.annotations) && Array.isArray(type.decorators)\n}\n\n/** @internal */\nexport function isBlockSchemaType(type: unknown): type is BlockSchemaType {\n  if (!isRecord(type)) return false\n  if (!Array.isArray(type.fields)) return false\n  const maybeSpanChildren = type.fields.find(isBlockChildrenObjectField)\n  const maybeStyle = type.fields.find(isBlockStyleObjectField)\n  const maybeList = type.fields.find(isBlockListObjectField)\n  return (\n    isBlockChildrenObjectField(maybeSpanChildren) &&\n    isBlockStyleObjectField(maybeStyle) &&\n    isBlockListObjectField(maybeList)\n  )\n}\n\n/** @internal */\nexport function isBlockStyleObjectField(field: unknown): field is BlockStyleObjectField {\n  if (!isRecord(field)) return false\n  if (field.name !== 'style') return false\n  return isRecord(field.type) && field.type.jsonType === 'string'\n}\n\n/** @internal */\nexport function isBlockListObjectField(field: unknown): field is BlockListObjectField {\n  if (!isRecord(field)) return false\n  if (field.name !== 'listItem') return false\n  return isRecord(field.type) && field.type.jsonType === 'string'\n}\n\n/** @internal */\nexport function isBlockChildrenObjectField(field: unknown): field is BlockChildrenObjectField {\n  if (!isRecord(field)) return false\n  if (field.name !== 'children') return false\n  if (!isArraySchemaType(field.type)) return false\n  // there will always be a span item in `SpanChildrenObjectField`\n  return field.type.of.some(isSpanSchemaType)\n}\n","import {\n  type DefineArrayMemberBase,\n  type DefineSchemaBase,\n  type DefineSchemaOptions,\n  type MaybeAllowUnknownProps,\n  type NarrowPreview,\n  type StrictDefinition,\n  type WidenInitialValue,\n  type WidenValidation,\n} from './defineTypes'\nimport {type FieldDefinitionBase, type IntrinsicTypeName} from './definition'\nimport {type AutocompleteString} from './types'\n\n/**\n * Helper function for defining a Sanity type definition. This function does not do anything on its own;\n * it exists to check that your schema definition is correct, and help autocompletion in your IDE.\n *\n * This function will narrow the schema type down to fields and options based on the provided type-string.\n *\n * Schema types defined using `defineType` should typically be added to the Studio config under `schema.types`.\n * Defined types can be referenced by their `name`. This is referred to as a type-alias.\n *\n * When using type-aliases as `type`, `defineType` cannot know the base-type, so type-safety will be reduced.\n * If you know the base type of the type-alias, provide `defineOptions.aliasFor: <base type name>`.\n * This will enforce that the schema definition conforms with the provided type.\n *\n * By default, `defineType` only allows known properties and options.\n * Use `defineOptions.strict: false` to allow unknown properties and options.\n *\n * ### Basic usage\n *\n * ```ts\n * defineType({\n *   type: 'object',\n *   name: 'custom-object',\n *   fields: [ {type: 'string', name: 'title', title: 'Title'}],\n * })\n * ```\n *\n * ### Usage with aliasFor narrowing\n *\n * ```ts\n * defineType({\n *   type: 'custom-object',\n *   name: 'redefined-custom-object',\n *   options: {\n *     columns: 2\n *   }\n * }, {aliasFor: 'object' })\n * ```\n *\n * ### Allow unknown properties\n *\n * ```ts\n * defineType({\n *   type: 'custom-object',\n *   name: 'redefined-custom-object',\n *   allowsUnknownProperties: true\n *   options: {\n *     columns: 2,\n *     allowsUnknownOptions: true\n *   }\n * }, {strict: false})\n * ```\n * ### Maximum safety and best autocompletion\n *\n * Use {@link defineType}, {@link defineField} and {@link defineArrayMember}:\n *\n * ```ts\n *  defineType({\n *    type: 'object',\n *    name: 'custom-object',\n *    fields: [\n *      defineField({\n *        type: 'array',\n *        name: 'arrayField',\n *        title: 'Things',\n *        of: [\n *          defineArrayMember({\n *            type: 'object',\n *            name: 'type-name-in-array',\n *            fields: [defineField({type: 'string', name: 'title', title: 'Title'})],\n *          }),\n *        ],\n *      }),\n *    ],\n *  })\n * ```\n *\n * ## Note on type-safety in the current implementation\n *\n * Type-safety inside array-like properties (schema properties like `fields` and `of`) can only be guaranteed when\n * {@link defineField} and {@link defineArrayMember} are used to wrap each value in the array.\n *\n * For array-values without a function-wrapper, TypeScript will resolve to a union type of all possible properties across\n * all schema types. This result in less precise typing.\n *\n * ### Extending the Sanity Schema types\n *\n * If you want to extend the Sanity Schema types with your own properties or options to make them typesafe,\n * you can use [TypeScript declaration merging](https://www.typescriptlang.org/docs/handbook/declaration-merging.html).\n *\n * With declaration merging, properties and options will be available in a type-safe manner, and\n * `strict: false` will not be necessary.\n *\n * #### Example: Add option to StringOptions\n *\n * ```ts\n * // string.ts\n *\n * //redeclare the sanity module\n * declare module 'sanity' {\n *  // redeclare StringOptions; it will be merged with StringOptions in the sanity module\n *  export interface StringOptions {\n *    myCustomOption?: boolean\n *  }\n * }\n *\n * // the option is now part of the StringOptions type, just as if it was declared in the sanity codebase:\n * defineType({\n *   type: 'string',\n *   name: 'my-string',\n *   options: {\n *     myCustomOption: true // this does not give an error anymore\n *   }\n * })\n *\n * ```\n *\n * #### Example: Add a schema definition to \"intrinsic-types\"\n *\n * ```ts\n * //my-custom-type-definition.ts\n *\n * // create a new schema definition based on object (we remove the ability to assign field, change the type add some options)\n *  export type MagicallyAddedDefinition = Omit<Schema.ObjectDefinition, 'type' | 'fields'> & {\n *    type: 'magically-added-type'\n *    options?: {\n *      sparkles?: boolean\n *    }\n *  }\n *\n *  // redeclares sanity module so we can add interfaces props to it\n * declare module 'sanity' {\n *     // redeclares IntrinsicDefinitions and adds a named definition to it\n *     // it is important that the key is the same as the type in the definition ('magically-added-type')\n *     export interface IntrinsicDefinitions {\n *       'magically-added-type': MagicallyAddedDefinition\n *     }\n * }\n *\n * // defineType will now narrow `type: 'magically-added-type'` to `MagicallyAddedDefinition`\n * defineType({\n *   type: 'magically-added-type'\n *   name: 'magic',\n *   options: {\n *     sparkles: true // this is allowed,\n *     //@ts-expect-error this is not allowed in MagicallyAddedDefinition.options\n *     sparks: true\n *   }\n * })\n * ```\n *\n * @param schemaDefinition - should be a valid schema type definition.\n * @param defineOptions - optional param to provide type hints for `schemaDefinition`.\n *\n * @see defineField\n * @see defineArrayMember\n * @see typed\n *\n * @beta\n */\nexport function defineType<\n  const TType extends IntrinsicTypeName | AutocompleteString,\n  const TName extends string,\n  TSelect extends Record<string, string> | undefined,\n  TPrepareValue extends Record<keyof TSelect, any> | undefined,\n  TAlias extends IntrinsicTypeName | undefined,\n  TStrict extends StrictDefinition,\n>(\n  schemaDefinition: {\n    type: TType\n    name: TName\n  } & DefineSchemaBase<TType, TAlias> &\n    NarrowPreview<TType, TAlias, TSelect, TPrepareValue> &\n    MaybeAllowUnknownProps<TStrict>,\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  defineOptions?: DefineSchemaOptions<TStrict, TAlias>,\n): typeof schemaDefinition {\n  return schemaDefinition\n}\n\n/**\n * Define a field within a document, object, image or file definition `fields` array.\n *\n * This function will narrow the schema type down to fields and options based on the provided\n * type-string.\n *\n * Using `defineField` is optional, but should provide improved autocompletion in your IDE, when building your schema.\n * Field-properties like `validation` and `initialValue`will also be more specific.\n *\n * See {@link defineType} for more examples.\n *\n * @param schemaField - should be a valid field type definition.\n * @param defineOptions - optional param to provide type hints for `schemaField`.\n *\n * @see defineField\n * @see defineArrayMember\n * @see typed\n *\n * @beta\n */\nexport function defineField<\n  const TType extends IntrinsicTypeName | AutocompleteString,\n  const TName extends string,\n  TSelect extends Record<string, string> | undefined,\n  TPrepareValue extends Record<keyof TSelect, any> | undefined,\n  TAlias extends IntrinsicTypeName | undefined,\n  TStrict extends StrictDefinition,\n>(\n  schemaField: {\n    type: TType\n    name: TName\n  } & DefineSchemaBase<TType, TAlias> &\n    NarrowPreview<TType, TAlias, TSelect, TPrepareValue> &\n    MaybeAllowUnknownProps<TStrict> &\n    FieldDefinitionBase,\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  defineOptions?: DefineSchemaOptions<TStrict, TAlias>,\n): typeof schemaField & WidenValidation & WidenInitialValue {\n  // TODO: re-evaluate the need for this cast\n  return schemaField as typeof schemaField & WidenValidation & WidenInitialValue\n}\n\n/**\n * Define an array item member type within an array definition `of`-array.\n *\n * This function will narrow the schema type down to fields and options based on the provided\n * `type` string.\n *\n * Using `defineArrayMember` is optional, but should provide improved autocompletion in your IDE, when building your schema.\n * Field properties like `validation` and `initialValue` will also be more specific.\n *\n * See {@link defineType} for example usage.\n *\n * @param arrayOfSchema - should be a valid `array.of` member definition.\n * @param defineOptions - optional param to provide type hints for `arrayOfSchema`.\n *\n * @see defineType\n * @see defineField\n * @see typed\n *\n * @beta\n */\nexport function defineArrayMember<\n  const TType extends IntrinsicTypeName | AutocompleteString,\n  const TName extends string,\n  TSelect extends Record<string, string> | undefined,\n  TPrepareValue extends Record<keyof TSelect, any> | undefined,\n  TAlias extends IntrinsicTypeName | undefined,\n  TStrict extends StrictDefinition,\n>(\n  arrayOfSchema: {\n    type: TType\n    /**\n     * When provided, `name` is used as `_type` for the array item when stored.\n     *\n     * Necessary when an array contains multiple entries with the same `type`, each with\n     * different configuration (title and initialValue for instance).\n     */\n    name?: TName\n  } & DefineArrayMemberBase<TType, TAlias> &\n    NarrowPreview<TType, TAlias, TSelect, TPrepareValue> &\n    MaybeAllowUnknownProps<TStrict>,\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  defineOptions?: DefineSchemaOptions<TStrict, TAlias>,\n): typeof arrayOfSchema & WidenValidation & WidenInitialValue {\n  // TODO: re-evaluate the need for this cast\n  return arrayOfSchema as typeof arrayOfSchema & WidenValidation & WidenInitialValue\n}\n\n/**\n * `typed` can be used to ensure that an object conforms to an exact interface.\n *\n * It can be useful when working with `defineType` and `defineField` on occasions where a wider type with\n * custom options or properties is required.\n *\n * ## Example  usage\n * ```ts\n *  defineField({\n *    type: 'string',\n *    name: 'nestedField',\n *    options: typed<StringOptions & {myCustomOption: boolean}>({\n *      layout: 'radio',\n *      // allowed\n *      myCustomOption: true,\n *      //@ts-expect-error unknownProp is not part of StringOptions & {myCustomOption: boolean}\n *      unknownProp: 'not allowed in typed context',\n *    }),\n *  }),\n * ```\n *\n * @param input - returned directly\n *\n * @internal\n */\nexport function typed<T>(input: T): T {\n  return input\n}\n","/**\n * @public\n */\nexport const searchStrategies = ['groqLegacy', 'textSearch'] as const\n\n/**\n * @public\n */\nexport type SearchStrategy = (typeof searchStrategies)[number]\n","import {searchStrategies, type SearchStrategy} from './types'\n\n/**\n * @internal\n */\nexport function isSearchStrategy(\n  maybeSearchStrategy: unknown,\n): maybeSearchStrategy is SearchStrategy {\n  return searchStrategies.includes(maybeSearchStrategy as SearchStrategy)\n}\n","import {isObject} from '../helpers'\nimport {type Slug} from './types'\n\n/**\n * Checks whether the given `thing` is a slug, eg an object with a `current` string property.\n *\n * @param thing - The thing to check\n * @returns True if slug, false otherwise\n * @public\n */\nexport function isSlug(thing: unknown): thing is Slug {\n  return isObject(thing) && typeof thing.current === 'string'\n}\n","import {type Mutation} from '../mutations'\nimport {type CreateSquashedMutation, type TransactionLogMutation} from './types'\n\n/** @internal */\nexport function isCreateSquashedMutation(\n  mutation: Mutation | TransactionLogMutation,\n): mutation is CreateSquashedMutation {\n  return 'createSquashed' in mutation\n}\n","import {type FormNodeValidation} from './types'\n\n/** @internal */\nexport function isValidationError(\n  node: FormNodeValidation,\n): node is FormNodeValidation & {level: 'error'} {\n  return node.level === 'error'\n}\n\n/** @internal */\nexport function isValidationWarning(\n  node: FormNodeValidation,\n): node is FormNodeValidation & {level: 'warning'} {\n  return node.level === 'warning'\n}\n\n/** @internal */\nexport function isValidationInfo(\n  node: FormNodeValidation,\n): node is FormNodeValidation & {level: 'info'} {\n  return node.level === 'info'\n}\n"],"names":["isRecord"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/node_modules/react-compiler-runtime/src/index.ts"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use no memo';\n\nimport * as React from 'react';\n\nconst {useRef, useEffect, isValidElement} = React;\nconst ReactSecretInternals =\n  //@ts-ignore\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE ??\n  //@ts-ignore\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\ntype MemoCache = Array<number | typeof $empty>;\n\nconst $empty = Symbol.for('react.memo_cache_sentinel');\n\n// Re-export React.c if present, otherwise fallback to the userspace polyfill for versions of React\n// < 19.\nexport const c =\n  // @ts-expect-error\n  typeof React.__COMPILER_RUNTIME?.c === 'function'\n    ? // @ts-expect-error\n      React.__COMPILER_RUNTIME.c\n    : function c(size: number) {\n        return React.useMemo<Array<unknown>>(() => {\n          const $ = new Array(size);\n          for (let ii = 0; ii < size; ii++) {\n            $[ii] = $empty;\n          }\n          // This symbol is added to tell the react devtools that this array is from\n          // useMemoCache.\n          // @ts-ignore\n          $[$empty] = true;\n          return $;\n        }, []);\n      };\n\nconst LazyGuardDispatcher: {[key: string]: (...args: Array<any>) => any} = {};\n[\n  'readContext',\n  'useCallback',\n  'useContext',\n  'useEffect',\n  'useImperativeHandle',\n  'useInsertionEffect',\n  'useLayoutEffect',\n  'useMemo',\n  'useReducer',\n  'useRef',\n  'useState',\n  'useDebugValue',\n  'useDeferredValue',\n  'useTransition',\n  'useMutableSource',\n  'useSyncExternalStore',\n  'useId',\n  'unstable_isNewReconciler',\n  'getCacheSignal',\n  'getCacheForType',\n  'useCacheRefresh',\n].forEach(name => {\n  LazyGuardDispatcher[name] = () => {\n    throw new Error(\n      `[React] Unexpected React hook call (${name}) from a React compiled function. ` +\n        \"Check that all hooks are called directly and named according to convention ('use[A-Z]') \",\n    );\n  };\n});\n\nlet originalDispatcher: unknown = null;\n\n// Allow guards are not emitted for useMemoCache\nLazyGuardDispatcher['useMemoCache'] = (count: number) => {\n  if (originalDispatcher == null) {\n    throw new Error(\n      'React Compiler internal invariant violation: unexpected null dispatcher',\n    );\n  } else {\n    return (originalDispatcher as any).useMemoCache(count);\n  }\n};\n\nenum GuardKind {\n  PushGuardContext = 0,\n  PopGuardContext = 1,\n  PushExpectHook = 2,\n  PopExpectHook = 3,\n}\n\nfunction setCurrent(newDispatcher: any) {\n  ReactSecretInternals.ReactCurrentDispatcher.current = newDispatcher;\n  return ReactSecretInternals.ReactCurrentDispatcher.current;\n}\n\nconst guardFrames: Array<unknown> = [];\n\n/**\n * When `enableEmitHookGuards` is set, this does runtime validation\n * of the no-conditional-hook-calls rule.\n * As React Compiler needs to statically understand which calls to move out of\n * conditional branches (i.e. React Compiler cannot memoize the results of hook\n * calls), its understanding of \"the rules of React\" are more restrictive.\n * This validation throws on unsound inputs at runtime.\n *\n * Components should only be invoked through React as React Compiler could memoize\n * the call to AnotherComponent, introducing conditional hook calls in its\n * compiled output.\n * ```js\n * function Invalid(props) {\n *  const myJsx = AnotherComponent(props);\n *  return <div> { myJsx } </div>;\n * }\n *\n * Hooks must be named as hooks.\n * ```js\n * const renamedHook = useState;\n * function Invalid() {\n *   const [state, setState] = renamedHook(0);\n * }\n * ```\n *\n * Hooks must be directly called.\n * ```\n * function call(fn) {\n *  return fn();\n * }\n * function Invalid() {\n *   const result = call(useMyHook);\n * }\n * ```\n */\nexport function $dispatcherGuard(kind: GuardKind) {\n  const curr = ReactSecretInternals.ReactCurrentDispatcher.current;\n  if (kind === GuardKind.PushGuardContext) {\n    // Push before checking invariant or errors\n    guardFrames.push(curr);\n\n    if (guardFrames.length === 1) {\n      // save if we're the first guard on the stack\n      originalDispatcher = curr;\n    }\n\n    if (curr === LazyGuardDispatcher) {\n      throw new Error(\n        `[React] Unexpected call to custom hook or component from a React compiled function. ` +\n          \"Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') \" +\n          'and (2) components are returned as JSX instead of being directly invoked.',\n      );\n    }\n    setCurrent(LazyGuardDispatcher);\n  } else if (kind === GuardKind.PopGuardContext) {\n    // Pop before checking invariant or errors\n    const lastFrame = guardFrames.pop();\n\n    if (lastFrame == null) {\n      throw new Error(\n        'React Compiler internal error: unexpected null in guard stack',\n      );\n    }\n    if (guardFrames.length === 0) {\n      originalDispatcher = null;\n    }\n    setCurrent(lastFrame);\n  } else if (kind === GuardKind.PushExpectHook) {\n    // ExpectHooks could be nested, so we save the current dispatcher\n    // for the matching PopExpectHook to restore.\n    guardFrames.push(curr);\n    setCurrent(originalDispatcher);\n  } else if (kind === GuardKind.PopExpectHook) {\n    const lastFrame = guardFrames.pop();\n    if (lastFrame == null) {\n      throw new Error(\n        'React Compiler internal error: unexpected null in guard stack',\n      );\n    }\n    setCurrent(lastFrame);\n  } else {\n    throw new Error('React Compiler internal error: unreachable block' + kind);\n  }\n}\n\nexport function $reset($: MemoCache) {\n  for (let ii = 0; ii < $.length; ii++) {\n    $[ii] = $empty;\n  }\n}\n\nexport function $makeReadOnly() {\n  throw new Error('TODO: implement $makeReadOnly in react-compiler-runtime');\n}\n\n/**\n * Instrumentation to count rerenders in React components\n */\nexport const renderCounterRegistry: Map<\n  string,\n  Set<{count: number}>\n> = new Map();\nexport function clearRenderCounterRegistry() {\n  for (const counters of renderCounterRegistry.values()) {\n    counters.forEach(counter => {\n      counter.count = 0;\n    });\n  }\n}\n\nfunction registerRenderCounter(name: string, val: {count: number}) {\n  let counters = renderCounterRegistry.get(name);\n  if (counters == null) {\n    counters = new Set();\n    renderCounterRegistry.set(name, counters);\n  }\n  counters.add(val);\n}\n\nfunction removeRenderCounter(name: string, val: {count: number}): void {\n  const counters = renderCounterRegistry.get(name);\n  if (counters == null) {\n    return;\n  }\n  counters.delete(val);\n}\n\nexport function useRenderCounter(name: string): void {\n  const val = useRef<{count: number}>(null);\n\n  if (val.current != null) {\n    val.current.count += 1;\n  }\n  useEffect(() => {\n    // Not counting initial render shouldn't be a problem\n    if (val.current == null) {\n      const counter = {count: 0};\n      registerRenderCounter(name, counter);\n      // @ts-ignore\n      val.current = counter;\n    }\n    return () => {\n      if (val.current !== null) {\n        removeRenderCounter(name, val.current);\n      }\n    };\n  });\n}\n\nconst seenErrors = new Set();\n\nexport function $structuralCheck(\n  oldValue: any,\n  newValue: any,\n  variableName: string,\n  fnName: string,\n  kind: string,\n  loc: string,\n): void {\n  function error(l: string, r: string, path: string, depth: number) {\n    const str = `${fnName}:${loc} [${kind}] ${variableName}${path} changed from ${l} to ${r} at depth ${depth}`;\n    if (seenErrors.has(str)) {\n      return;\n    }\n    seenErrors.add(str);\n    console.error(str);\n  }\n  const depthLimit = 2;\n  function recur(oldValue: any, newValue: any, path: string, depth: number) {\n    if (depth > depthLimit) {\n      return;\n    } else if (oldValue === newValue) {\n      return;\n    } else if (typeof oldValue !== typeof newValue) {\n      error(`type ${typeof oldValue}`, `type ${typeof newValue}`, path, depth);\n    } else if (typeof oldValue === 'object') {\n      const oldArray = Array.isArray(oldValue);\n      const newArray = Array.isArray(newValue);\n      if (oldValue === null && newValue !== null) {\n        error('null', `type ${typeof newValue}`, path, depth);\n      } else if (newValue === null) {\n        error(`type ${typeof oldValue}`, 'null', path, depth);\n      } else if (oldValue instanceof Map) {\n        if (!(newValue instanceof Map)) {\n          error(`Map instance`, `other value`, path, depth);\n        } else if (oldValue.size !== newValue.size) {\n          error(\n            `Map instance with size ${oldValue.size}`,\n            `Map instance with size ${newValue.size}`,\n            path,\n            depth,\n          );\n        } else {\n          for (const [k, v] of oldValue) {\n            if (!newValue.has(k)) {\n              error(\n                `Map instance with key ${k}`,\n                `Map instance without key ${k}`,\n                path,\n                depth,\n              );\n            } else {\n              recur(v, newValue.get(k), `${path}.get(${k})`, depth + 1);\n            }\n          }\n        }\n      } else if (newValue instanceof Map) {\n        error('other value', `Map instance`, path, depth);\n      } else if (oldValue instanceof Set) {\n        if (!(newValue instanceof Set)) {\n          error(`Set instance`, `other value`, path, depth);\n        } else if (oldValue.size !== newValue.size) {\n          error(\n            `Set instance with size ${oldValue.size}`,\n            `Set instance with size ${newValue.size}`,\n            path,\n            depth,\n          );\n        } else {\n          for (const v of newValue) {\n            if (!oldValue.has(v)) {\n              error(\n                `Set instance without element ${v}`,\n                `Set instance with element ${v}`,\n                path,\n                depth,\n              );\n            }\n          }\n        }\n      } else if (newValue instanceof Set) {\n        error('other value', `Set instance`, path, depth);\n      } else if (oldArray || newArray) {\n        if (oldArray !== newArray) {\n          error(\n            `type ${oldArray ? 'array' : 'object'}`,\n            `type ${newArray ? 'array' : 'object'}`,\n            path,\n            depth,\n          );\n        } else if (oldValue.length !== newValue.length) {\n          error(\n            `array with length ${oldValue.length}`,\n            `array with length ${newValue.length}`,\n            path,\n            depth,\n          );\n        } else {\n          for (let ii = 0; ii < oldValue.length; ii++) {\n            recur(oldValue[ii], newValue[ii], `${path}[${ii}]`, depth + 1);\n          }\n        }\n      } else if (isValidElement(oldValue) || isValidElement(newValue)) {\n        if (isValidElement(oldValue) !== isValidElement(newValue)) {\n          error(\n            `type ${isValidElement(oldValue) ? 'React element' : 'object'}`,\n            `type ${isValidElement(newValue) ? 'React element' : 'object'}`,\n            path,\n            depth,\n          );\n        } else if (oldValue.type !== newValue.type) {\n          error(\n            `React element of type ${oldValue.type}`,\n            `React element of type ${newValue.type}`,\n            path,\n            depth,\n          );\n        } else {\n          recur(\n            oldValue.props,\n            newValue.props,\n            `[props of ${path}]`,\n            depth + 1,\n          );\n        }\n      } else {\n        for (const key in newValue) {\n          if (!(key in oldValue)) {\n            error(\n              `object without key ${key}`,\n              `object with key ${key}`,\n              path,\n              depth,\n            );\n          }\n        }\n        for (const key in oldValue) {\n          if (!(key in newValue)) {\n            error(\n              `object with key ${key}`,\n              `object without key ${key}`,\n              path,\n              depth,\n            );\n          } else {\n            recur(oldValue[key], newValue[key], `${path}.${key}`, depth + 1);\n          }\n        }\n      }\n    } else if (typeof oldValue === 'function') {\n      // Bail on functions for now\n      return;\n    } else if (isNaN(oldValue) || isNaN(newValue)) {\n      if (isNaN(oldValue) !== isNaN(newValue)) {\n        error(\n          `${isNaN(oldValue) ? 'NaN' : 'non-NaN value'}`,\n          `${isNaN(newValue) ? 'NaN' : 'non-NaN value'}`,\n          path,\n          depth,\n        );\n      }\n    } else if (oldValue !== newValue) {\n      error(oldValue, newValue, path, depth);\n    }\n  }\n  recur(oldValue, newValue, '', 0);\n}\n"],"names":["React"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"file":"paths.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/paths.ts"],"sourcesContent":["import {\n  type IndexTuple,\n  isIndexSegment,\n  isIndexTuple,\n  isKeySegment,\n  type KeyedSegment,\n  type Path,\n  type PathSegment,\n} from '@sanity/types'\n\nconst rePropName =\n  /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/\nconst EMPTY_PATH: Path = []\n\nexport const FOCUS_TERMINATOR = '$'\n\n// Fields named as GROQ data types cannot be accessed using dot notation. These fields must instead\n// be serialized using square bracket notation.\nconst GROQ_DATA_TYPE_VALUES = ['true', 'false', 'null']\n\nexport function get<R>(obj: unknown, path: Path | string): R | undefined\nexport function get<R>(obj: unknown, path: Path | string, defaultValue: R): R\nexport function get(obj: unknown, path: Path | string, defaultVal?: unknown): unknown {\n  const select = typeof path === 'string' ? fromString(path) : path\n  if (!Array.isArray(select)) {\n    throw new Error('Path must be an array or a string')\n  }\n\n  let acc: unknown | undefined = obj\n  for (let i = 0; i < select.length; i++) {\n    const segment = select[i]\n    if (isIndexSegment(segment)) {\n      if (!Array.isArray(acc)) {\n        return defaultVal\n      }\n\n      acc = acc[segment]\n    }\n\n    if (isKeySegment(segment)) {\n      if (!Array.isArray(acc)) {\n        return defaultVal\n      }\n\n      acc = acc.find((item) => item._key === segment._key)\n    }\n\n    if (typeof segment === 'string') {\n      acc =\n        typeof acc === 'object' && acc !== null\n          ? ((acc as Record<string, unknown>)[segment] as Record<string, unknown>)\n          : undefined\n    }\n\n    if (typeof acc === 'undefined') {\n      return defaultVal\n    }\n  }\n\n  return acc\n}\n\nconst pathsMemo = new Map<string, Path>()\nexport function pathFor(path: Path): Path {\n  if (path.length === 0) {\n    return EMPTY_PATH\n  }\n  const asString = toString(path)\n  if (pathsMemo.has(asString)) {\n    return pathsMemo.get(asString)!\n  }\n  pathsMemo.set(asString, path)\n  Object.freeze(path)\n  return path\n}\n\nexport function isEqual(path: Path, otherPath: Path): boolean {\n  return (\n    path.length === otherPath.length &&\n    path.every((segment, i) => isSegmentEqual(segment, otherPath[i]))\n  )\n}\n\nexport function numEqualSegments(path: Path, otherPath: Path): number {\n  const length = Math.min(path.length, otherPath.length)\n  for (let i = 0; i < length; i++) {\n    if (!isSegmentEqual(path[i], otherPath[i])) {\n      return i\n    }\n  }\n  return length\n}\n\nexport function isSegmentEqual(segmentA: PathSegment, segmentB: PathSegment): boolean {\n  if (isKeySegment(segmentA) && isKeySegment(segmentB)) {\n    return segmentA._key === segmentB._key\n  }\n\n  if (isIndexSegment(segmentA)) {\n    return Number(segmentA) === Number(segmentB)\n  }\n\n  if (isIndexTuple(segmentA) && isIndexTuple(segmentB)) {\n    return segmentA[0] === segmentB[0] && segmentA[1] === segmentB[1]\n  }\n\n  return segmentA === segmentB\n}\n\nexport function hasFocus(focusPath: Path, path: Path): boolean {\n  const withoutTerminator =\n    focusPath[focusPath.length - 1] === FOCUS_TERMINATOR ? focusPath.slice(0, -1) : focusPath\n  return isEqual(withoutTerminator, path)\n}\n\nexport function hasItemFocus(focusPath: Path, item: PathSegment): boolean {\n  return focusPath.length === 1 && isSegmentEqual(focusPath[0], item)\n}\n\nexport function isExpanded(segment: PathSegment, focusPath: Path): boolean {\n  const [head, ...tail] = focusPath\n  return tail.length > 0 && isSegmentEqual(segment, head)\n}\n\nexport function startsWith(prefix: Path, path: Path): boolean {\n  return prefix.every((segment, i) => isSegmentEqual(segment, path[i]))\n}\n\nexport function trimLeft(prefix: Path, path: Path): Path {\n  if (prefix.length === 0 || path.length === 0) {\n    return path\n  }\n  const [prefixHead, ...prefixTail] = prefix\n  const [pathHead, ...pathTail] = path\n  if (!isSegmentEqual(prefixHead, pathHead)) {\n    return path\n  }\n  return pathFor(trimLeft(prefixTail, pathTail))\n}\n\nexport function trimRight(suffix: Path, path: Path): Path {\n  const sufLen = suffix.length\n  const pathLen = path.length\n  if (sufLen === 0 || pathLen === 0) {\n    return path\n  }\n\n  let i = 0\n  while (\n    i < sufLen &&\n    i < pathLen &&\n    isSegmentEqual(path[pathLen - i - 1], suffix[sufLen - i - 1])\n  ) {\n    i++\n  }\n\n  return pathFor(path.slice(0, pathLen - i))\n}\n\nexport function trimChildPath(path: Path, childPath: Path): Path {\n  return startsWith(path, childPath) ? trimLeft(path, childPath) : EMPTY_PATH\n}\n\nexport function toString(path: Path): string {\n  if (!Array.isArray(path)) {\n    throw new Error('Path is not an array')\n  }\n\n  return path.reduce<string>((target, segment, i) => {\n    const isHead = i === 0\n\n    if (typeof segment === 'number') {\n      return `${target}[${segment}]`\n    }\n\n    if (typeof segment === 'string') {\n      if (isHead) {\n        return segment\n      }\n\n      if (GROQ_DATA_TYPE_VALUES.includes(segment)) {\n        return `${target}[\"${segment}\"]`\n      }\n\n      return `${target}.${segment}`\n    }\n\n    if (isKeySegment(segment) && segment._key) {\n      return `${target}[_key==\"${segment._key}\"]`\n    }\n\n    if (Array.isArray(segment)) {\n      const [from, to] = segment\n      return `${target}[${from}:${to}]`\n    }\n\n    throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``)\n  }, '')\n}\n\nexport function _resolveKeyedPath(value: unknown, path: Path): Path {\n  if (path.length === 0) {\n    return path\n  }\n  const [next, ...rest] = path\n  if (typeof next === 'number') {\n    if (!Array.isArray(value) || !(next in value)) {\n      return []\n    }\n    const item = value[next]\n    const key = item?._key\n    return [typeof key === 'string' ? {_key: item._key} : next, ..._resolveKeyedPath(item, rest)]\n  }\n  const nextVal = get(value, [next])\n  return [next, ..._resolveKeyedPath(nextVal, rest)]\n}\n\n/**\n * Takes a value and a path that may include numeric indices and attempts to replace numeric indices with keyed paths\n *\n * @param value - any json value\n * @param path - a Path that may include numeric indices\n * @returns a path where numeric indices has been replaced by keyed segments (e.g. `{_key: <key>}`)\n * Will do as good attempt as possible, but in case of missing array items, it will return the best possible match:\n * - `resolveKeyedPath([0, 'bar'], [])` will return [] since array has no value at index 0\n * - `resolveKeyedPath([0, 'foo'], [{_key: 'xyz', 'foo': 'bar'}, {_key: 'abc'}])` will return `[{_key: 'xyz'}, 'foo']` since array has no value at index 0\n * - `resolveKeyedPath([0, 'foo', 'bar'], [{_key: 'xyz'}])` will return `[{_key: 'xyz'}, 'foo', 'bar']` since array has no value at index 0\n * Object keys will be preserved as-is, e.g. `resolveKeyedPath(['foo', 'bar'], undefined)` will return `['foo', 'bar']`\n */\nexport function resolveKeyedPath(value: unknown, path: Path): Path {\n  if (!Array.isArray(path)) {\n    throw new Error('Path is not an array')\n  }\n  return pathFor(_resolveKeyedPath(value, path))\n}\n\nexport function fromString(path: string): Path {\n  if (typeof path !== 'string') {\n    throw new Error('Path is not a string')\n  }\n\n  const segments = path.match(rePropName)\n  if (!segments) {\n    throw new Error('Invalid path string')\n  }\n\n  return segments.map(normalizePathSegment)\n}\n\nfunction normalizePathSegment(segment: string): PathSegment {\n  if (isIndexSegment(segment)) {\n    return normalizeIndexSegment(segment)\n  }\n\n  if (isKeySegment(segment)) {\n    return normalizeKeySegment(segment)\n  }\n\n  if (isIndexTuple(segment)) {\n    return normalizeIndexTupleSegment(segment)\n  }\n\n  return segment\n}\n\nfunction normalizeIndexSegment(segment: string): PathSegment {\n  return Number(segment.replace(/[^\\d]/g, ''))\n}\n\nfunction normalizeKeySegment(segment: string): KeyedSegment {\n  const segments = segment.match(reKeySegment)\n  return {_key: segments![1]}\n}\n\nfunction normalizeIndexTupleSegment(segment: string): IndexTuple {\n  const [from, to] = segment.split(':').map((seg) => (seg === '' ? seg : Number(seg)))\n  return [from, to]\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAUA,MAAM,aACJ,oGACI,eAAe,4BACf,aAAmB,CAAC,CAAA,EAEb,mBAAmB,KAI1B,wBAAwB;IAAC;IAAQ;IAAS,MAAM;CAAA;AAItC,SAAA,IAAI,GAAA,EAAc,IAAA,EAAqB,UAAA,EAA+B;IACpF,MAAM,SAAS,OAAO,QAAS,WAAW,WAAW,IAAI,IAAI;IACzD,IAAA,CAAC,MAAM,OAAA,CAAQ,MAAM,GACjB,MAAA,IAAI,MAAM,mCAAmC;IAGrD,IAAI,MAA2B;IAC/B,IAAA,IAAS,IAAI,GAAG,IAAI,OAAO,MAAA,EAAQ,IAAK;QAChC,MAAA,UAAU,MAAA,CAAO,CAAC,CAAA;QACpB,2JAAA,iBAAA,EAAe,OAAO,GAAG;YACvB,IAAA,CAAC,MAAM,OAAA,CAAQ,GAAG,GACb,OAAA;YAGT,MAAM,GAAA,CAAI,OAAO,CAAA;QAAA;QAGf,0JAAA,gBAAA,EAAa,OAAO,GAAG;YACrB,IAAA,CAAC,MAAM,OAAA,CAAQ,GAAG,GACb,OAAA;YAGT,MAAM,IAAI,IAAA,CAAK,CAAC,OAAS,KAAK,IAAA,KAAS,QAAQ,IAAI;QAAA;QAUrD,IAPI,OAAO,WAAY,YAAA,CACrB,MACE,OAAO,OAAQ,YAAY,QAAQ,OAC7B,GAAA,CAAgC,OAAO,CAAA,GACzC,KAAA,CAAA,GAGJ,OAAO,MAAQ,KACV,OAAA;IAAA;IAIJ,OAAA;AACT;AAEA,MAAM,YAAA,aAAA,GAAA,IAAgB,IAAkB;AACjC,SAAS,QAAQ,IAAA,EAAkB;IACxC,IAAI,KAAK,MAAA,KAAW,GACX,OAAA;IAEH,MAAA,WAAW,SAAS,IAAI;IAC9B,OAAI,UAAU,GAAA,CAAI,QAAQ,IACjB,UAAU,GAAA,CAAI,QAAQ,IAAA,CAE/B,UAAU,GAAA,CAAI,UAAU,IAAI,GAC5B,OAAO,MAAA,CAAO,IAAI,GACX,IAAA;AACT;AAEgB,SAAA,QAAQ,IAAA,EAAY,SAAA,EAA0B;IAC5D,OACE,KAAK,MAAA,KAAW,UAAU,MAAA,IAC1B,KAAK,KAAA,CAAM,CAAC,SAAS,IAAM,eAAe,SAAS,SAAA,CAAU,CAAC,CAAC,CAAC;AAEpE;AAEgB,SAAA,iBAAiB,IAAA,EAAY,SAAA,EAAyB;IACpE,MAAM,SAAS,KAAK,GAAA,CAAI,KAAK,MAAA,EAAQ,UAAU,MAAM;IAC5C,IAAA,IAAA,IAAI,GAAG,IAAI,QAAQ,IAC1B,IAAI,CAAC,eAAe,IAAA,CAAK,CAAC,CAAA,EAAG,SAAA,CAAU,CAAC,CAAC,GAChC,OAAA;IAGJ,OAAA;AACT;AAEgB,SAAA,eAAe,QAAA,EAAuB,QAAA,EAAgC;IACpF,8JAAI,eAAA,EAAa,QAAQ,4JAAK,eAAA,EAAa,QAAQ,IAC1C,SAAS,IAAA,KAAS,SAAS,IAAA,0JAGhC,iBAAA,EAAe,QAAQ,IAClB,OAAO,QAAQ,MAAM,OAAO,QAAQ,2JAGzC,eAAA,EAAa,QAAQ,4JAAK,eAAA,EAAa,QAAQ,IAC1C,QAAA,CAAS,CAAC,CAAA,KAAM,QAAA,CAAS,CAAC,CAAA,IAAK,QAAA,CAAS,CAAC,CAAA,KAAM,QAAA,CAAS,CAAC,CAAA,GAG3D,aAAa;AACtB;AAEgB,SAAA,SAAS,SAAA,EAAiB,IAAA,EAAqB;IACvD,MAAA,oBACJ,SAAA,CAAU,UAAU,MAAA,GAAS,CAAC,CAAA,KAAM,mBAAmB,UAAU,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI;IAC3E,OAAA,QAAQ,mBAAmB,IAAI;AACxC;AAEgB,SAAA,aAAa,SAAA,EAAiB,IAAA,EAA4B;IACxE,OAAO,UAAU,MAAA,KAAW,KAAK,eAAe,SAAA,CAAU,CAAC,CAAA,EAAG,IAAI;AACpE;AAEgB,SAAA,WAAW,OAAA,EAAsB,SAAA,EAA0B;IACzE,MAAM,CAAC,MAAM,GAAG,IAAI,CAAA,GAAI;IACxB,OAAO,KAAK,MAAA,GAAS,KAAK,eAAe,SAAS,IAAI;AACxD;AAEgB,SAAA,WAAW,MAAA,EAAc,IAAA,EAAqB;IACrD,OAAA,OAAO,KAAA,CAAM,CAAC,SAAS,IAAM,eAAe,SAAS,IAAA,CAAK,CAAC,CAAC,CAAC;AACtE;AAEgB,SAAA,SAAS,MAAA,EAAc,IAAA,EAAkB;IACvD,IAAI,OAAO,MAAA,KAAW,KAAK,KAAK,MAAA,KAAW,GAClC,OAAA;IAEH,MAAA,CAAC,YAAY,GAAG,UAAU,CAAA,GAAI,QAC9B,CAAC,UAAU,GAAG,QAAQ,CAAA,GAAI;IAC3B,OAAA,eAAe,YAAY,QAAQ,IAGjC,QAAQ,SAAS,YAAY,QAAQ,CAAC,IAFpC;AAGX;AAEgB,SAAA,UAAU,MAAA,EAAc,IAAA,EAAkB;IACxD,MAAM,SAAS,OAAO,MAAA,EAChB,UAAU,KAAK,MAAA;IACjB,IAAA,WAAW,KAAK,YAAY,GACvB,OAAA;IAGT,IAAI,IAAI;IACR,MACE,IAAI,UACJ,IAAI,WACJ,eAAe,IAAA,CAAK,UAAU,IAAI,CAAC,CAAA,EAAG,MAAA,CAAO,SAAS,IAAI,CAAC,CAAC,GAE5D;IAGF,OAAO,QAAQ,KAAK,KAAA,CAAM,GAAG,UAAU,CAAC,CAAC;AAC3C;AAEgB,SAAA,cAAc,IAAA,EAAY,SAAA,EAAuB;IAC/D,OAAO,WAAW,MAAM,SAAS,IAAI,SAAS,MAAM,SAAS,IAAI;AACnE;AAEO,SAAS,SAAS,IAAA,EAAoB;IACvC,IAAA,CAAC,MAAM,OAAA,CAAQ,IAAI,GACf,MAAA,IAAI,MAAM,sBAAsB;IAGxC,OAAO,KAAK,MAAA,CAAe,CAAC,QAAQ,SAAS,MAAM;QACjD,MAAM,SAAS,MAAM;QAErB,IAAI,OAAO,WAAY,UACd,OAAA,GAAG,MAAM,CAAA,CAAA,EAAI,OAAO,CAAA,CAAA,CAAA;QAG7B,IAAI,OAAO,WAAY,UACrB,OAAI,SACK,UAGL,sBAAsB,QAAA,CAAS,OAAO,IACjC,GAAG,MAAM,CAAA,EAAA,EAAK,OAAO,CAAA,EAAA,CAAA,GAGvB,GAAG,MAAM,CAAA,CAAA,EAAI,OAAO,EAAA;QAGzB,2JAAA,eAAA,EAAa,OAAO,KAAK,QAAQ,IAAA,EACnC,OAAO,GAAG,MAAM,CAAA,QAAA,EAAW,QAAQ,IAAI,CAAA,EAAA,CAAA;QAGrC,IAAA,MAAM,OAAA,CAAQ,OAAO,GAAG;YACpB,MAAA,CAAC,MAAM,EAAE,CAAA,GAAI;YACnB,OAAO,GAAG,MAAM,CAAA,CAAA,EAAI,IAAI,CAAA,CAAA,EAAI,EAAE,CAAA,CAAA,CAAA;QAAA;QAGhC,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8B,KAAK,SAAA,CAAU,OAAO,CAAC,CAAA,EAAA,CAAI;IAAA,GACxE,EAAE;AACP;AAEgB,SAAA,kBAAkB,KAAA,EAAgB,IAAA,EAAkB;IAClE,IAAI,KAAK,MAAA,KAAW,GACX,OAAA;IAET,MAAM,CAAC,MAAM,GAAG,IAAI,CAAA,GAAI;IACpB,IAAA,OAAO,QAAS,UAAU;QAC5B,IAAI,CAAC,MAAM,OAAA,CAAQ,KAAK,KAAK,CAAA,CAAE,QAAQ,KAAA,GACrC,OAAO,CAAC,CAAA;QAEJ,MAAA,OAAO,KAAA,CAAM,IAAI,CAAA;QAEvB,OAAO;YAAC,OADI,MAAM,QACK,WAAW;gBAAC,MAAM,KAAK,IAAA;YAAA,IAAQ,MAAM;eAAG,kBAAkB,MAAM,IAAI,CAAC;SAAA;IAAA;IAE9F,MAAM,UAAU,IAAI,OAAO;QAAC,IAAI;KAAC;IACjC,OAAO;QAAC,MAAM;WAAG,kBAAkB,SAAS,IAAI,CAAC;KAAA;AACnD;AAcgB,SAAA,iBAAiB,KAAA,EAAgB,IAAA,EAAkB;IAC7D,IAAA,CAAC,MAAM,OAAA,CAAQ,IAAI,GACf,MAAA,IAAI,MAAM,sBAAsB;IAExC,OAAO,QAAQ,kBAAkB,OAAO,IAAI,CAAC;AAC/C;AAEO,SAAS,WAAW,IAAA,EAAoB;IAC7C,IAAI,OAAO,QAAS,UACZ,MAAA,IAAI,MAAM,sBAAsB;IAGlC,MAAA,WAAW,KAAK,KAAA,CAAM,UAAU;IACtC,IAAI,CAAC,UACG,MAAA,IAAI,MAAM,qBAAqB;IAGhC,OAAA,SAAS,GAAA,CAAI,oBAAoB;AAC1C;AAEA,SAAS,qBAAqB,OAAA,EAA8B;IAC1D,8JAAI,iBAAA,EAAe,OAAO,IACjB,sBAAsB,OAAO,KAGlC,qKAAA,EAAa,OAAO,IACf,oBAAoB,OAAO,2JAGhC,eAAA,EAAa,OAAO,IACf,2BAA2B,OAAO,IAGpC;AACT;AAEA,SAAS,sBAAsB,OAAA,EAA8B;IAC3D,OAAO,OAAO,QAAQ,OAAA,CAAQ,UAAU,EAAE,CAAC;AAC7C;AAEA,SAAS,oBAAoB,OAAA,EAA+B;IAE1D,OAAO;QAAC,MADS,QAAQ,KAAA,CAAM,YAAY,CAAA,CACnB,CAAC,CAAA;IAAC;AAC5B;AAEA,SAAS,2BAA2B,OAAA,EAA6B;IAC/D,MAAM,CAAC,MAAM,EAAE,CAAA,GAAI,QAAQ,KAAA,CAAM,GAAG,EAAE,GAAA,CAAI,CAAC,MAAS,QAAQ,KAAK,MAAM,OAAO,GAAG,CAAE;IAC5E,OAAA;QAAC;QAAM,EAAE;KAAA;AAClB","ignoreList":[0]}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"file":"content.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/hasOwn.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/isDeepEmpty.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/isShallowEmptyObject.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/randomKey.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/resolveJSType.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/content/resolveTypeName.ts"],"sourcesContent":["export default Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty)\n","import hasOwn from './hasOwn'\n\nfunction isDeepEmptyObject(value: {[key: string]: any}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && !isDeepEmpty(value[key])) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction isDeepEmptyArray(value: unknown[]): boolean {\n  for (let i = 0; i < value.length; i++) {\n    if (!isDeepEmpty(value[i])) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Looks at the value and determines if it is deeply empty while not considering _type and _key attributes on objects.\n * A value will be considered deeply empty if it is:\n *  - undefined or null\n *  - an object where all property values are deeply empty\n *  - an array where all items are deeply empty\n * @param value - the value to check for deep emptiness\n */\nexport function isDeepEmpty(value: unknown): boolean {\n  if (value === undefined || value === null) {\n    return true\n  }\n  const type = typeof value\n\n  if (Array.isArray(value)) {\n    return isDeepEmptyArray(value)\n  }\n  if (type === 'object') {\n    return isDeepEmptyObject(value)\n  }\n  return false\n}\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmptyArray = isDeepEmptyArray\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmpty = isDeepEmpty\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmptyObject = isDeepEmptyObject\n","import hasOwn from './hasOwn'\n\nexport function isShallowEmptyObject(value: {[key: string]: unknown}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && value[key] !== undefined) {\n      return false\n    }\n  }\n  return true\n}\n","import getRandomValues from 'get-random-values-esm'\n\nconst getByteHexTable = (() => {\n  let table: any[]\n  return () => {\n    if (table) {\n      return table\n    }\n\n    table = []\n    for (let i = 0; i < 256; ++i) {\n      table[i] = (i + 0x100).toString(16).slice(1)\n    }\n    return table\n  }\n})()\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nexport function randomKey(length?: number): string {\n  const table = getByteHexTable()\n  return whatwgRNG(length)\n    .reduce((str, n) => str + table[n], '')\n    .slice(0, length)\n}\n","const toString = Object.prototype.toString\n// Copied from https://github.com/ForbesLindesay/type-of, but inlined to have fine grained control\n\nexport function resolveJSType(val: unknown) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (typeof val == 'object' && val && typeof (val as any).length == 'number') {\n    try {\n      if (typeof (val as any).callee == 'function') {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    } catch (ex) {\n      if (ex instanceof TypeError) {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    }\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (val && (val as any).nodeType === 1) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","import {resolveJSType} from './resolveJSType'\n\nexport function resolveTypeName(value: unknown): string {\n  const jsType = resolveJSType(value)\n  if (jsType !== 'object') {\n    return jsType\n  }\n\n  const obj = value as Record<string, unknown> & {_type?: string}\n  return ('_type' in obj && obj._type) || jsType\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,IAAA,SAAe,OAAO,SAAA,CAAU,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,OAAO,SAAA,CAAU,cAAc;ACExF,SAAS,kBAAkB,KAAA,EAAsC;IAC/D,IAAA,MAAW,OAAO,MAChB,IAAI,CAAA,CAAQ,QAAA,WAAW,QAAQ,MAAA,KAG3B,OAAO,OAAO,GAAG,KAAK,CAAC,YAAY,KAAA,CAAM,GAAG,CAAC,GACxC,OAAA,CAAA;IAGJ,OAAA,CAAA;AACT;AAEA,SAAS,iBAAiB,KAAA,EAA2B;IACnD,IAAA,IAAS,IAAI,GAAG,IAAI,MAAM,MAAA,EAAQ,IAChC,IAAI,CAAC,YAAY,KAAA,CAAM,CAAC,CAAC,GAChB,OAAA,CAAA;IAGJ,OAAA,CAAA;AACT;AAUO,SAAS,YAAY,KAAA,EAAyB;IACnD,IAA2B,SAAU,MAC5B,OAAA,CAAA;IAET,MAAM,OAAO,OAAO;IAEhB,OAAA,MAAM,OAAA,CAAQ,KAAK,IACd,iBAAiB,KAAK,IAE3B,SAAS,WACJ,kBAAkB,KAAK,IAEzB,CAAA;AACT;AAMO,MAAM,eAAe,kBAMf,UAAU,aAMV,gBAAgB;AC5DtB,SAAS,qBAAqB,KAAA,EAA0C;IAC7E,IAAA,MAAW,OAAO,MACZ,IAAA,CAAA,CAAA,QAAQ,WAAW,QAAQ,MAAA,KAG3B,OAAO,OAAO,GAAG,KAAK,KAAA,CAAM,GAAG,CAAA,KAAM,KAAA,GAChC,OAAA,CAAA;IAGJ,OAAA,CAAA;AACT;ACVA,MAAM,kBAAyB,aAAA,GAAA,CAAA,MAAA;IACzB,IAAA;IACJ,OAAO,MAAM;QACP,IAAA,OACK,OAAA;QAGT,QAAQ,CAAC,CAAA;QACT,IAAA,IAAS,IAAI,GAAG,IAAI,KAAK,EAAE,EACnB,KAAA,CAAA,CAAC,CAAA,GAAA,CAAK,IAAI,GAAA,EAAO,QAAA,CAAS,EAAE,EAAE,KAAA,CAAM,CAAC;QAEtC,OAAA;IACT;AACF,CAAA,EAAG;AAGH,SAAS,UAAU,SAAS,EAAA,EAAI;IACxB,MAAA,QAAQ,IAAI,WAAW,MAAM;IACnC,OAAA,uKAAA,EAAgB,KAAK,GACd;AACT;AAEO,SAAS,UAAU,MAAA,EAAyB;IACjD,MAAM,QAAQ,gBAAgB;IAC9B,OAAO,UAAU,MAAM,EACpB,MAAA,CAAO,CAAC,KAAK,IAAM,MAAM,KAAA,CAAM,CAAC,CAAA,EAAG,EAAE,EACrC,KAAA,CAAM,GAAG,MAAM;AACpB;AC7BA,MAAM,WAAW,OAAO,SAAA,CAAU,QAAA;AAG3B,SAAS,cAAc,GAAA,EAAc;IAClC,OAAA,SAAS,IAAA,CAAK,GAAG,GAAG;QAC1B,KAAK;YACI,OAAA;QACT,KAAK;YACI,OAAA;QACT,KAAK;YACI,OAAA;QACT,KAAK;YACI,OAAA;QACT,KAAK;YACI,OAAA;QACT,KAAK;YACI,OAAA;IACT;IAGF,IAAI,OAAO,OAAO,YAAY,OAAO,OAAQ,IAAY,MAAA,IAAU,UAC7D,IAAA;QACE,IAAA,OAAQ,IAAY,MAAA,IAAU,YAEzB,OAAA;IAAA,EAAA,OAEF,IAAI;QACX,IAAI,cAAc,WAET,OAAA;IAAA;IAKb,OAAI,QAAQ,OACH,SAGL,QAAQ,KAAA,IACH,cAGL,OAAQ,IAAY,QAAA,KAAa,IAC5B,YAGL,QAAQ,OAAO,GAAG,IACb,WAGF,OAAO;AAChB;ACjDO,SAAS,gBAAgB,KAAA,EAAwB;IAChD,MAAA,SAAS,cAAc,KAAK;IAClC,IAAI,WAAW,UACN,OAAA;IAGT,MAAM,MAAM;IACJ,OAAA,WAAW,OAAO,IAAI,KAAA,IAAU;AAC1C","ignoreList":[0,1,2,3,4,5]}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"file":"legacyDateFormat.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/legacyDateFormat.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-shadow */\nimport moment from 'moment'\n\nexport const DEFAULT_DATE_FORMAT = 'YYYY-MM-DD'\nexport const DEFAULT_TIME_FORMAT = 'HH:mm'\n\nexport type ParseResult = {isValid: boolean; date?: Date; error?: string} & (\n  | {isValid: true; date: Date}\n  | {isValid: false; error?: string}\n)\n\n// todo: find a way to get rid of moment there.\n// note: the format comes from peoples schema types, so we need to deprecate it for a while and\n// find a way to tell people that they need to change it\nexport function format(input: Date, format: string, useUTC = false) {\n  if (useUTC) return moment.utc(input).format(format)\n\n  return moment(input).format(format)\n}\n\nexport function parse(dateString: string, format: string): ParseResult {\n  const parsed = moment(dateString, format, true)\n  if (parsed.isValid()) {\n    return {isValid: true, date: parsed.toDate()}\n  }\n  return {isValid: false, error: `Invalid date. Must be on the format \"${format}\"`}\n}\n"],"names":["format"],"mappings":";;;;;;;;AAGa,MAAA,sBAAsB,cACtB,sBAAsB;AAU5B,SAAS,OAAO,KAAA,EAAaA,OAAAA,EAAgB,SAAS,CAAA,CAAA,EAAO;IAClE,OAAI,0IAAe,UAAA,CAAO,GAAA,CAAI,KAAK,EAAE,MAAA,CAAOA,OAAM,yIAE3C,UAAA,EAAO,KAAK,EAAE,MAAA,CAAOA,OAAM;AACpC;AAEgB,SAAA,MAAM,UAAA,EAAoBA,OAAAA,EAA6B;IACrE,MAAM,UAAS,8IAAA,EAAO,YAAYA,SAAQ,CAAA,CAAI;IAC9C,OAAI,OAAO,OAAA,KACF;QAAC,SAAS,CAAA;QAAM,MAAM,OAAO,MAAA,CAAO;IAAA,IAEtC;QAAC,SAAS,CAAA;QAAO,OAAO,CAAA,qCAAA,EAAwCA,OAAM,CAAA,CAAA,CAAA;IAAG;AAClF","ignoreList":[0]}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"file":"concurrency-limiter.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/concurrency-limiter.ts"],"sourcesContent":["/**\n * ConcurrencyLimiter manages the number of concurrent operations that can be performed.\n * It ensures that the number of operations does not exceed a specified maximum limit.\n */\nexport class ConcurrencyLimiter {\n  current = 0\n  resolvers: Array<() => void> = []\n  constructor(public max: number) {}\n\n  /**\n   * Indicates when a slot for a new operation is ready.\n   * If under the limit, it resolves immediately; otherwise, it waits until a slot is free.\n   */\n  ready = (): Promise<void> => {\n    if (this.max === Infinity) return Promise.resolve()\n\n    if (this.current < this.max) {\n      this.current++\n      return Promise.resolve()\n    }\n\n    return new Promise<void>((resolve) => {\n      this.resolvers.push(resolve)\n    })\n  }\n\n  /**\n   * Releases a slot, decrementing the current count of operations if nothing is in the queue.\n   * If there are operations waiting, it allows the next one in the queue to proceed.\n   */\n  release = (): void => {\n    if (this.max === Infinity) return\n\n    const nextResolver = this.resolvers.shift()\n    if (nextResolver) {\n      nextResolver()\n      return\n    }\n\n    this.current = Math.max(0, this.current - 1)\n  }\n}\n"],"names":[],"mappings":";;;AAIO,MAAM,mBAAmB;IAG9B,YAAmB,GAAA,CAAa;QAAb,IAAA,CAAA,GAAA,GAAA;IAAA;IAFnB,UAAU,EAAA;IACV,YAA+B,CAAC,CAAA,CAAA;IAAA;;;GAAA,GAOhC,QAAQ,IACF,IAAA,CAAK,GAAA,KAAQ,IAAA,IAAiB,QAAQ,OAAA,KAEtC,IAAA,CAAK,OAAA,GAAU,IAAA,CAAK,GAAA,GAAA,CACtB,IAAA,CAAK,OAAA,IACE,QAAQ,OAAA,EAAA,IAGV,IAAI,QAAc,CAAC,YAAY;YAC/B,IAAA,CAAA,SAAA,CAAU,IAAA,CAAK,OAAO;QAAA,CAC5B,EAAA;IAAA;;;GAAA,GAOH,UAAU,MAAY;QAChB,IAAA,IAAA,CAAK,GAAA,KAAQ,IAAA,EAAU,CAAA;QAErB,MAAA,eAAe,IAAA,CAAK,SAAA,CAAU,KAAA,CAAM;QAC1C,IAAI,cAAc;YACH,aAAA;YACb;QAAA;QAGF,IAAA,CAAK,OAAA,GAAU,KAAK,GAAA,CAAI,GAAG,IAAA,CAAK,OAAA,GAAU,CAAC;IAC7C,EAAA;AACF","ignoreList":[0]}},
    {"offset": {"line": 848, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"file":"client.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/util/src/client/concurrency-limiter/createClientConcurrencyLimiter.ts"],"sourcesContent":["import {type ObservableSanityClient, type SanityClient} from '@sanity/client'\nimport {finalize, from, switchMap} from 'rxjs'\n\nimport {ConcurrencyLimiter} from '../../concurrency-limiter'\n\n/**\n * Decorates a sanity client to limit the concurrency of `client.fetch`\n * requests. Keeps the concurrency limit state and returns wrapped clients with\n * that same state if the `clone` `config` or `withConfig` methods are called.\n */\nexport function createClientConcurrencyLimiter(\n  maxConcurrency: number,\n): (input: SanityClient) => SanityClient {\n  const limiter = new ConcurrencyLimiter(maxConcurrency)\n\n  function wrapClient(client: SanityClient): SanityClient {\n    return new Proxy(client, {\n      get: (target, property) => {\n        switch (property) {\n          case 'fetch': {\n            return async (...args: Parameters<SanityClient['fetch']>) => {\n              await limiter.ready()\n              try {\n                // note we want to await before we return so the finally block\n                // will run after the promise has been fulfilled or rejected\n                return await target.fetch(...args)\n              } finally {\n                limiter.release()\n              }\n            }\n          }\n          case 'clone': {\n            return (...args: Parameters<SanityClient['clone']>) => {\n              return wrapClient(target.clone(...args))\n            }\n          }\n          case 'config': {\n            return (...args: Parameters<SanityClient['config']>) => {\n              const result = target.config(...args)\n\n              // if there is a config, it returns a client so we need to wrap again\n              if (args[0]) return wrapClient(result)\n              return result\n            }\n          }\n          case 'withConfig': {\n            return (...args: Parameters<SanityClient['withConfig']>) => {\n              return wrapClient(target.withConfig(...args))\n            }\n          }\n          case 'observable': {\n            return wrapObservableClient(target.observable)\n          }\n          default: {\n            return target[property as keyof SanityClient]\n          }\n        }\n      },\n    })\n  }\n\n  function wrapObservableClient(\n    observableSanityClient: ObservableSanityClient,\n  ): ObservableSanityClient {\n    return new Proxy(observableSanityClient, {\n      get: (target, property) => {\n        switch (property) {\n          case 'fetch': {\n            return (...args: Parameters<ObservableSanityClient['fetch']>) =>\n              from(limiter.ready()).pipe(\n                switchMap(() => target.fetch(...args)),\n                finalize(() => limiter.release()),\n              )\n          }\n          case 'clone': {\n            return (...args: Parameters<ObservableSanityClient['clone']>) => {\n              return wrapObservableClient(target.clone(...args))\n            }\n          }\n          case 'config': {\n            return (...args: Parameters<ObservableSanityClient['config']>) => {\n              const result = target.config(...args)\n\n              // if there is a config, it returns a client so we need to wrap again\n              if (args[0]) return wrapObservableClient(result)\n              return result\n            }\n          }\n          case 'withConfig': {\n            return (...args: Parameters<ObservableSanityClient['withConfig']>) => {\n              return wrapObservableClient(target.withConfig(...args))\n            }\n          }\n          default: {\n            return target[property as keyof ObservableSanityClient]\n          }\n        }\n      },\n    })\n  }\n\n  return wrapClient\n}\n"],"names":[],"mappings":";;;;;;;AAUO,SAAS,+BACd,cAAA,EACuC;IACjC,MAAA,UAAU,uKAAI,qBAAA,CAAmB,cAAc;IAErD,SAAS,WAAW,MAAA,EAAoC;QAC/C,OAAA,IAAI,MAAM,QAAQ;YACvB,KAAK,CAAC,QAAQ,aAAa;gBACzB,OAAQ,UAAU;oBAChB,KAAK;wBACH,OAAO,OAAA,GAAU,SAA4C;4BAC3D,MAAM,QAAQ,KAAA,CAAM;4BAChB,IAAA;gCAGF,OAAO,MAAM,OAAO,KAAA,CAAM,GAAG,IAAI;4BAAA,SACjC;gCACA,QAAQ,OAAA,CAAQ;4BAAA;wBAEpB;oBAEF,KAAK;wBACH,OAAO,CAAA,GAAI,OACF,WAAW,OAAO,KAAA,CAAM,GAAG,IAAI,CAAC;oBAG3C,KAAK;wBACH,OAAO,CAAA,GAAI,SAA6C;4BACtD,MAAM,SAAS,OAAO,MAAA,CAAO,GAAG,IAAI;4BAGpC,OAAI,IAAA,CAAK,CAAC,CAAA,GAAU,WAAW,MAAM,IAC9B;wBACT;oBAEF,KAAK;wBACH,OAAO,CAAA,GAAI,OACF,WAAW,OAAO,UAAA,CAAW,GAAG,IAAI,CAAC;oBAGhD,KAAK;wBACI,OAAA,qBAAqB,OAAO,UAAU;oBAE/C;wBACE,OAAO,MAAA,CAAO,QAA8B,CAAA;gBAAA;YAEhD;QACF,CACD;IAAA;IAGH,SAAS,qBACP,sBAAA,EACwB;QACjB,OAAA,IAAI,MAAM,wBAAwB;YACvC,KAAK,CAAC,QAAQ,aAAa;gBACzB,OAAQ,UAAU;oBAChB,KAAK;wBACH,OAAO,CAAA,GAAI,wJACT,OAAA,EAAK,QAAQ,KAAA,CAAO,CAAA,EAAE,IAAA,EACpB,4JAAA,EAAU,IAAM,OAAO,KAAA,CAAM,GAAG,IAAI,CAAC,oJACrC,WAAA,EAAS,IAAM,QAAQ,OAAA,CAAS,CAAA;oBAGtC,KAAK;wBACH,OAAO,CAAA,GAAI,OACF,qBAAqB,OAAO,KAAA,CAAM,GAAG,IAAI,CAAC;oBAGrD,KAAK;wBACH,OAAO,CAAA,GAAI,SAAuD;4BAChE,MAAM,SAAS,OAAO,MAAA,CAAO,GAAG,IAAI;4BAGpC,OAAI,IAAA,CAAK,CAAC,CAAA,GAAU,qBAAqB,MAAM,IACxC;wBACT;oBAEF,KAAK;wBACH,OAAO,CAAA,GAAI,OACF,qBAAqB,OAAO,UAAA,CAAW,GAAG,IAAI,CAAC;oBAG1D;wBACE,OAAO,MAAA,CAAO,QAAwC,CAAA;gBAAA;YAE1D;QACF,CACD;IAAA;IAGI,OAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/constants.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/convert/hslToRgb.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/convert/rgbToHex.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/buildTints.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/color.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/config.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/convert/hexToRgb.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/convert/rgbToHsl.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/clamp.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/transform/darken.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/interpolate.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/transform/limit.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/color/src/lib/transform/screen.ts"],"sourcesContent":["import {ColorHueKey, ColorTintKey} from './types'\n\n/**\n * Color hue keys.\n * @public\n */\nexport const COLOR_HUES: ColorHueKey[] = [\n  'gray',\n  'blue',\n  'purple',\n  'magenta',\n  'red',\n  'orange',\n  'yellow',\n  'green',\n  'cyan',\n]\n\n/**\n * Color tint keys.\n * @public\n */\nexport const COLOR_TINTS: ColorTintKey[] = [\n  '50',\n  '100',\n  '200',\n  '300',\n  '400',\n  '500',\n  '600',\n  '700',\n  '800',\n  '900',\n  '950',\n]\n","import {HSL, RGB} from '../../types'\n\n/** @internal */\nexport function hslToRgb(hsl: HSL): RGB {\n  const h = hsl[0]\n  const s = hsl[1] / 100\n  const l = hsl[2] / 100\n  const k = (n: number) => (n + h / 30) % 12\n  const a = s * Math.min(l, 1 - l)\n  const f = (n: number) => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)))\n\n  return [255 * f(0), 255 * f(8), 255 * f(4)]\n}\n","import {RGB} from '../../types'\n\n/** @internal */\nexport function rgbToHex([r, g, b]: RGB): string {\n  const _r = Math.round(r)\n  const _g = Math.round(g)\n  const _b = Math.round(b)\n\n  return '#' + ((1 << 24) + (_r << 16) + (_g << 8) + _b).toString(16).slice(1)\n}\n","import {COLOR_TINTS} from './constants'\nimport {hslToRgb} from './lib/convert/hslToRgb'\nimport {rgbToHex} from './lib/convert/rgbToHex'\nimport {ColorTintConfig, ColorHueConfig, ColorHueKey, ColorTints} from './types'\n\n/** @internal */\nexport function buildTints(options: {\n  hueKey: ColorHueKey\n  black: ColorTintConfig\n  color: ColorHueConfig\n}): ColorTints {\n  const {hueKey, color} = options\n\n  return COLOR_TINTS.reduce<Partial<ColorTints>>((acc, tintKey) => {\n    const tint = Number(tintKey)\n    const rgb = hslToRgb(color.tints[tintKey].hsl)\n    const hex = rgbToHex([Math.round(rgb[0]), Math.round(rgb[1]), Math.round(rgb[2])])\n\n    acc[tintKey] = {\n      title: `${hueKey.slice(0, 1).toUpperCase()}${hueKey.slice(1)} ${tint}`,\n      hex,\n    }\n\n    return acc\n  }, {}) as ColorTints\n}\n","/* THIS FILE IS AUTO-GENERATED – DO NOT EDIT */\n\nimport {Color, ColorHues, ColorTint, ColorTints} from './types'\n\n/** @public */\nexport const black: ColorTint = {\n  title: 'Black',\n  hex: '#0d0e12',\n}\n\n/** @public */\nexport const white: ColorTint = {\n  title: 'White',\n  hex: '#ffffff',\n}\n\n/** @public */\nexport const gray: ColorTints = {\n  '50': {\n    title: 'Gray 50',\n    hex: '#f6f6f8',\n  },\n  '100': {\n    title: 'Gray 100',\n    hex: '#eeeef1',\n  },\n  '200': {\n    title: 'Gray 200',\n    hex: '#e3e4e8',\n  },\n  '300': {\n    title: 'Gray 300',\n    hex: '#bbbdc9',\n  },\n  '400': {\n    title: 'Gray 400',\n    hex: '#9499ad',\n  },\n  '500': {\n    title: 'Gray 500',\n    hex: '#727892',\n  },\n  '600': {\n    title: 'Gray 600',\n    hex: '#515870',\n  },\n  '700': {\n    title: 'Gray 700',\n    hex: '#383d51',\n  },\n  '800': {\n    title: 'Gray 800',\n    hex: '#252837',\n  },\n  '900': {\n    title: 'Gray 900',\n    hex: '#1b1d27',\n  },\n  '950': {\n    title: 'Gray 950',\n    hex: '#13141b',\n  },\n}\n\n/** @public */\nexport const blue: ColorTints = {\n  '50': {\n    title: 'Blue 50',\n    hex: '#f5f8ff',\n  },\n  '100': {\n    title: 'Blue 100',\n    hex: '#e5edff',\n  },\n  '200': {\n    title: 'Blue 200',\n    hex: '#dbe5ff',\n  },\n  '300': {\n    title: 'Blue 300',\n    hex: '#a8bfff',\n  },\n  '400': {\n    title: 'Blue 400',\n    hex: '#7595ff',\n  },\n  '500': {\n    title: 'Blue 500',\n    hex: '#556bfc',\n  },\n  '600': {\n    title: 'Blue 600',\n    hex: '#4043e7',\n  },\n  '700': {\n    title: 'Blue 700',\n    hex: '#2927aa',\n  },\n  '800': {\n    title: 'Blue 800',\n    hex: '#192457',\n  },\n  '900': {\n    title: 'Blue 900',\n    hex: '#161a41',\n  },\n  '950': {\n    title: 'Blue 950',\n    hex: '#101228',\n  },\n}\n\n/** @public */\nexport const purple: ColorTints = {\n  '50': {\n    title: 'Purple 50',\n    hex: '#f8f5ff',\n  },\n  '100': {\n    title: 'Purple 100',\n    hex: '#f1ebff',\n  },\n  '200': {\n    title: 'Purple 200',\n    hex: '#ece1fe',\n  },\n  '300': {\n    title: 'Purple 300',\n    hex: '#ccb1fc',\n  },\n  '400': {\n    title: 'Purple 400',\n    hex: '#b087f7',\n  },\n  '500': {\n    title: 'Purple 500',\n    hex: '#8f57ef',\n  },\n  '600': {\n    title: 'Purple 600',\n    hex: '#721fe5',\n  },\n  '700': {\n    title: 'Purple 700',\n    hex: '#4c1a9e',\n  },\n  '800': {\n    title: 'Purple 800',\n    hex: '#2f1862',\n  },\n  '900': {\n    title: 'Purple 900',\n    hex: '#23173f',\n  },\n  '950': {\n    title: 'Purple 950',\n    hex: '#181128',\n  },\n}\n\n/** @public */\nexport const magenta: ColorTints = {\n  '50': {\n    title: 'Magenta 50',\n    hex: '#fef6f9',\n  },\n  '100': {\n    title: 'Magenta 100',\n    hex: '#fde8ef',\n  },\n  '200': {\n    title: 'Magenta 200',\n    hex: '#fcdee9',\n  },\n  '300': {\n    title: 'Magenta 300',\n    hex: '#f7abc5',\n  },\n  '400': {\n    title: 'Magenta 400',\n    hex: '#f0709b',\n  },\n  '500': {\n    title: 'Magenta 500',\n    hex: '#e72767',\n  },\n  '600': {\n    title: 'Magenta 600',\n    hex: '#b11651',\n  },\n  '700': {\n    title: 'Magenta 700',\n    hex: '#7c1342',\n  },\n  '800': {\n    title: 'Magenta 800',\n    hex: '#4b1130',\n  },\n  '900': {\n    title: 'Magenta 900',\n    hex: '#341325',\n  },\n  '950': {\n    title: 'Magenta 950',\n    hex: '#1f0f14',\n  },\n}\n\n/** @public */\nexport const red: ColorTints = {\n  '50': {\n    title: 'Red 50',\n    hex: '#fff6f5',\n  },\n  '100': {\n    title: 'Red 100',\n    hex: '#ffe7e5',\n  },\n  '200': {\n    title: 'Red 200',\n    hex: '#ffdedc',\n  },\n  '300': {\n    title: 'Red 300',\n    hex: '#fdada5',\n  },\n  '400': {\n    title: 'Red 400',\n    hex: '#f77769',\n  },\n  '500': {\n    title: 'Red 500',\n    hex: '#ef4434',\n  },\n  '600': {\n    title: 'Red 600',\n    hex: '#cc2819',\n  },\n  '700': {\n    title: 'Red 700',\n    hex: '#8b2018',\n  },\n  '800': {\n    title: 'Red 800',\n    hex: '#4d1714',\n  },\n  '900': {\n    title: 'Red 900',\n    hex: '#321615',\n  },\n  '950': {\n    title: 'Red 950',\n    hex: '#1e1011',\n  },\n}\n\n/** @public */\nexport const orange: ColorTints = {\n  '50': {\n    title: 'Orange 50',\n    hex: '#fff7f0',\n  },\n  '100': {\n    title: 'Orange 100',\n    hex: '#ffeadb',\n  },\n  '200': {\n    title: 'Orange 200',\n    hex: '#ffddc7',\n  },\n  '300': {\n    title: 'Orange 300',\n    hex: '#ffb685',\n  },\n  '400': {\n    title: 'Orange 400',\n    hex: '#ff8e42',\n  },\n  '500': {\n    title: 'Orange 500',\n    hex: '#fa6400',\n  },\n  '600': {\n    title: 'Orange 600',\n    hex: '#b14802',\n  },\n  '700': {\n    title: 'Orange 700',\n    hex: '#7c3404',\n  },\n  '800': {\n    title: 'Orange 800',\n    hex: '#461e07',\n  },\n  '900': {\n    title: 'Orange 900',\n    hex: '#32160b',\n  },\n  '950': {\n    title: 'Orange 950',\n    hex: '#21120d',\n  },\n}\n\n/** @public */\nexport const yellow: ColorTints = {\n  '50': {\n    title: 'Yellow 50',\n    hex: '#fefae1',\n  },\n  '100': {\n    title: 'Yellow 100',\n    hex: '#fcf3bb',\n  },\n  '200': {\n    title: 'Yellow 200',\n    hex: '#f9e994',\n  },\n  '300': {\n    title: 'Yellow 300',\n    hex: '#f7d455',\n  },\n  '400': {\n    title: 'Yellow 400',\n    hex: '#f9bc15',\n  },\n  '500': {\n    title: 'Yellow 500',\n    hex: '#d28a04',\n  },\n  '600': {\n    title: 'Yellow 600',\n    hex: '#965908',\n  },\n  '700': {\n    title: 'Yellow 700',\n    hex: '#653a0b',\n  },\n  '800': {\n    title: 'Yellow 800',\n    hex: '#3b220c',\n  },\n  '900': {\n    title: 'Yellow 900',\n    hex: '#271a11',\n  },\n  '950': {\n    title: 'Yellow 950',\n    hex: '#181410',\n  },\n}\n\n/** @public */\nexport const green: ColorTints = {\n  '50': {\n    title: 'Green 50',\n    hex: '#e7fef5',\n  },\n  '100': {\n    title: 'Green 100',\n    hex: '#c5fce8',\n  },\n  '200': {\n    title: 'Green 200',\n    hex: '#a9f9dc',\n  },\n  '300': {\n    title: 'Green 300',\n    hex: '#59f3ba',\n  },\n  '400': {\n    title: 'Green 400',\n    hex: '#0ff0a1',\n  },\n  '500': {\n    title: 'Green 500',\n    hex: '#04b97a',\n  },\n  '600': {\n    title: 'Green 600',\n    hex: '#01794f',\n  },\n  '700': {\n    title: 'Green 700',\n    hex: '#015133',\n  },\n  '800': {\n    title: 'Green 800',\n    hex: '#023120',\n  },\n  '900': {\n    title: 'Green 900',\n    hex: '#06231a',\n  },\n  '950': {\n    title: 'Green 950',\n    hex: '#071715',\n  },\n}\n\n/** @public */\nexport const cyan: ColorTints = {\n  '50': {\n    title: 'Cyan 50',\n    hex: '#e7fefe',\n  },\n  '100': {\n    title: 'Cyan 100',\n    hex: '#c5fcfc',\n  },\n  '200': {\n    title: 'Cyan 200',\n    hex: '#96f8f8',\n  },\n  '300': {\n    title: 'Cyan 300',\n    hex: '#62efef',\n  },\n  '400': {\n    title: 'Cyan 400',\n    hex: '#18e2e2',\n  },\n  '500': {\n    title: 'Cyan 500',\n    hex: '#04b8be',\n  },\n  '600': {\n    title: 'Cyan 600',\n    hex: '#037782',\n  },\n  '700': {\n    title: 'Cyan 700',\n    hex: '#024950',\n  },\n  '800': {\n    title: 'Cyan 800',\n    hex: '#042f34',\n  },\n  '900': {\n    title: 'Cyan 900',\n    hex: '#072227',\n  },\n  '950': {\n    title: 'Cyan 950',\n    hex: '#0d181c',\n  },\n}\n\n/** @public */\nexport const hues: ColorHues = {gray, blue, purple, magenta, red, orange, yellow, green, cyan}\n\n/** @public */\nexport const color: Color = {black, white, ...hues}\n","import {ColorConfig} from './types'\n\n/** @internal */\nexport const config: ColorConfig = {\n  black: {\n    title: 'Black',\n    hsl: [225, 16, 6],\n  },\n  white: {\n    title: 'White',\n    hsl: [0, 0, 100],\n  },\n  gray: {\n    title: 'Gray',\n    tints: {\n      50: {\n        title: 'Gray 50',\n        hsl: [240, 12, 97],\n      },\n      100: {\n        title: 'Gray 100',\n        hsl: [240, 10, 94],\n      },\n      200: {\n        title: 'Gray 200',\n        hsl: [231, 10, 90],\n      },\n      300: {\n        title: 'Gray 300',\n        hsl: [232, 11, 76],\n      },\n      400: {\n        title: 'Gray 400',\n        hsl: [228, 13, 63],\n      },\n      500: {\n        title: 'Gray 500',\n        hsl: [229, 13, 51],\n      },\n      600: {\n        title: 'Gray 600',\n        hsl: [228, 16, 38],\n      },\n      700: {\n        title: 'Gray 700',\n        hsl: [229, 18, 27],\n      },\n      800: {\n        title: 'Gray 800',\n        hsl: [229, 19, 18],\n      },\n      900: {\n        title: 'Gray 900',\n        hsl: [228, 19, 13],\n      },\n      950: {\n        title: 'Gray 950',\n        hsl: [233, 17, 9],\n      },\n    },\n  },\n  blue: {\n    title: 'Blue',\n    tints: {\n      50: {\n        title: 'Blue 50',\n        hsl: [222, 100, 98],\n      },\n      100: {\n        title: 'Blue 100',\n        hsl: [222, 100, 95],\n      },\n      200: {\n        title: 'Blue 200',\n        hsl: [223, 100, 93],\n      },\n      300: {\n        title: 'Blue 300',\n        hsl: [224, 100, 83],\n      },\n      400: {\n        title: 'Blue 400',\n        hsl: [226, 100, 73],\n      },\n      500: {\n        title: 'Blue 500',\n        hsl: [232, 96, 66],\n      },\n      600: {\n        title: 'Blue 600',\n        hsl: [239, 78, 58],\n      },\n      700: {\n        title: 'Blue 700',\n        hsl: [241, 63, 41],\n      },\n      800: {\n        title: 'Blue 800',\n        hsl: [230, 55, 22],\n      },\n      900: {\n        title: 'Blue 900',\n        hsl: [234, 49, 17],\n      },\n      950: {\n        title: 'Blue 950',\n        hsl: [235, 43, 11],\n      },\n    },\n  },\n  purple: {\n    title: 'Purple',\n    tints: {\n      50: {\n        title: 'Purple 50',\n        hsl: [260, 95, 98],\n      },\n      100: {\n        title: 'Purple 100',\n        hsl: [260, 98, 96],\n      },\n      200: {\n        title: 'Purple 200',\n        hsl: [263, 96, 94],\n      },\n      300: {\n        title: 'Purple 300',\n        hsl: [262, 92, 84],\n      },\n      400: {\n        title: 'Purple 400',\n        hsl: [262, 88, 75],\n      },\n      500: {\n        title: 'Purple 500',\n        hsl: [262, 83, 64],\n      },\n      600: {\n        title: 'Purple 600',\n        hsl: [265, 79, 51],\n      },\n      700: {\n        title: 'Purple 700',\n        hsl: [263, 72, 36],\n      },\n      800: {\n        title: 'Purple 800',\n        hsl: [258, 60, 24],\n      },\n      900: {\n        title: 'Purple 900',\n        hsl: [257, 46, 17],\n      },\n      950: {\n        title: 'Purple 950',\n        hsl: [260, 41, 11],\n      },\n    },\n  },\n  magenta: {\n    title: 'Magenta',\n    tints: {\n      50: {\n        title: 'Magenta 50',\n        hsl: [340, 82, 98],\n      },\n      100: {\n        title: 'Magenta 100',\n        hsl: [339, 83, 95],\n      },\n      200: {\n        title: 'Magenta 200',\n        hsl: [339, 83, 93],\n      },\n      300: {\n        title: 'Magenta 300',\n        hsl: [340, 82, 82],\n      },\n      400: {\n        title: 'Magenta 400',\n        hsl: [340, 81, 69],\n      },\n      500: {\n        title: 'Magenta 500',\n        hsl: [340, 80, 53],\n      },\n      600: {\n        title: 'Magenta 600',\n        hsl: [337, 78, 39],\n      },\n      700: {\n        title: 'Magenta 700',\n        hsl: [333, 73, 28],\n      },\n      800: {\n        title: 'Magenta 800',\n        hsl: [328, 63, 18],\n      },\n      900: {\n        title: 'Magenta 900',\n        hsl: [327, 46, 14],\n      },\n      950: {\n        title: 'Magenta 950',\n        hsl: [341, 35, 9],\n      },\n    },\n  },\n  red: {\n    title: 'Red',\n    tints: {\n      50: {\n        title: 'Red 50',\n        hsl: [5, 100, 98],\n      },\n      100: {\n        title: 'Red 100',\n        hsl: [4, 100, 95],\n      },\n      200: {\n        title: 'Red 200',\n        hsl: [4, 98, 93],\n      },\n      300: {\n        title: 'Red 300',\n        hsl: [5, 95, 82],\n      },\n      400: {\n        title: 'Red 400',\n        hsl: [6, 90, 69],\n      },\n      500: {\n        title: 'Red 500',\n        hsl: [5, 85, 57],\n      },\n      600: {\n        title: 'Red 600',\n        hsl: [5, 78, 45],\n      },\n      700: {\n        title: 'Red 700',\n        hsl: [4, 70, 32],\n      },\n      800: {\n        title: 'Red 800',\n        hsl: [3, 58, 19],\n      },\n      900: {\n        title: 'Red 900',\n        hsl: [2, 41, 14],\n      },\n      950: {\n        title: 'Red 950',\n        hsl: [356, 30, 9],\n      },\n    },\n  },\n  orange: {\n    title: 'Orange',\n    tints: {\n      50: {\n        title: 'Orange 50',\n        hsl: [28, 100, 97],\n      },\n      100: {\n        title: 'Orange 100',\n        hsl: [25, 100, 93],\n      },\n      200: {\n        title: 'Orange 200',\n        hsl: [24, 100, 89],\n      },\n      300: {\n        title: 'Orange 300',\n        hsl: [24, 100, 76],\n      },\n      400: {\n        title: 'Orange 400',\n        hsl: [24, 100, 63],\n      },\n      500: {\n        title: 'Orange 500',\n        hsl: [24, 100, 49],\n      },\n      600: {\n        title: 'Orange 600',\n        hsl: [24, 98, 35],\n      },\n      700: {\n        title: 'Orange 700',\n        hsl: [24, 94, 25],\n      },\n      800: {\n        title: 'Orange 800',\n        hsl: [22, 82, 15],\n      },\n      900: {\n        title: 'Orange 900',\n        hsl: [17, 65, 12],\n      },\n      950: {\n        title: 'Orange 950',\n        hsl: [14, 43, 9],\n      },\n    },\n  },\n  yellow: {\n    title: 'Yellow',\n    tints: {\n      50: {\n        title: 'Yellow 50',\n        hsl: [51, 94, 94],\n      },\n      100: {\n        title: 'Yellow 100',\n        hsl: [52, 91, 86],\n      },\n      200: {\n        title: 'Yellow 200',\n        hsl: [50, 90, 78],\n      },\n      300: {\n        title: 'Yellow 300',\n        hsl: [47, 91, 65],\n      },\n      400: {\n        title: 'Yellow 400',\n        hsl: [44, 95, 53],\n      },\n      500: {\n        title: 'Yellow 500',\n        hsl: [39, 96, 42],\n      },\n      600: {\n        title: 'Yellow 600',\n        hsl: [34, 90, 31],\n      },\n      700: {\n        title: 'Yellow 700',\n        hsl: [31, 80, 22],\n      },\n      800: {\n        title: 'Yellow 800',\n        hsl: [28, 66, 14],\n      },\n      900: {\n        title: 'Yellow 900',\n        hsl: [24, 40, 11],\n      },\n      950: {\n        title: 'Yellow 950',\n        hsl: [24, 20, 8],\n      },\n    },\n  },\n  green: {\n    title: 'Green',\n    tints: {\n      50: {\n        title: 'Green 50',\n        hsl: [157, 89, 95],\n      },\n      100: {\n        title: 'Green 100',\n        hsl: [158, 89, 88],\n      },\n      200: {\n        title: 'Green 200',\n        hsl: [158, 87, 82],\n      },\n      300: {\n        title: 'Green 300',\n        hsl: [158, 86, 65],\n      },\n      400: {\n        title: 'Green 400',\n        hsl: [159, 88, 50],\n      },\n      500: {\n        title: 'Green 500',\n        hsl: [159, 96, 37],\n      },\n      600: {\n        title: 'Green 600',\n        hsl: [159, 98, 24],\n      },\n      700: {\n        title: 'Green 700',\n        hsl: [158, 98, 16],\n      },\n      800: {\n        title: 'Green 800',\n        hsl: [158, 91, 10],\n      },\n      900: {\n        title: 'Green 900',\n        hsl: [162, 72, 8],\n      },\n      950: {\n        title: 'Green 950',\n        hsl: [172, 51, 6],\n      },\n    },\n  },\n  cyan: {\n    title: 'Cyan',\n    tints: {\n      50: {\n        title: 'Cyan 50',\n        hsl: [180, 92, 95],\n      },\n      100: {\n        title: 'Cyan 100',\n        hsl: [180, 91, 88],\n      },\n      200: {\n        title: 'Cyan 200',\n        hsl: [180, 87, 78],\n      },\n      300: {\n        title: 'Cyan 300',\n        hsl: [180, 81, 66],\n      },\n      400: {\n        title: 'Cyan 400',\n        hsl: [180, 81, 49],\n      },\n      500: {\n        title: 'Cyan 500',\n        hsl: [182, 96, 38],\n      },\n      600: {\n        title: 'Cyan 600',\n        hsl: [185, 96, 26],\n      },\n      700: {\n        title: 'Cyan 700',\n        hsl: [185, 95, 16],\n      },\n      800: {\n        title: 'Cyan 800',\n        hsl: [187, 86, 11],\n      },\n      900: {\n        title: 'Cyan 900',\n        hsl: [188, 68, 9],\n      },\n      950: {\n        title: 'Cyan 950',\n        hsl: [196, 37, 8],\n      },\n    },\n  },\n}\n","import {RGB} from '../../types'\n\n/** @internal */\nexport function hexToRgb(hex: string): RGB {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n\n  if (!result) {\n    throw new Error('input is not valid hex')\n  }\n\n  return [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)]\n}\n","import {HSL, RGB} from '../../types'\n\n/**\n * @see https://css-tricks.com/converting-color-spaces-in-javascript/\n *\n * @internal\n */\nexport function rgbToHsl([r, g, b]: RGB): HSL {\n  // Make r, g, and b fractions of 1\n  r /= 255\n  g /= 255\n  b /= 255\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b)\n  const cmax = Math.max(r, g, b)\n  const delta = cmax - cmin\n\n  let h = 0\n  let s = 0\n  let l = 0\n\n  // Calculate hue\n  // No difference\n  if (delta == 0) h = 0\n  // Red is max\n  else if (cmax == r) h = ((g - b) / delta) % 6\n  // Green is max\n  else if (cmax == g) h = (b - r) / delta + 2\n  // Blue is max\n  else h = (r - g) / delta + 4\n\n  h = Math.round(h * 60)\n\n  // Make negative hues positive behind 360°\n  if (h < 0) h += 360\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2\n\n  // Calculate saturation\n  s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(0)\n  l = +(l * 100).toFixed(0)\n\n  return [h, s, l]\n}\n","/** @internal */\nexport function clamp(num: number): number {\n  return Math.max(Math.min(num, 255), 0)\n}\n","import {RGB} from '../../types'\nimport {clamp} from '../clamp'\n\nfunction darkenChannel(backdrop: number, source: number) {\n  return Math.min(backdrop, source)\n}\n\n/**\n * Apply the `darken` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingdarken\n *\n * @internal\n */\nexport function darken(b: RGB, s: RGB): RGB {\n  return [\n    Math.round(clamp(darkenChannel(b[0] / 255, s[0] / 255) * 255)),\n    Math.round(clamp(darkenChannel(b[1] / 255, s[1] / 255) * 255)),\n    Math.round(clamp(darkenChannel(b[2] / 255, s[2] / 255) * 255)),\n  ]\n}\n","/** @internal */\nexport function interpolate(min: number, max: number, val: number): number {\n  const size = max - min\n\n  return min + size * val\n}\n","import {RGB} from '../../types'\nimport {interpolate} from '../interpolate'\n\n/** @internal */\nexport function limit(darkest: RGB, lightest: RGB, source: RGB): RGB {\n  const r = Math.round(interpolate(darkest[0], lightest[0], source[0] / 255))\n  const g = Math.round(interpolate(darkest[1], lightest[1], source[1] / 255))\n  const b = Math.round(interpolate(darkest[2], lightest[2], source[2] / 255))\n\n  return [r, g, b]\n}\n","import {RGB} from '../../types'\nimport {clamp} from '../clamp'\n\nfunction screenChannel(backdrop: number, source: number) {\n  return backdrop + source - backdrop * source\n}\n\n/**\n * Apply the `screen` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingscreen\n *\n * @internal\n */\nexport function screen(b: RGB, s: RGB): RGB {\n  return [\n    Math.round(clamp(screenChannel(b[0] / 255, s[0] / 255) * 255)),\n    Math.round(clamp(screenChannel(b[1] / 255, s[1] / 255) * 255)),\n    Math.round(clamp(screenChannel(b[2] / 255, s[2] / 255) * 255)),\n  ]\n}\n"],"names":["color"],"mappings":"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AO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,UAAsB;IACjC,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,MAAkB;IAC7B,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,SAAqB;IAChC,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,SAAqB;IAChC,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,QAAoB;IAC/B,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;IACP;AACF,GAGa,OAAmB;IAC9B,IAAM;QACJ,OAAO;QACP,KAAK;IACP;IACA,KAAO;QACL,OAAO;QACP,KAAK;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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}},
    {"offset": {"line": 2335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2341, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-utils/dist/es/noop.mjs"],"sourcesContent":["/*#__NO_SIDE_EFFECTS__*/\nconst noop = (any) => any;\n\nexport { noop };\n"],"names":[],"mappings":"AAAA,sBAAsB;;;AACtB,MAAM,OAAO,CAAC,MAAQ","ignoreList":[0]}},
    {"offset": {"line": 2346, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2352, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-utils/dist/es/errors.mjs"],"sourcesContent":["import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,UAAU,wLAAA,CAAA,OAAI;AAClB,IAAI,YAAY,wLAAA,CAAA,OAAI;AACpB,wCAA2C;IACvC,UAAU,CAAC,OAAO;QACd,IAAI,CAAC,SAAS,OAAO,YAAY,aAAa;YAC1C,QAAQ,IAAI,CAAC;QACjB;IACJ;IACA,YAAY,CAAC,OAAO;QAChB,IAAI,CAAC,OAAO;YACR,MAAM,IAAI,MAAM;QACpB;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2373, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2379, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-utils/dist/es/memo.mjs"],"sourcesContent":["/*#__NO_SIDE_EFFECTS__*/\nfunction memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n"],"names":[],"mappings":"AAAA,sBAAsB;;;AACtB,SAAS,KAAK,QAAQ;IAClB,IAAI;IACJ,OAAO;QACH,IAAI,WAAW,WACX,SAAS;QACb,OAAO;IACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2390, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2396, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-utils/dist/es/progress.mjs"],"sourcesContent":["/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\n/*#__NO_SIDE_EFFECTS__*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;AAWA,GACA,sBAAsB;;;AACtB,MAAM,WAAW,CAAC,MAAM,IAAI;IACxB,MAAM,mBAAmB,KAAK;IAC9B,OAAO,qBAAqB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI;AACzD","ignoreList":[0]}},
    {"offset": {"line": 2415, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2421, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-utils/dist/es/time-conversion.mjs"],"sourcesContent":["/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\n/*#__NO_SIDE_EFFECTS__*/\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n/*#__NO_SIDE_EFFECTS__*/\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GACD,sBAAsB;;;;AACtB,MAAM,wBAAwB,CAAC,UAAY,UAAU;AACrD,sBAAsB,GACtB,MAAM,wBAAwB,CAAC,eAAiB,eAAe","ignoreList":[0]}},
    {"offset": {"line": 2433, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2439, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2445, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2464, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/supports/scroll-timeline.mjs"],"sourcesContent":["import { memo } from 'motion-utils';\n\nconst supportsScrollTimeline = memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM,yBAAyB,CAAA,GAAA,wLAAA,CAAA,OAAI,AAAD,EAAE,IAAM,OAAO,cAAc,KAAK","ignoreList":[0]}},
    {"offset": {"line": 2472, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2478, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/controls/BaseGroup.mjs"],"sourcesContent":["import { supportsScrollTimeline } from '../../utils/supports/scroll-timeline.mjs';\n\nclass BaseGroupPlaybackControls {\n    constructor(animations) {\n        // Bound to accomodate common `return animation.stop` pattern\n        this.stop = () => this.runAll(\"stop\");\n        this.animations = animations.filter(Boolean);\n    }\n    get finished() {\n        // Support for new finished Promise and legacy thennable API\n        return Promise.all(this.animations.map((animation) => \"finished\" in animation ? animation.finished : animation));\n    }\n    /**\n     * TODO: Filter out cancelled or stopped animations before returning\n     */\n    getAll(propName) {\n        return this.animations[0][propName];\n    }\n    setAll(propName, newValue) {\n        for (let i = 0; i < this.animations.length; i++) {\n            this.animations[i][propName] = newValue;\n        }\n    }\n    attachTimeline(timeline, fallback) {\n        const subscriptions = this.animations.map((animation) => {\n            if (supportsScrollTimeline() && animation.attachTimeline) {\n                return animation.attachTimeline(timeline);\n            }\n            else if (typeof fallback === \"function\") {\n                return fallback(animation);\n            }\n        });\n        return () => {\n            subscriptions.forEach((cancel, i) => {\n                cancel && cancel();\n                this.animations[i].stop();\n            });\n        };\n    }\n    get time() {\n        return this.getAll(\"time\");\n    }\n    set time(time) {\n        this.setAll(\"time\", time);\n    }\n    get speed() {\n        return this.getAll(\"speed\");\n    }\n    set speed(speed) {\n        this.setAll(\"speed\", speed);\n    }\n    get startTime() {\n        return this.getAll(\"startTime\");\n    }\n    get duration() {\n        let max = 0;\n        for (let i = 0; i < this.animations.length; i++) {\n            max = Math.max(max, this.animations[i].duration);\n        }\n        return max;\n    }\n    runAll(methodName) {\n        this.animations.forEach((controls) => controls[methodName]());\n    }\n    flatten() {\n        this.runAll(\"flatten\");\n    }\n    play() {\n        this.runAll(\"play\");\n    }\n    pause() {\n        this.runAll(\"pause\");\n    }\n    cancel() {\n        this.runAll(\"cancel\");\n    }\n    complete() {\n        this.runAll(\"complete\");\n    }\n}\n\nexport { BaseGroupPlaybackControls };\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;IACF,YAAY,UAAU,CAAE;QACpB,6DAA6D;QAC7D,IAAI,CAAC,IAAI,GAAG,IAAM,IAAI,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,WAAW,MAAM,CAAC;IACxC;IACA,IAAI,WAAW;QACX,4DAA4D;QAC5D,OAAO,QAAQ,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,YAAc,cAAc,YAAY,UAAU,QAAQ,GAAG;IACzG;IACA;;KAEC,GACD,OAAO,QAAQ,EAAE;QACb,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,SAAS;IACvC;IACA,OAAO,QAAQ,EAAE,QAAQ,EAAE;QACvB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAK;YAC7C,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,SAAS,GAAG;QACnC;IACJ;IACA,eAAe,QAAQ,EAAE,QAAQ,EAAE;QAC/B,MAAM,gBAAgB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAA,GAAA,yNAAA,CAAA,yBAAsB,AAAD,OAAO,UAAU,cAAc,EAAE;gBACtD,OAAO,UAAU,cAAc,CAAC;YACpC,OACK,IAAI,OAAO,aAAa,YAAY;gBACrC,OAAO,SAAS;YACpB;QACJ;QACA,OAAO;YACH,cAAc,OAAO,CAAC,CAAC,QAAQ;gBAC3B,UAAU;gBACV,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI;YAC3B;QACJ;IACJ;IACA,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB;IACA,IAAI,KAAK,IAAI,EAAE;QACX,IAAI,CAAC,MAAM,CAAC,QAAQ;IACxB;IACA,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB;IACA,IAAI,MAAM,KAAK,EAAE;QACb,IAAI,CAAC,MAAM,CAAC,SAAS;IACzB;IACA,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB;IACA,IAAI,WAAW;QACX,IAAI,MAAM;QACV,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAK;YAC7C,MAAM,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ;QACnD;QACA,OAAO;IACX;IACA,OAAO,UAAU,EAAE;QACf,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,WAAa,QAAQ,CAAC,WAAW;IAC9D;IACA,UAAU;QACN,IAAI,CAAC,MAAM,CAAC;IAChB;IACA,OAAO;QACH,IAAI,CAAC,MAAM,CAAC;IAChB;IACA,QAAQ;QACJ,IAAI,CAAC,MAAM,CAAC;IAChB;IACA,SAAS;QACL,IAAI,CAAC,MAAM,CAAC;IAChB;IACA,WAAW;QACP,IAAI,CAAC,MAAM,CAAC;IAChB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2560, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2566, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/controls/Group.mjs"],"sourcesContent":["import { BaseGroupPlaybackControls } from './BaseGroup.mjs';\n\n/**\n * TODO: This is a temporary class to support the legacy\n * thennable API\n */\nclass GroupPlaybackControls extends BaseGroupPlaybackControls {\n    then(onResolve, onReject) {\n        return Promise.all(this.animations).then(onResolve).catch(onReject);\n    }\n}\n\nexport { GroupPlaybackControls };\n"],"names":[],"mappings":";;;AAAA;;AAEA;;;CAGC,GACD,MAAM,8BAA8B,oNAAA,CAAA,4BAAyB;IACzD,KAAK,SAAS,EAAE,QAAQ,EAAE;QACtB,OAAO,QAAQ,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,KAAK,CAAC;IAC9D;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2580, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2586, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/utils/get-value-transition.mjs"],"sourcesContent":["function getValueTransition(transition, key) {\n    return transition\n        ? transition[key] ||\n            transition[\"default\"] ||\n            transition\n        : undefined;\n}\n\nexport { getValueTransition };\n"],"names":[],"mappings":";;;AAAA,SAAS,mBAAmB,UAAU,EAAE,GAAG;IACvC,OAAO,aACD,UAAU,CAAC,IAAI,IACb,UAAU,CAAC,UAAU,IACrB,aACF;AACV","ignoreList":[0]}},
    {"offset": {"line": 2593, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2599, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/generators/utils/calc-duration.mjs"],"sourcesContent":["/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACD,MAAM,uBAAuB;AAC7B,SAAS,sBAAsB,SAAS;IACpC,IAAI,WAAW;IACf,MAAM,WAAW;IACjB,IAAI,QAAQ,UAAU,IAAI,CAAC;IAC3B,MAAO,CAAC,MAAM,IAAI,IAAI,WAAW,qBAAsB;QACnD,YAAY;QACZ,QAAQ,UAAU,IAAI,CAAC;IAC3B;IACA,OAAO,YAAY,uBAAuB,WAAW;AACzD","ignoreList":[0]}},
    {"offset": {"line": 2618, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2624, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/generators/utils/create-generator-easing.mjs"],"sourcesContent":["import { millisecondsToSeconds } from 'motion-utils';\nimport { calcGeneratorDuration, maxGeneratorDuration } from './calc-duration.mjs';\n\n/**\n * Create a progress => progress easing function from a generator.\n */\nfunction createGeneratorEasing(options, scale = 100, createGenerator) {\n    const generator = createGenerator({ ...options, keyframes: [0, scale] });\n    const duration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n    return {\n        type: \"keyframes\",\n        ease: (progress) => {\n            return generator.next(duration * progress).value / scale;\n        },\n        duration: millisecondsToSeconds(duration),\n    };\n}\n\nexport { createGeneratorEasing };\n"],"names":[],"mappings":";;;AAAA;AACA;AADA;;;AAGA;;CAEC,GACD,SAAS,sBAAsB,OAAO,EAAE,QAAQ,GAAG,EAAE,eAAe;IAChE,MAAM,YAAY,gBAAgB;QAAE,GAAG,OAAO;QAAE,WAAW;YAAC;YAAG;SAAM;IAAC;IACtE,MAAM,WAAW,KAAK,GAAG,CAAC,CAAA,GAAA,sOAAA,CAAA,wBAAqB,AAAD,EAAE,YAAY,sOAAA,CAAA,uBAAoB;IAChF,OAAO;QACH,MAAM;QACN,MAAM,CAAC;YACH,OAAO,UAAU,IAAI,CAAC,WAAW,UAAU,KAAK,GAAG;QACvD;QACA,UAAU,CAAA,GAAA,sMAAA,CAAA,wBAAqB,AAAD,EAAE;IACpC;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2652, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2658, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/generators/utils/is-generator.mjs"],"sourcesContent":["function isGenerator(type) {\n    return typeof type === \"function\";\n}\n\nexport { isGenerator };\n"],"names":[],"mappings":";;;AAAA,SAAS,YAAY,IAAI;IACrB,OAAO,OAAO,SAAS;AAC3B","ignoreList":[0]}},
    {"offset": {"line": 2665, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2671, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/utils/attach-timeline.mjs"],"sourcesContent":["function attachTimeline(animation, timeline) {\n    animation.timeline = timeline;\n    animation.onfinish = null;\n}\n\nexport { attachTimeline };\n"],"names":[],"mappings":";;;AAAA,SAAS,eAAe,SAAS,EAAE,QAAQ;IACvC,UAAU,QAAQ,GAAG;IACrB,UAAU,QAAQ,GAAG;AACzB","ignoreList":[0]}},
    {"offset": {"line": 2679, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2685, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/NativeAnimationControls.mjs"],"sourcesContent":["import { millisecondsToSeconds, secondsToMilliseconds, noop } from 'motion-utils';\nimport { attachTimeline } from './utils/attach-timeline.mjs';\n\nclass NativeAnimationControls {\n    constructor(animation) {\n        this.animation = animation;\n    }\n    get duration() {\n        var _a, _b, _c;\n        const durationInMs = ((_b = (_a = this.animation) === null || _a === void 0 ? void 0 : _a.effect) === null || _b === void 0 ? void 0 : _b.getComputedTiming().duration) ||\n            ((_c = this.options) === null || _c === void 0 ? void 0 : _c.duration) ||\n            300;\n        return millisecondsToSeconds(Number(durationInMs));\n    }\n    get time() {\n        var _a;\n        if (this.animation) {\n            return millisecondsToSeconds(((_a = this.animation) === null || _a === void 0 ? void 0 : _a.currentTime) || 0);\n        }\n        return 0;\n    }\n    set time(newTime) {\n        if (this.animation) {\n            this.animation.currentTime = secondsToMilliseconds(newTime);\n        }\n    }\n    get speed() {\n        return this.animation ? this.animation.playbackRate : 1;\n    }\n    set speed(newSpeed) {\n        if (this.animation) {\n            this.animation.playbackRate = newSpeed;\n        }\n    }\n    get state() {\n        return this.animation ? this.animation.playState : \"finished\";\n    }\n    get startTime() {\n        return this.animation ? this.animation.startTime : null;\n    }\n    get finished() {\n        return this.animation ? this.animation.finished : Promise.resolve();\n    }\n    play() {\n        this.animation && this.animation.play();\n    }\n    pause() {\n        this.animation && this.animation.pause();\n    }\n    stop() {\n        if (!this.animation ||\n            this.state === \"idle\" ||\n            this.state === \"finished\") {\n            return;\n        }\n        if (this.animation.commitStyles) {\n            this.animation.commitStyles();\n        }\n        this.cancel();\n    }\n    flatten() {\n        var _a;\n        if (!this.animation)\n            return;\n        (_a = this.animation.effect) === null || _a === void 0 ? void 0 : _a.updateTiming({ easing: \"linear\" });\n    }\n    attachTimeline(timeline) {\n        if (this.animation)\n            attachTimeline(this.animation, timeline);\n        return noop;\n    }\n    complete() {\n        this.animation && this.animation.finish();\n    }\n    cancel() {\n        try {\n            this.animation && this.animation.cancel();\n        }\n        catch (e) { }\n    }\n}\n\nexport { NativeAnimationControls };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2768, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2774, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/is-bezier-definition.mjs"],"sourcesContent":["const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n"],"names":[],"mappings":";;;AAAA,MAAM,qBAAqB,CAAC,SAAW,MAAM,OAAO,CAAC,WAAW,OAAO,MAAM,CAAC,EAAE,KAAK","ignoreList":[0]}},
    {"offset": {"line": 2779, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2785, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/supports/flags.mjs"],"sourcesContent":["/**\n * Add the ability for test suites to manually set support flags\n * to better test more environments.\n */\nconst supportsFlags = {\n    linearEasing: undefined,\n};\n\nexport { supportsFlags };\n"],"names":[],"mappings":"AAAA;;;CAGC;;;AACD,MAAM,gBAAgB;IAClB,cAAc;AAClB","ignoreList":[0]}},
    {"offset": {"line": 2795, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2801, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/supports/memo.mjs"],"sourcesContent":["import { memo } from 'motion-utils';\nimport { supportsFlags } from './flags.mjs';\n\nfunction memoSupports(callback, supportsFlag) {\n    const memoized = memo(callback);\n    return () => { var _a; return (_a = supportsFlags[supportsFlag]) !== null && _a !== void 0 ? _a : memoized(); };\n}\n\nexport { memoSupports };\n"],"names":[],"mappings":";;;AAAA;AACA;AADA;;;AAGA,SAAS,aAAa,QAAQ,EAAE,YAAY;IACxC,MAAM,WAAW,CAAA,GAAA,wLAAA,CAAA,OAAI,AAAD,EAAE;IACtB,OAAO;QAAQ,IAAI;QAAI,OAAO,CAAC,KAAK,4MAAA,CAAA,gBAAa,CAAC,aAAa,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IAAY;AAClH","ignoreList":[0]}},
    {"offset": {"line": 2817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2823, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/supports/linear-easing.mjs"],"sourcesContent":["import { memoSupports } from './memo.mjs';\n\nconst supportsLinearEasing = /*@__PURE__*/ memoSupports(() => {\n    try {\n        document\n            .createElement(\"div\")\n            .animate({ opacity: 0 }, { easing: \"linear(0, 1)\" });\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}, \"linearEasing\");\n\nexport { supportsLinearEasing };\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,uBAAuB,WAAW,GAAG,CAAA,GAAA,2MAAA,CAAA,eAAY,AAAD,EAAE;IACpD,IAAI;QACA,SACK,aAAa,CAAC,OACd,OAAO,CAAC;YAAE,SAAS;QAAE,GAAG;YAAE,QAAQ;QAAe;IAC1D,EACA,OAAO,GAAG;QACN,OAAO;IACX;IACA,OAAO;AACX,GAAG","ignoreList":[0]}},
    {"offset": {"line": 2841, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2847, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/utils/linear.mjs"],"sourcesContent":["import { progress } from 'motion-utils';\n\nconst generateLinearEasing = (easing, duration, // as milliseconds\nresolution = 10 // as milliseconds\n) => {\n    let points = \"\";\n    const numPoints = Math.max(Math.round(duration / resolution), 2);\n    for (let i = 0; i < numPoints; i++) {\n        points += easing(progress(0, numPoints - 1, i)) + \", \";\n    }\n    return `linear(${points.substring(0, points.length - 2)})`;\n};\n\nexport { generateLinearEasing };\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM,uBAAuB,CAAC,QAAQ,UACtC,aAAa,GAAG,kBAAkB;AAAnB;IAEX,IAAI,SAAS;IACb,MAAM,YAAY,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,WAAW,aAAa;IAC9D,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,UAAU,OAAO,CAAA,GAAA,4LAAA,CAAA,WAAQ,AAAD,EAAE,GAAG,YAAY,GAAG,MAAM;IACtD;IACA,OAAO,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,GAAG,OAAO,MAAM,GAAG,GAAG,CAAC,CAAC;AAC9D","ignoreList":[0]}},
    {"offset": {"line": 2863, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2869, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/utils/easing.mjs"],"sourcesContent":["import { isBezierDefinition } from '../../../utils/is-bezier-definition.mjs';\nimport { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { generateLinearEasing } from './linear.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean((typeof easing === \"function\" && supportsLinearEasing()) ||\n        !easing ||\n        (typeof easing === \"string\" &&\n            (easing in supportedWaapiEasing || supportsLinearEasing())) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: /*@__PURE__*/ cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: /*@__PURE__*/ cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: /*@__PURE__*/ cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: /*@__PURE__*/ cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing, duration) {\n    if (!easing) {\n        return undefined;\n    }\n    else if (typeof easing === \"function\" && supportsLinearEasing()) {\n        return generateLinearEasing(easing, duration);\n    }\n    else if (isBezierDefinition(easing)) {\n        return cubicBezierAsString(easing);\n    }\n    else if (Array.isArray(easing)) {\n        return easing.map((segmentEasing) => mapEasingToNativeEasing(segmentEasing, duration) ||\n            supportedWaapiEasing.easeOut);\n    }\n    else {\n        return supportedWaapiEasing[easing];\n    }\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,SAAS,uBAAuB,MAAM;IAClC,OAAO,QAAQ,AAAC,OAAO,WAAW,cAAc,CAAA,GAAA,uNAAA,CAAA,uBAAoB,AAAD,OAC/D,CAAC,UACA,OAAO,WAAW,YACf,CAAC,UAAU,wBAAwB,CAAA,GAAA,uNAAA,CAAA,uBAAoB,AAAD,GAAG,KAC7D,CAAA,GAAA,qNAAA,CAAA,qBAAkB,AAAD,EAAE,WAClB,MAAM,OAAO,CAAC,WAAW,OAAO,KAAK,CAAC;AAC/C;AACA,MAAM,sBAAsB,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAK,CAAC,aAAa,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AACpF,MAAM,uBAAuB;IACzB,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,SAAS;IACT,WAAW;IACX,QAAQ,WAAW,GAAG,oBAAoB;QAAC;QAAG;QAAM;QAAM;KAAE;IAC5D,SAAS,WAAW,GAAG,oBAAoB;QAAC;QAAM;QAAG;QAAG;KAAK;IAC7D,QAAQ,WAAW,GAAG,oBAAoB;QAAC;QAAM;QAAM;QAAM,CAAC;KAAK;IACnE,SAAS,WAAW,GAAG,oBAAoB;QAAC;QAAM;QAAM;QAAM;KAAK;AACvE;AACA,SAAS,wBAAwB,MAAM,EAAE,QAAQ;IAC7C,IAAI,CAAC,QAAQ;QACT,OAAO;IACX,OACK,IAAI,OAAO,WAAW,cAAc,CAAA,GAAA,uNAAA,CAAA,uBAAoB,AAAD,KAAK;QAC7D,OAAO,CAAA,GAAA,uNAAA,CAAA,uBAAoB,AAAD,EAAE,QAAQ;IACxC,OACK,IAAI,CAAA,GAAA,qNAAA,CAAA,qBAAkB,AAAD,EAAE,SAAS;QACjC,OAAO,oBAAoB;IAC/B,OACK,IAAI,MAAM,OAAO,CAAC,SAAS;QAC5B,OAAO,OAAO,GAAG,CAAC,CAAC,gBAAkB,wBAAwB,eAAe,aACxE,qBAAqB,OAAO;IACpC,OACK;QACD,OAAO,oBAAoB,CAAC,OAAO;IACvC;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2930, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/drag/state/is-active.mjs"],"sourcesContent":["const isDragging = {\n    x: false,\n    y: false,\n};\nfunction isDragActive() {\n    return isDragging.x || isDragging.y;\n}\n\nexport { isDragActive, isDragging };\n"],"names":[],"mappings":";;;;AAAA,MAAM,aAAa;IACf,GAAG;IACH,GAAG;AACP;AACA,SAAS;IACL,OAAO,WAAW,CAAC,IAAI,WAAW,CAAC;AACvC","ignoreList":[0]}},
    {"offset": {"line": 2948, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2954, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/utils/resolve-elements.mjs"],"sourcesContent":["function resolveElements(elementOrSelector, scope, selectorCache) {\n    var _a;\n    if (elementOrSelector instanceof Element) {\n        return [elementOrSelector];\n    }\n    else if (typeof elementOrSelector === \"string\") {\n        let root = document;\n        if (scope) {\n            // TODO: Refactor to utils package\n            // invariant(\n            //     Boolean(scope.current),\n            //     \"Scope provided, but no element detected.\"\n            // )\n            root = scope.current;\n        }\n        const elements = (_a = selectorCache === null || selectorCache === void 0 ? void 0 : selectorCache[elementOrSelector]) !== null && _a !== void 0 ? _a : root.querySelectorAll(elementOrSelector);\n        return elements ? Array.from(elements) : [];\n    }\n    return Array.from(elementOrSelector);\n}\n\nexport { resolveElements };\n"],"names":[],"mappings":";;;AAAA,SAAS,gBAAgB,iBAAiB,EAAE,KAAK,EAAE,aAAa;IAC5D,IAAI;IACJ,IAAI,6BAA6B,SAAS;QACtC,OAAO;YAAC;SAAkB;IAC9B,OACK,IAAI,OAAO,sBAAsB,UAAU;QAC5C,IAAI,OAAO;QACX,IAAI,OAAO;YACP,kCAAkC;YAClC,aAAa;YACb,8BAA8B;YAC9B,iDAAiD;YACjD,IAAI;YACJ,OAAO,MAAM,OAAO;QACxB;QACA,MAAM,WAAW,CAAC,KAAK,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,aAAa,CAAC,kBAAkB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,KAAK,gBAAgB,CAAC;QAC9K,OAAO,WAAW,MAAM,IAAI,CAAC,YAAY,EAAE;IAC/C;IACA,OAAO,MAAM,IAAI,CAAC;AACtB","ignoreList":[0]}},
    {"offset": {"line": 2979, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2985, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/utils/setup.mjs"],"sourcesContent":["import { resolveElements } from '../../utils/resolve-elements.mjs';\n\nfunction setupGesture(elementOrSelector, options) {\n    const elements = resolveElements(elementOrSelector);\n    const gestureAbortController = new AbortController();\n    const eventOptions = {\n        passive: true,\n        ...options,\n        signal: gestureAbortController.signal,\n    };\n    const cancel = () => gestureAbortController.abort();\n    return [elements, eventOptions, cancel];\n}\n\nexport { setupGesture };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,aAAa,iBAAiB,EAAE,OAAO;IAC5C,MAAM,WAAW,CAAA,GAAA,8MAAA,CAAA,kBAAe,AAAD,EAAE;IACjC,MAAM,yBAAyB,IAAI;IACnC,MAAM,eAAe;QACjB,SAAS;QACT,GAAG,OAAO;QACV,QAAQ,uBAAuB,MAAM;IACzC;IACA,MAAM,SAAS,IAAM,uBAAuB,KAAK;IACjD,OAAO;QAAC;QAAU;QAAc;KAAO;AAC3C","ignoreList":[0]}},
    {"offset": {"line": 3006, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3012, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/hover.mjs"],"sourcesContent":["import { isDragActive } from './drag/state/is-active.mjs';\nimport { setupGesture } from './utils/setup.mjs';\n\n/**\n * Filter out events that are not pointer events, or are triggering\n * while a Motion gesture is active.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        callback(event);\n    };\n}\n/**\n * Create a hover gesture. hover() is different to .addEventListener(\"pointerenter\")\n * in that it has an easier syntax, filters out polyfilled touch events, interoperates\n * with drag gestures, and automatically removes the \"pointerennd\" event listener when the hover ends.\n *\n * @public\n */\nfunction hover(elementOrSelector, onHoverStart, options = {}) {\n    const [elements, eventOptions, cancel] = setupGesture(elementOrSelector, options);\n    const onPointerEnter = filterEvents((enterEvent) => {\n        const { target } = enterEvent;\n        const onHoverEnd = onHoverStart(enterEvent);\n        if (typeof onHoverEnd !== \"function\" || !target)\n            return;\n        const onPointerLeave = filterEvents((leaveEvent) => {\n            onHoverEnd(leaveEvent);\n            target.removeEventListener(\"pointerleave\", onPointerLeave);\n        });\n        target.addEventListener(\"pointerleave\", onPointerLeave, eventOptions);\n    });\n    elements.forEach((element) => {\n        element.addEventListener(\"pointerenter\", onPointerEnter, eventOptions);\n    });\n    return cancel;\n}\n\nexport { hover };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA;;;CAGC,GACD,SAAS,aAAa,QAAQ;IAC1B,OAAO,CAAC;QACJ,IAAI,MAAM,WAAW,KAAK,WAAW,CAAA,GAAA,2NAAA,CAAA,eAAY,AAAD,KAC5C;QACJ,SAAS;IACb;AACJ;AACA;;;;;;CAMC,GACD,SAAS,MAAM,iBAAiB,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;IACxD,MAAM,CAAC,UAAU,cAAc,OAAO,GAAG,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,EAAE,mBAAmB;IACzE,MAAM,iBAAiB,aAAa,CAAC;QACjC,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,MAAM,aAAa,aAAa;QAChC,IAAI,OAAO,eAAe,cAAc,CAAC,QACrC;QACJ,MAAM,iBAAiB,aAAa,CAAC;YACjC,WAAW;YACX,OAAO,mBAAmB,CAAC,gBAAgB;QAC/C;QACA,OAAO,gBAAgB,CAAC,gBAAgB,gBAAgB;IAC5D;IACA,SAAS,OAAO,CAAC,CAAC;QACd,QAAQ,gBAAgB,CAAC,gBAAgB,gBAAgB;IAC7D;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 3052, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3058, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/utils/is-node-or-child.mjs"],"sourcesContent":["/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;AACD,MAAM,gBAAgB,CAAC,QAAQ;IAC3B,IAAI,CAAC,OAAO;QACR,OAAO;IACX,OACK,IAAI,WAAW,OAAO;QACvB,OAAO;IACX,OACK;QACD,OAAO,cAAc,QAAQ,MAAM,aAAa;IACpD;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3077, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3083, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/utils/is-primary-pointer.mjs"],"sourcesContent":["const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n"],"names":[],"mappings":";;;AAAA,MAAM,mBAAmB,CAAC;IACtB,IAAI,MAAM,WAAW,KAAK,SAAS;QAC/B,OAAO,OAAO,MAAM,MAAM,KAAK,YAAY,MAAM,MAAM,IAAI;IAC/D,OACK;QACD;;;;;;;SAOC,GACD,OAAO,MAAM,SAAS,KAAK;IAC/B;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3101, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3107, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/press/utils/is-keyboard-accessible.mjs"],"sourcesContent":["const focusableElements = new Set([\n    \"BUTTON\",\n    \"INPUT\",\n    \"SELECT\",\n    \"TEXTAREA\",\n    \"A\",\n]);\nfunction isElementKeyboardAccessible(element) {\n    return (focusableElements.has(element.tagName) ||\n        element.tabIndex !== -1);\n}\n\nexport { isElementKeyboardAccessible };\n"],"names":[],"mappings":";;;AAAA,MAAM,oBAAoB,IAAI,IAAI;IAC9B;IACA;IACA;IACA;IACA;CACH;AACD,SAAS,4BAA4B,OAAO;IACxC,OAAQ,kBAAkB,GAAG,CAAC,QAAQ,OAAO,KACzC,QAAQ,QAAQ,KAAK,CAAC;AAC9B","ignoreList":[0]}},
    {"offset": {"line": 3121, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3127, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/press/utils/state.mjs"],"sourcesContent":["const isPressing = new WeakSet();\n\nexport { isPressing };\n"],"names":[],"mappings":";;;AAAA,MAAM,aAAa,IAAI","ignoreList":[0]}},
    {"offset": {"line": 3132, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3138, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/press/utils/keyboard.mjs"],"sourcesContent":["import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.key !== \"Enter\")\n            return;\n        callback(event);\n    };\n}\nfunction firePointerEvent(target, type) {\n    target.dispatchEvent(new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n    const element = focusEvent.currentTarget;\n    if (!element)\n        return;\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element))\n            return;\n        firePointerEvent(element, \"down\");\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\");\n        });\n        const handleBlur = () => firePointerEvent(element, \"cancel\");\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n        element.addEventListener(\"blur\", handleBlur, eventOptions);\n    });\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\n\nexport { enableKeyboardPress };\n"],"names":[],"mappings":";;;AAAA;;AAEA;;CAEC,GACD,SAAS,aAAa,QAAQ;IAC1B,OAAO,CAAC;QACJ,IAAI,MAAM,GAAG,KAAK,SACd;QACJ,SAAS;IACb;AACJ;AACA,SAAS,iBAAiB,MAAM,EAAE,IAAI;IAClC,OAAO,aAAa,CAAC,IAAI,aAAa,YAAY,MAAM;QAAE,WAAW;QAAM,SAAS;IAAK;AAC7F;AACA,MAAM,sBAAsB,CAAC,YAAY;IACrC,MAAM,UAAU,WAAW,aAAa;IACxC,IAAI,CAAC,SACD;IACJ,MAAM,gBAAgB,aAAa;QAC/B,IAAI,qNAAA,CAAA,aAAU,CAAC,GAAG,CAAC,UACf;QACJ,iBAAiB,SAAS;QAC1B,MAAM,cAAc,aAAa;YAC7B,iBAAiB,SAAS;QAC9B;QACA,MAAM,aAAa,IAAM,iBAAiB,SAAS;QACnD,QAAQ,gBAAgB,CAAC,SAAS,aAAa;QAC/C,QAAQ,gBAAgB,CAAC,QAAQ,YAAY;IACjD;IACA,QAAQ,gBAAgB,CAAC,WAAW,eAAe;IACnD;;KAEC,GACD,QAAQ,gBAAgB,CAAC,QAAQ,IAAM,QAAQ,mBAAmB,CAAC,WAAW,gBAAgB;AAClG","ignoreList":[0]}},
    {"offset": {"line": 3176, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3182, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/press/index.mjs"],"sourcesContent":["import { isDragActive } from '../drag/state/is-active.mjs';\nimport { isNodeOrChild } from '../utils/is-node-or-child.mjs';\nimport { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';\nimport { setupGesture } from '../utils/setup.mjs';\nimport { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';\nimport { enableKeyboardPress } from './utils/keyboard.mjs';\nimport { isPressing } from './utils/state.mjs';\n\n/**\n * Filter out events that are not primary pointer events, or are triggering\n * while a Motion gesture is active.\n */\nfunction isValidPressEvent(event) {\n    return isPrimaryPointer(event) && !isDragActive();\n}\n/**\n * Create a press gesture.\n *\n * Press is different to `\"pointerdown\"`, `\"pointerup\"` in that it\n * automatically filters out secondary pointer events like right\n * click and multitouch.\n *\n * It also adds accessibility support for keyboards, where\n * an element with a press gesture will receive focus and\n *  trigger on Enter `\"keydown\"` and `\"keyup\"` events.\n *\n * This is different to a browser's `\"click\"` event, which does\n * respond to keyboards but only for the `\"click\"` itself, rather\n * than the press start and end/cancel. The element also needs\n * to be focusable for this to work, whereas a press gesture will\n * make an element focusable by default.\n *\n * @public\n */\nfunction press(elementOrSelector, onPressStart, options = {}) {\n    const [elements, eventOptions, cancelEvents] = setupGesture(elementOrSelector, options);\n    const startPress = (startEvent) => {\n        const element = startEvent.currentTarget;\n        if (!isValidPressEvent(startEvent) || isPressing.has(element))\n            return;\n        isPressing.add(element);\n        const onPressEnd = onPressStart(startEvent);\n        const onPointerEnd = (endEvent, success) => {\n            window.removeEventListener(\"pointerup\", onPointerUp);\n            window.removeEventListener(\"pointercancel\", onPointerCancel);\n            if (!isValidPressEvent(endEvent) || !isPressing.has(element)) {\n                return;\n            }\n            isPressing.delete(element);\n            if (typeof onPressEnd === \"function\") {\n                onPressEnd(endEvent, { success });\n            }\n        };\n        const onPointerUp = (upEvent) => {\n            onPointerEnd(upEvent, options.useGlobalTarget ||\n                isNodeOrChild(element, upEvent.target));\n        };\n        const onPointerCancel = (cancelEvent) => {\n            onPointerEnd(cancelEvent, false);\n        };\n        window.addEventListener(\"pointerup\", onPointerUp, eventOptions);\n        window.addEventListener(\"pointercancel\", onPointerCancel, eventOptions);\n    };\n    elements.forEach((element) => {\n        if (!isElementKeyboardAccessible(element) &&\n            element.getAttribute(\"tabindex\") === null) {\n            element.tabIndex = 0;\n        }\n        const target = options.useGlobalTarget ? window : element;\n        target.addEventListener(\"pointerdown\", startPress, eventOptions);\n        element.addEventListener(\"focus\", (event) => enableKeyboardPress(event, eventOptions), eventOptions);\n    });\n    return cancelEvents;\n}\n\nexport { press };\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEA;;;CAGC,GACD,SAAS,kBAAkB,KAAK;IAC5B,OAAO,CAAA,GAAA,+NAAA,CAAA,mBAAgB,AAAD,EAAE,UAAU,CAAC,CAAA,GAAA,2NAAA,CAAA,eAAY,AAAD;AAClD;AACA;;;;;;;;;;;;;;;;;;CAkBC,GACD,SAAS,MAAM,iBAAiB,EAAE,YAAY,EAAE,UAAU,CAAC,CAAC;IACxD,MAAM,CAAC,UAAU,cAAc,aAAa,GAAG,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,EAAE,mBAAmB;IAC/E,MAAM,aAAa,CAAC;QAChB,MAAM,UAAU,WAAW,aAAa;QACxC,IAAI,CAAC,kBAAkB,eAAe,qNAAA,CAAA,aAAU,CAAC,GAAG,CAAC,UACjD;QACJ,qNAAA,CAAA,aAAU,CAAC,GAAG,CAAC;QACf,MAAM,aAAa,aAAa;QAChC,MAAM,eAAe,CAAC,UAAU;YAC5B,OAAO,mBAAmB,CAAC,aAAa;YACxC,OAAO,mBAAmB,CAAC,iBAAiB;YAC5C,IAAI,CAAC,kBAAkB,aAAa,CAAC,qNAAA,CAAA,aAAU,CAAC,GAAG,CAAC,UAAU;gBAC1D;YACJ;YACA,qNAAA,CAAA,aAAU,CAAC,MAAM,CAAC;YAClB,IAAI,OAAO,eAAe,YAAY;gBAClC,WAAW,UAAU;oBAAE;gBAAQ;YACnC;QACJ;QACA,MAAM,cAAc,CAAC;YACjB,aAAa,SAAS,QAAQ,eAAe,IACzC,CAAA,GAAA,gOAAA,CAAA,gBAAa,AAAD,EAAE,SAAS,QAAQ,MAAM;QAC7C;QACA,MAAM,kBAAkB,CAAC;YACrB,aAAa,aAAa;QAC9B;QACA,OAAO,gBAAgB,CAAC,aAAa,aAAa;QAClD,OAAO,gBAAgB,CAAC,iBAAiB,iBAAiB;IAC9D;IACA,SAAS,OAAO,CAAC,CAAC;QACd,IAAI,CAAC,CAAA,GAAA,4OAAA,CAAA,8BAA2B,AAAD,EAAE,YAC7B,QAAQ,YAAY,CAAC,gBAAgB,MAAM;YAC3C,QAAQ,QAAQ,GAAG;QACvB;QACA,MAAM,SAAS,QAAQ,eAAe,GAAG,SAAS;QAClD,OAAO,gBAAgB,CAAC,eAAe,YAAY;QACnD,QAAQ,gBAAgB,CAAC,SAAS,CAAC,QAAU,CAAA,GAAA,wNAAA,CAAA,sBAAmB,AAAD,EAAE,OAAO,eAAe;IAC3F;IACA,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 3263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3269, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/utils/convert-options.mjs"],"sourcesContent":["import { secondsToMilliseconds } from 'motion-utils';\nimport { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { createGeneratorEasing } from '../../generators/utils/create-generator-easing.mjs';\nimport { isGenerator } from '../../generators/utils/is-generator.mjs';\nimport { mapEasingToNativeEasing } from './easing.mjs';\n\nconst defaultEasing = \"easeOut\";\nfunction applyGeneratorOptions(options) {\n    var _a;\n    if (isGenerator(options.type)) {\n        const generatorOptions = createGeneratorEasing(options, 100, options.type);\n        options.ease = supportsLinearEasing()\n            ? generatorOptions.ease\n            : defaultEasing;\n        options.duration = secondsToMilliseconds(generatorOptions.duration);\n        options.type = \"keyframes\";\n    }\n    else {\n        options.duration = secondsToMilliseconds((_a = options.duration) !== null && _a !== void 0 ? _a : 0.3);\n        options.ease = options.ease || defaultEasing;\n    }\n}\n// TODO: Reuse for NativeAnimation\nfunction convertMotionOptionsToNative(valueName, keyframes, options) {\n    var _a;\n    const nativeKeyframes = {};\n    const nativeOptions = {\n        fill: \"both\",\n        easing: \"linear\",\n        composite: \"replace\",\n    };\n    nativeOptions.delay = secondsToMilliseconds((_a = options.delay) !== null && _a !== void 0 ? _a : 0);\n    applyGeneratorOptions(options);\n    nativeOptions.duration = options.duration;\n    const { ease, times } = options;\n    if (times)\n        nativeKeyframes.offset = times;\n    nativeKeyframes[valueName] = keyframes;\n    const easing = mapEasingToNativeEasing(ease, options.duration);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing)) {\n        nativeKeyframes.easing = easing;\n    }\n    else {\n        nativeOptions.easing = easing;\n    }\n    return {\n        keyframes: nativeKeyframes,\n        options: nativeOptions,\n    };\n}\n\nexport { applyGeneratorOptions, convertMotionOptionsToNative };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,gBAAgB;AACtB,SAAS,sBAAsB,OAAO;IAClC,IAAI;IACJ,IAAI,CAAA,GAAA,qOAAA,CAAA,cAAW,AAAD,EAAE,QAAQ,IAAI,GAAG;QAC3B,MAAM,mBAAmB,CAAA,GAAA,mPAAA,CAAA,wBAAqB,AAAD,EAAE,SAAS,KAAK,QAAQ,IAAI;QACzE,QAAQ,IAAI,GAAG,CAAA,GAAA,uNAAA,CAAA,uBAAoB,AAAD,MAC5B,iBAAiB,IAAI,GACrB;QACN,QAAQ,QAAQ,GAAG,CAAA,GAAA,sMAAA,CAAA,wBAAqB,AAAD,EAAE,iBAAiB,QAAQ;QAClE,QAAQ,IAAI,GAAG;IACnB,OACK;QACD,QAAQ,QAAQ,GAAG,CAAA,GAAA,sMAAA,CAAA,wBAAqB,AAAD,EAAE,CAAC,KAAK,QAAQ,QAAQ,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;QAClG,QAAQ,IAAI,GAAG,QAAQ,IAAI,IAAI;IACnC;AACJ;AACA,kCAAkC;AAClC,SAAS,6BAA6B,SAAS,EAAE,SAAS,EAAE,OAAO;IAC/D,IAAI;IACJ,MAAM,kBAAkB,CAAC;IACzB,MAAM,gBAAgB;QAClB,MAAM;QACN,QAAQ;QACR,WAAW;IACf;IACA,cAAc,KAAK,GAAG,CAAA,GAAA,sMAAA,CAAA,wBAAqB,AAAD,EAAE,CAAC,KAAK,QAAQ,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IAClG,sBAAsB;IACtB,cAAc,QAAQ,GAAG,QAAQ,QAAQ;IACzC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG;IACxB,IAAI,OACA,gBAAgB,MAAM,GAAG;IAC7B,eAAe,CAAC,UAAU,GAAG;IAC7B,MAAM,SAAS,CAAA,GAAA,uNAAA,CAAA,0BAAuB,AAAD,EAAE,MAAM,QAAQ,QAAQ;IAC7D;;KAEC,GACD,IAAI,MAAM,OAAO,CAAC,SAAS;QACvB,gBAAgB,MAAM,GAAG;IAC7B,OACK;QACD,cAAc,MAAM,GAAG;IAC3B;IACA,OAAO;QACH,WAAW;QACX,SAAS;IACb;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3326, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3332, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/animation/waapi/PseudoAnimation.mjs"],"sourcesContent":["import { NativeAnimationControls } from './NativeAnimationControls.mjs';\nimport { convertMotionOptionsToNative } from './utils/convert-options.mjs';\n\nclass PseudoAnimation extends NativeAnimationControls {\n    constructor(target, pseudoElement, valueName, keyframes, options) {\n        const animationOptions = convertMotionOptionsToNative(valueName, keyframes, options);\n        const animation = target.animate(animationOptions.keyframes, {\n            pseudoElement,\n            ...animationOptions.options,\n        });\n        super(animation);\n    }\n}\n\nexport { PseudoAnimation };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,MAAM,wBAAwB,+NAAA,CAAA,0BAAuB;IACjD,YAAY,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,CAAE;QAC9D,MAAM,mBAAmB,CAAA,GAAA,mOAAA,CAAA,+BAA4B,AAAD,EAAE,WAAW,WAAW;QAC5E,MAAM,YAAY,OAAO,OAAO,CAAC,iBAAiB,SAAS,EAAE;YACzD;YACA,GAAG,iBAAiB,OAAO;QAC/B;QACA,KAAK,CAAC;IACV;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3350, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3356, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/utils/choose-layer-type.mjs"],"sourcesContent":["function chooseLayerType(valueName) {\n    if (valueName === \"layout\")\n        return \"group\";\n    if (valueName === \"enter\" || valueName === \"new\")\n        return \"new\";\n    if (valueName === \"exit\" || valueName === \"old\")\n        return \"old\";\n    return \"group\";\n}\n\nexport { chooseLayerType };\n"],"names":[],"mappings":";;;AAAA,SAAS,gBAAgB,SAAS;IAC9B,IAAI,cAAc,UACd,OAAO;IACX,IAAI,cAAc,WAAW,cAAc,OACvC,OAAO;IACX,IAAI,cAAc,UAAU,cAAc,OACtC,OAAO;IACX,OAAO;AACX","ignoreList":[0]}},
    {"offset": {"line": 3366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3372, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/utils/css.mjs"],"sourcesContent":["let pendingRules = {};\nlet style = null;\nconst css = {\n    set: (selector, values) => {\n        pendingRules[selector] = values;\n    },\n    commit: () => {\n        if (!style) {\n            style = document.createElement(\"style\");\n            style.id = \"motion-view\";\n        }\n        let cssText = \"\";\n        for (const selector in pendingRules) {\n            const rule = pendingRules[selector];\n            cssText += `${selector} {\\n`;\n            for (const [property, value] of Object.entries(rule)) {\n                cssText += `  ${property}: ${value};\\n`;\n            }\n            cssText += \"}\\n\";\n        }\n        style.textContent = cssText;\n        document.head.appendChild(style);\n        pendingRules = {};\n    },\n    remove: () => {\n        if (style && style.parentElement) {\n            style.parentElement.removeChild(style);\n        }\n    },\n};\n\nexport { css };\n"],"names":[],"mappings":";;;AAAA,IAAI,eAAe,CAAC;AACpB,IAAI,QAAQ;AACZ,MAAM,MAAM;IACR,KAAK,CAAC,UAAU;QACZ,YAAY,CAAC,SAAS,GAAG;IAC7B;IACA,QAAQ;QACJ,IAAI,CAAC,OAAO;YACR,QAAQ,SAAS,aAAa,CAAC;YAC/B,MAAM,EAAE,GAAG;QACf;QACA,IAAI,UAAU;QACd,IAAK,MAAM,YAAY,aAAc;YACjC,MAAM,OAAO,YAAY,CAAC,SAAS;YACnC,WAAW,GAAG,SAAS,IAAI,CAAC;YAC5B,KAAK,MAAM,CAAC,UAAU,MAAM,IAAI,OAAO,OAAO,CAAC,MAAO;gBAClD,WAAW,CAAC,EAAE,EAAE,SAAS,EAAE,EAAE,MAAM,GAAG,CAAC;YAC3C;YACA,WAAW;QACf;QACA,MAAM,WAAW,GAAG;QACpB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,eAAe,CAAC;IACpB;IACA,QAAQ;QACJ,IAAI,SAAS,MAAM,aAAa,EAAE;YAC9B,MAAM,aAAa,CAAC,WAAW,CAAC;QACpC;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3406, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3412, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/utils/get-layer-name.mjs"],"sourcesContent":["function getLayerName(pseudoElement) {\n    const match = pseudoElement.match(/::view-transition-(old|new|group|image-pair)\\((.*?)\\)/);\n    if (!match)\n        return null;\n    return { layer: match[2], type: match[1] };\n}\n\nexport { getLayerName };\n"],"names":[],"mappings":";;;AAAA,SAAS,aAAa,aAAa;IAC/B,MAAM,QAAQ,cAAc,KAAK,CAAC;IAClC,IAAI,CAAC,OACD,OAAO;IACX,OAAO;QAAE,OAAO,KAAK,CAAC,EAAE;QAAE,MAAM,KAAK,CAAC,EAAE;IAAC;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 3424, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3430, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/utils/get-view-animations.mjs"],"sourcesContent":["function filterViewAnimations(animation) {\n    var _a;\n    const { effect } = animation;\n    if (!effect)\n        return false;\n    return (effect.target === document.documentElement &&\n        ((_a = effect.pseudoElement) === null || _a === void 0 ? void 0 : _a.startsWith(\"::view-transition\")));\n}\nfunction getViewAnimations() {\n    return document.getAnimations().filter(filterViewAnimations);\n}\n\nexport { getViewAnimations };\n"],"names":[],"mappings":";;;AAAA,SAAS,qBAAqB,SAAS;IACnC,IAAI;IACJ,MAAM,EAAE,MAAM,EAAE,GAAG;IACnB,IAAI,CAAC,QACD,OAAO;IACX,OAAQ,OAAO,MAAM,KAAK,SAAS,eAAe,IAC9C,CAAC,CAAC,KAAK,OAAO,aAAa,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,UAAU,CAAC,oBAAoB;AAC5G;AACA,SAAS;IACL,OAAO,SAAS,aAAa,GAAG,MAAM,CAAC;AAC3C","ignoreList":[0]}},
    {"offset": {"line": 3443, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3449, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/utils/has-target.mjs"],"sourcesContent":["function hasTarget(target, targets) {\n    return targets.has(target) && Object.keys(targets.get(target)).length > 0;\n}\n\nexport { hasTarget };\n"],"names":[],"mappings":";;;AAAA,SAAS,UAAU,MAAM,EAAE,OAAO;IAC9B,OAAO,QAAQ,GAAG,CAAC,WAAW,OAAO,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,MAAM,GAAG;AAC5E","ignoreList":[0]}},
    {"offset": {"line": 3456, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3462, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/start.mjs"],"sourcesContent":["import { secondsToMilliseconds } from 'motion-utils';\nimport { BaseGroupPlaybackControls } from '../animation/controls/BaseGroup.mjs';\nimport { getValueTransition } from '../animation/utils/get-value-transition.mjs';\nimport { NativeAnimationControls } from '../animation/waapi/NativeAnimationControls.mjs';\nimport { PseudoAnimation } from '../animation/waapi/PseudoAnimation.mjs';\nimport { applyGeneratorOptions } from '../animation/waapi/utils/convert-options.mjs';\nimport { mapEasingToNativeEasing } from '../animation/waapi/utils/easing.mjs';\nimport { chooseLayerType } from './utils/choose-layer-type.mjs';\nimport { css } from './utils/css.mjs';\nimport { getLayerName } from './utils/get-layer-name.mjs';\nimport { getViewAnimations } from './utils/get-view-animations.mjs';\nimport { hasTarget } from './utils/has-target.mjs';\n\nconst definitionNames = [\"layout\", \"enter\", \"exit\", \"new\", \"old\"];\nfunction startViewAnimation(update, defaultOptions, targets) {\n    if (!document.startViewTransition) {\n        return new Promise(async (resolve) => {\n            await update();\n            resolve(new BaseGroupPlaybackControls([]));\n        });\n    }\n    // TODO: Go over existing targets and ensure they all have ids\n    /**\n     * If we don't have any animations defined for the root target,\n     * remove it from being captured.\n     */\n    if (!hasTarget(\"root\", targets)) {\n        css.set(\":root\", {\n            \"view-transition-name\": \"none\",\n        });\n    }\n    /**\n     * Set the timing curve to linear for all view transition layers.\n     * This gets baked into the keyframes, which can't be changed\n     * without breaking the generated animation.\n     *\n     * This allows us to set easing via updateTiming - which can be changed.\n     */\n    css.set(\"::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*)\", { \"animation-timing-function\": \"linear !important\" });\n    css.commit(); // Write\n    const transition = document.startViewTransition(async () => {\n        await update();\n        // TODO: Go over new targets and ensure they all have ids\n    });\n    transition.finished.finally(() => {\n        css.remove(); // Write\n    });\n    return new Promise((resolve) => {\n        transition.ready.then(() => {\n            var _a;\n            const generatedViewAnimations = getViewAnimations();\n            const animations = [];\n            /**\n             * Create animations for our definitions\n             */\n            targets.forEach((definition, target) => {\n                // TODO: If target is not \"root\", resolve elements\n                // and iterate over each\n                for (const key of definitionNames) {\n                    if (!definition[key])\n                        continue;\n                    const { keyframes, options } = definition[key];\n                    for (let [valueName, valueKeyframes] of Object.entries(keyframes)) {\n                        if (!valueKeyframes)\n                            continue;\n                        const valueOptions = {\n                            ...getValueTransition(defaultOptions, valueName),\n                            ...getValueTransition(options, valueName),\n                        };\n                        const type = chooseLayerType(key);\n                        /**\n                         * If this is an opacity animation, and keyframes are not an array,\n                         * we need to convert them into an array and set an initial value.\n                         */\n                        if (valueName === \"opacity\" &&\n                            !Array.isArray(valueKeyframes)) {\n                            const initialValue = type === \"new\" ? 0 : 1;\n                            valueKeyframes = [initialValue, valueKeyframes];\n                        }\n                        /**\n                         * Resolve stagger function if provided.\n                         */\n                        if (typeof valueOptions.delay === \"function\") {\n                            valueOptions.delay = valueOptions.delay(0, 1);\n                        }\n                        const animation = new PseudoAnimation(document.documentElement, `::view-transition-${type}(${target})`, valueName, valueKeyframes, valueOptions);\n                        animations.push(animation);\n                    }\n                }\n            });\n            /**\n             * Handle browser generated animations\n             */\n            for (const animation of generatedViewAnimations) {\n                if (animation.playState === \"finished\")\n                    continue;\n                const { effect } = animation;\n                if (!effect || !(effect instanceof KeyframeEffect))\n                    continue;\n                const { pseudoElement } = effect;\n                if (!pseudoElement)\n                    continue;\n                const name = getLayerName(pseudoElement);\n                if (!name)\n                    continue;\n                const targetDefinition = targets.get(name.layer);\n                if (!targetDefinition) {\n                    /**\n                     * If transition name is group then update the timing of the animation\n                     * whereas if it's old or new then we could possibly replace it using\n                     * the above method.\n                     */\n                    const transitionName = name.type === \"group\" ? \"layout\" : \"\";\n                    const animationTransition = {\n                        ...getValueTransition(defaultOptions, transitionName),\n                    };\n                    applyGeneratorOptions(animationTransition);\n                    const easing = mapEasingToNativeEasing(animationTransition.ease, animationTransition.duration);\n                    effect.updateTiming({\n                        delay: secondsToMilliseconds((_a = animationTransition.delay) !== null && _a !== void 0 ? _a : 0),\n                        duration: animationTransition.duration,\n                        easing,\n                    });\n                    animations.push(new NativeAnimationControls(animation));\n                }\n                else if (hasOpacity(targetDefinition, \"enter\") &&\n                    hasOpacity(targetDefinition, \"exit\") &&\n                    effect\n                        .getKeyframes()\n                        .some((keyframe) => keyframe.mixBlendMode)) {\n                    animations.push(new NativeAnimationControls(animation));\n                }\n                else {\n                    animation.cancel();\n                }\n            }\n            resolve(new BaseGroupPlaybackControls(animations));\n        });\n    });\n}\nfunction hasOpacity(target, key) {\n    var _a;\n    return (_a = target === null || target === void 0 ? void 0 : target[key]) === null || _a === void 0 ? void 0 : _a.keyframes.opacity;\n}\n\nexport { startViewAnimation };\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3613, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3619, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/view/index.mjs"],"sourcesContent":["import { noop } from 'motion-utils';\nimport { startViewAnimation } from './start.mjs';\n\n/**\n * TODO:\n * - Create view transition on next tick\n * - Replace animations with Motion animations\n * - Return GroupAnimation on next tick\n */\nclass ViewTransitionBuilder {\n    constructor(update, options = {}) {\n        this.currentTarget = \"root\";\n        this.targets = new Map();\n        this.notifyReady = noop;\n        this.readyPromise = new Promise((resolve) => {\n            this.notifyReady = resolve;\n        });\n        queueMicrotask(() => {\n            startViewAnimation(update, options, this.targets).then((animation) => this.notifyReady(animation));\n        });\n    }\n    get(selector) {\n        this.currentTarget = selector;\n        return this;\n    }\n    layout(keyframes, options) {\n        this.updateTarget(\"layout\", keyframes, options);\n        return this;\n    }\n    new(keyframes, options) {\n        this.updateTarget(\"new\", keyframes, options);\n        return this;\n    }\n    old(keyframes, options) {\n        this.updateTarget(\"old\", keyframes, options);\n        return this;\n    }\n    enter(keyframes, options) {\n        this.updateTarget(\"enter\", keyframes, options);\n        return this;\n    }\n    exit(keyframes, options) {\n        this.updateTarget(\"exit\", keyframes, options);\n        return this;\n    }\n    crossfade(options) {\n        this.updateTarget(\"enter\", { opacity: 1 }, options);\n        this.updateTarget(\"exit\", { opacity: 0 }, options);\n        return this;\n    }\n    updateTarget(target, keyframes, options = {}) {\n        const { currentTarget, targets } = this;\n        if (!targets.has(currentTarget)) {\n            targets.set(currentTarget, {});\n        }\n        const targetData = targets.get(currentTarget);\n        targetData[target] = { keyframes, options };\n    }\n    then(resolve, reject) {\n        return this.readyPromise.then(resolve, reject);\n    }\n}\nfunction view(update, defaultOptions = {}) {\n    return new ViewTransitionBuilder(update, defaultOptions);\n}\n\nexport { ViewTransitionBuilder, view };\n"],"names":[],"mappings":";;;;AAAA;AACA;AADA;;;AAGA;;;;;CAKC,GACD,MAAM;IACF,YAAY,MAAM,EAAE,UAAU,CAAC,CAAC,CAAE;QAC9B,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,OAAO,GAAG,IAAI;QACnB,IAAI,CAAC,WAAW,GAAG,wLAAA,CAAA,OAAI;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,QAAQ,CAAC;YAC7B,IAAI,CAAC,WAAW,GAAG;QACvB;QACA,eAAe;YACX,CAAA,GAAA,+LAAA,CAAA,qBAAkB,AAAD,EAAE,QAAQ,SAAS,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,YAAc,IAAI,CAAC,WAAW,CAAC;QAC3F;IACJ;IACA,IAAI,QAAQ,EAAE;QACV,IAAI,CAAC,aAAa,GAAG;QACrB,OAAO,IAAI;IACf;IACA,OAAO,SAAS,EAAE,OAAO,EAAE;QACvB,IAAI,CAAC,YAAY,CAAC,UAAU,WAAW;QACvC,OAAO,IAAI;IACf;IACA,IAAI,SAAS,EAAE,OAAO,EAAE;QACpB,IAAI,CAAC,YAAY,CAAC,OAAO,WAAW;QACpC,OAAO,IAAI;IACf;IACA,IAAI,SAAS,EAAE,OAAO,EAAE;QACpB,IAAI,CAAC,YAAY,CAAC,OAAO,WAAW;QACpC,OAAO,IAAI;IACf;IACA,MAAM,SAAS,EAAE,OAAO,EAAE;QACtB,IAAI,CAAC,YAAY,CAAC,SAAS,WAAW;QACtC,OAAO,IAAI;IACf;IACA,KAAK,SAAS,EAAE,OAAO,EAAE;QACrB,IAAI,CAAC,YAAY,CAAC,QAAQ,WAAW;QACrC,OAAO,IAAI;IACf;IACA,UAAU,OAAO,EAAE;QACf,IAAI,CAAC,YAAY,CAAC,SAAS;YAAE,SAAS;QAAE,GAAG;QAC3C,IAAI,CAAC,YAAY,CAAC,QAAQ;YAAE,SAAS;QAAE,GAAG;QAC1C,OAAO,IAAI;IACf;IACA,aAAa,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,EAAE;QAC1C,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,IAAI;QACvC,IAAI,CAAC,QAAQ,GAAG,CAAC,gBAAgB;YAC7B,QAAQ,GAAG,CAAC,eAAe,CAAC;QAChC;QACA,MAAM,aAAa,QAAQ,GAAG,CAAC;QAC/B,UAAU,CAAC,OAAO,GAAG;YAAE;YAAW;QAAQ;IAC9C;IACA,KAAK,OAAO,EAAE,MAAM,EAAE;QAClB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS;IAC3C;AACJ;AACA,SAAS,KAAK,MAAM,EAAE,iBAAiB,CAAC,CAAC;IACrC,OAAO,IAAI,sBAAsB,QAAQ;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 3697, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/ui/node_modules/motion-dom/dist/es/gestures/drag/state/set-active.mjs"],"sourcesContent":["import { isDragging } from './is-active.mjs';\n\nfunction setDragLock(axis) {\n    if (axis === \"x\" || axis === \"y\") {\n        if (isDragging[axis]) {\n            return null;\n        }\n        else {\n            isDragging[axis] = true;\n            return () => {\n                isDragging[axis] = false;\n            };\n        }\n    }\n    else {\n        if (isDragging.x || isDragging.y) {\n            return null;\n        }\n        else {\n            isDragging.x = isDragging.y = true;\n            return () => {\n                isDragging.x = isDragging.y = false;\n            };\n        }\n    }\n}\n\nexport { setDragLock };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,YAAY,IAAI;IACrB,IAAI,SAAS,OAAO,SAAS,KAAK;QAC9B,IAAI,2NAAA,CAAA,aAAU,CAAC,KAAK,EAAE;YAClB,OAAO;QACX,OACK;YACD,2NAAA,CAAA,aAAU,CAAC,KAAK,GAAG;YACnB,OAAO;gBACH,2NAAA,CAAA,aAAU,CAAC,KAAK,GAAG;YACvB;QACJ;IACJ,OACK;QACD,IAAI,2NAAA,CAAA,aAAU,CAAC,CAAC,IAAI,2NAAA,CAAA,aAAU,CAAC,CAAC,EAAE;YAC9B,OAAO;QACX,OACK;YACD,2NAAA,CAAA,aAAU,CAAC,CAAC,GAAG,2NAAA,CAAA,aAAU,CAAC,CAAC,GAAG;YAC9B,OAAO;gBACH,2NAAA,CAAA,aAAU,CAAC,CAAC,GAAG,2NAAA,CAAA,aAAU,CAAC,CAAC,GAAG;YAClC;QACJ;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3730, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3736, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 3758, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3793, "column": 0}, "map": {"version":3,"file":"stegaClean.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/node_modules/%40vercel/stega/dist/index.mjs","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/stega/stegaClean.ts"],"sourcesContent":["var s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},c={0:8203,1:8204,2:8205,3:65279},u=new Array(4).fill(String.fromCodePoint(c[0])).join(\"\"),m=String.fromCharCode(0);function E(t){let e=JSON.stringify(t);return`${u}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,\"0\")).map(o=>String.fromCodePoint(c[o])).join(\"\")}).join(\"\")}`}function y(t){let e=JSON.stringify(t);return Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(16).padStart(2,\"0\")).map(o=>String.fromCodePoint(s[o])).join(\"\")}).join(\"\")}function I(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t)?!1:Boolean(Date.parse(t))}function T(t){try{new URL(t,t.startsWith(\"/\")?\"https://acme.com\":void 0)}catch{return!1}return!0}function C(t,e,r=\"auto\"){return r===!0||r===\"auto\"&&(I(t)||T(t))?t:`${t}${E(e)}`}var x=Object.fromEntries(Object.entries(c).map(t=>t.reverse())),g=Object.fromEntries(Object.entries(s).map(t=>t.reverse())),S=`${Object.values(s).map(t=>`\\\\u{${t.toString(16)}}`).join(\"\")}`,f=new RegExp(`[${S}]{4,}`,\"gu\");function G(t){let e=t.match(f);if(!!e)return h(e[0],!0)[0]}function $(t){let e=t.match(f);if(!!e)return e.map(r=>h(r)).flat()}function h(t,e=!1){let r=Array.from(t);if(r.length%2===0){if(r.length%4||!t.startsWith(u))return A(r,e)}else throw new Error(\"Encoded data has invalid length\");let n=[];for(let o=r.length*.25;o--;){let p=r.slice(o*4,o*4+4).map(d=>x[d.codePointAt(0)]).join(\"\");n.unshift(String.fromCharCode(parseInt(p,4)))}if(e){n.shift();let o=n.indexOf(m);return o===-1&&(o=n.length),[JSON.parse(n.slice(0,o).join(\"\"))]}return n.join(\"\").split(m).filter(Boolean).map(o=>JSON.parse(o))}function A(t,e){var d;let r=[];for(let i=t.length*.5;i--;){let a=`${g[t[i*2].codePointAt(0)]}${g[t[i*2+1].codePointAt(0)]}`;r.unshift(String.fromCharCode(parseInt(a,16)))}let n=[],o=[r.join(\"\")],p=10;for(;o.length;){let i=o.shift();try{if(n.push(JSON.parse(i)),e)return n}catch(a){if(!p--)throw a;let l=+((d=a.message.match(/\\sposition\\s(\\d+)$/))==null?void 0:d[1]);if(!l)throw a;o.unshift(i.substring(0,l),i.substring(l))}}return n}function _(t){var e;return{cleaned:t.replace(f,\"\"),encoded:((e=t.match(f))==null?void 0:e[0])||\"\"}}function O(t){return t&&JSON.parse(_(JSON.stringify(t)).cleaned)}export{f as VERCEL_STEGA_REGEX,y as legacyStegaEncode,O as vercelStegaClean,C as vercelStegaCombine,G as vercelStegaDecode,$ as vercelStegaDecodeAll,E as vercelStegaEncode,_ as vercelStegaSplit};\n","import {vercelStegaClean} from '@vercel/stega'\n\n/**\n * Can take a `result` JSON from a `const {result} = client.fetch(query, params, {filterResponse: false})`\n * and remove all stega-encoded data from it.\n * @public\n */\nexport function stegaClean<Result = unknown>(result: Result): Result {\n  return vercelStegaClean<Result>(result)\n}\n\n/**\n * Can take a `result` JSON from a `const {result} = client.fetch(query, params, {filterResponse: false})`\n * and remove all stega-encoded data from it.\n * @alpha\n * @deprecated Use `stegaClean` instead\n */\nexport const vercelStegaCleanAll = stegaClean\n"],"names":["vercelStegaClean"],"mappings":"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","ignoreList":[0,1]}},
    {"offset": {"line": 3862, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3868, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/http/errors.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/http/request.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/generateHelpUrl.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/validators.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/util/once.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/warnings.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/config.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/util/getSelection.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/patch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/transaction.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/http/requestOptions.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/encodeQueryString.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/dataMethods.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/assets/AssetsClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/util/defaults.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/util/pick.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/listen.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/data/live.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/datasets/DatasetsClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/projects/ProjectsClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/users/UsersClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/SanityClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/defineCreateClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/defineDeprecatedCreateClient.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/http/nodeMiddleware.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/index.ts"],"sourcesContent":["import type {ActionError, Any, ErrorProps, MutationError} from '../types'\n\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5\n\n/** @public */\nexport class ClientError extends Error {\n  response: ErrorProps['response']\n  statusCode: ErrorProps['statusCode'] = 400\n  responseBody: ErrorProps['responseBody']\n  details: ErrorProps['details']\n\n  constructor(res: Any) {\n    const props = extractErrorProps(res)\n    super(props.message)\n    Object.assign(this, props)\n  }\n}\n\n/** @public */\nexport class ServerError extends Error {\n  response: ErrorProps['response']\n  statusCode: ErrorProps['statusCode'] = 500\n  responseBody: ErrorProps['responseBody']\n  details: ErrorProps['details']\n\n  constructor(res: Any) {\n    const props = extractErrorProps(res)\n    super(props.message)\n    Object.assign(this, props)\n  }\n}\n\nfunction extractErrorProps(res: Any): ErrorProps {\n  const body = res.body\n  const props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res),\n    message: '',\n    details: undefined as Any,\n  }\n\n  // API/Boom style errors ({statusCode, error, message})\n  if (body.error && body.message) {\n    props.message = `${body.error} - ${body.message}`\n    return props\n  }\n\n  // Mutation errors (specifically)\n  if (isMutationError(body) || isActionError(body)) {\n    const allItems = body.error.items || []\n    const items = allItems\n      .slice(0, MAX_ITEMS_IN_ERROR_MESSAGE)\n      .map((item) => item.error?.description)\n      .filter(Boolean)\n    let itemsStr = items.length ? `:\\n- ${items.join('\\n- ')}` : ''\n    if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n      itemsStr += `\\n...and ${allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE} more`\n    }\n    props.message = `${body.error.description}${itemsStr}`\n    props.details = body.error\n    return props\n  }\n\n  // Query/database errors ({error: {description, other, arb, props}})\n  if (body.error && body.error.description) {\n    props.message = body.error.description\n    props.details = body.error\n    return props\n  }\n\n  // Other, more arbitrary errors\n  props.message = body.error || body.message || httpErrorMessage(res)\n  return props\n}\n\nfunction isMutationError(body: Any): body is MutationError {\n  return (\n    isPlainObject(body) &&\n    isPlainObject(body.error) &&\n    body.error.type === 'mutationError' &&\n    typeof body.error.description === 'string'\n  )\n}\n\nfunction isActionError(body: Any): body is ActionError {\n  return (\n    isPlainObject(body) &&\n    isPlainObject(body.error) &&\n    body.error.type === 'actionError' &&\n    typeof body.error.description === 'string'\n  )\n}\n\nfunction isPlainObject(obj: Any): obj is Record<string, unknown> {\n  return typeof obj === 'object' && obj !== null && !Array.isArray(obj)\n}\n\nfunction httpErrorMessage(res: Any) {\n  const statusMessage = res.statusMessage ? ` ${res.statusMessage}` : ''\n  return `${res.method}-request to ${res.url} resulted in HTTP ${res.statusCode}${statusMessage}`\n}\n\nfunction stringifyBody(body: Any, res: Any) {\n  const contentType = (res.headers['content-type'] || '').toLowerCase()\n  const isJson = contentType.indexOf('application/json') !== -1\n  return isJson ? JSON.stringify(body, null, 2) : body\n}\n\n/** @public */\nexport class CorsOriginError extends Error {\n  projectId: string\n  addOriginUrl?: URL\n\n  constructor({projectId}: {projectId: string}) {\n    super('CorsOriginError')\n    this.name = 'CorsOriginError'\n    this.projectId = projectId\n\n    const url = new URL(`https://sanity.io/manage/project/${projectId}/api`)\n    if (typeof location !== 'undefined') {\n      const {origin} = location\n      url.searchParams.set('cors', 'add')\n      url.searchParams.set('origin', origin)\n      this.addOriginUrl = url\n      this.message = `The current origin is not allowed to connect to the Live Content API. Add it here: ${url}`\n    } else {\n      this.message = `The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${url}`\n    }\n  }\n}\n","import {getIt, type Middlewares, Requester} from 'get-it'\nimport {jsonRequest, jsonResponse, observable, progress, retry} from 'get-it/middleware'\nimport {Observable} from 'rxjs'\n\nimport type {Any} from '../types'\nimport {ClientError, ServerError} from './errors'\n\nconst httpError = {\n  onResponse: (res: Any) => {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res)\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res)\n    }\n\n    return res\n  },\n}\n\nconst printWarnings = {\n  onResponse: (res: Any) => {\n    const warn = res.headers['x-sanity-warning']\n    const warnings = Array.isArray(warn) ? warn : [warn]\n    warnings.filter(Boolean).forEach((msg) => console.warn(msg)) // eslint-disable-line no-console\n    return res\n  },\n}\n\n/** @internal */\nexport function defineHttpRequest(envMiddleware: Middlewares): Requester {\n  return getIt([\n    retry({shouldRetry}),\n    ...envMiddleware,\n    printWarnings,\n    jsonRequest(),\n    jsonResponse(),\n    progress(),\n    httpError,\n    observable({implementation: Observable}),\n  ])\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction shouldRetry(err: any, attempt: number, options: any) {\n  // Allow opting out of retries\n  if (options.maxRetries === 0) return false\n\n  // By default `retry.shouldRetry` doesn't retry on server errors so we add our own logic.\n\n  const isSafe = options.method === 'GET' || options.method === 'HEAD'\n  const uri = options.uri || options.url\n  const isQuery = uri.startsWith('/data/query')\n  const isRetriableResponse =\n    err.response &&\n    (err.response.statusCode === 429 ||\n      err.response.statusCode === 502 ||\n      err.response.statusCode === 503)\n\n  // We retry the following errors:\n  // - 429 means that the request was rate limited. It's a bit difficult\n  //   to know exactly how long it makes sense to wait and/or how many\n  //   attempts we should retry, but the backoff should alleviate the\n  //   additional load.\n  // - 502/503 can occur when certain components struggle to talk to their\n  //   upstream dependencies. This is most likely a temporary problem\n  //   and retrying makes sense.\n\n  if ((isSafe || isQuery) && isRetriableResponse) return true\n\n  return retry.shouldRetry(err, attempt, options)\n}\n","const BASE_URL = 'https://www.sanity.io/help/'\n\nexport function generateHelpUrl(slug: string) {\n  return BASE_URL + slug\n}\n","import type {Any, InitializedClientConfig} from './types'\n\nconst VALID_ASSET_TYPES = ['image', 'file']\nconst VALID_INSERT_LOCATIONS = ['before', 'after', 'replace']\n\nexport const dataset = (name: string) => {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error(\n      'Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters',\n    )\n  }\n}\n\nexport const projectId = (id: string) => {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes')\n  }\n}\n\nexport const validateAssetType = (type: string) => {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(`Invalid asset type: ${type}. Must be one of ${VALID_ASSET_TYPES.join(', ')}`)\n  }\n}\n\nexport const validateObject = (op: string, val: Any) => {\n  if (val === null || typeof val !== 'object' || Array.isArray(val)) {\n    throw new Error(`${op}() takes an object of properties`)\n  }\n}\n\nexport const validateDocumentId = (op: string, id: string) => {\n  if (typeof id !== 'string' || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes('..')) {\n    throw new Error(`${op}(): \"${id}\" is not a valid document ID`)\n  }\n}\n\nexport const requireDocumentId = (op: string, doc: Record<string, Any>) => {\n  if (!doc._id) {\n    throw new Error(`${op}() requires that the document contains an ID (\"_id\" property)`)\n  }\n\n  validateDocumentId(op, doc._id)\n}\n\nexport const validateInsert = (at: string, selector: string, items: Any[]) => {\n  const signature = 'insert(at, selector, items)'\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    const valid = VALID_INSERT_LOCATIONS.map((loc) => `\"${loc}\"`).join(', ')\n    throw new Error(`${signature} takes an \"at\"-argument which is one of: ${valid}`)\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(`${signature} takes a \"selector\"-argument which must be a string`)\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(`${signature} takes an \"items\"-argument which must be an array`)\n  }\n}\n\nexport const hasDataset = (config: InitializedClientConfig): string => {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries')\n  }\n\n  return config.dataset || ''\n}\n\nexport const requestTag = (tag: string) => {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\n      `Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.`,\n    )\n  }\n\n  return tag\n}\n","import type {Any} from '../types'\n\nexport function once(fn: Any) {\n  let didCall = false\n  let returnValue: Any\n  return (...args: Any[]) => {\n    if (didCall) {\n      return returnValue\n    }\n    returnValue = fn(...args)\n    didCall = true\n    return returnValue\n  }\n}\n","import {generateHelpUrl} from './generateHelpUrl'\nimport {Any} from './types'\nimport {once} from './util/once'\n\nconst createWarningPrinter = (message: string[]) =>\n  // eslint-disable-next-line no-console\n  once((...args: Any[]) => console.warn(message.join(' '), ...args))\n\nexport const printCdnAndWithCredentialsWarning = createWarningPrinter([\n  `Because you set \\`withCredentials\\` to true, we will override your \\`useCdn\\``,\n  `setting to be false since (cookie-based) credentials are never set on the CDN`,\n])\n\nexport const printCdnWarning = createWarningPrinter([\n  `Since you haven't set a value for \\`useCdn\\`, we will deliver content using our`,\n  `global, edge-cached API-CDN. If you wish to have content delivered faster, set`,\n  `\\`useCdn: false\\` to use the Live API. Note: You may incur higher costs using the live API.`,\n])\n\nexport const printCdnPreviewDraftsWarning = createWarningPrinter([\n  `The Sanity client is configured with the \\`perspective\\` set to \\`previewDrafts\\`, which doesn't support the API-CDN.`,\n  `The Live API will be used instead. Set \\`useCdn: false\\` in your configuration to hide this warning.`,\n])\n\nexport const printBrowserTokenWarning = createWarningPrinter([\n  'You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.',\n  `See ${generateHelpUrl(\n    'js-client-browser-token',\n  )} for more information and how to hide this warning.`,\n])\n\nexport const printNoApiVersionSpecifiedWarning = createWarningPrinter([\n  'Using the Sanity client without specifying an API version is deprecated.',\n  `See ${generateHelpUrl('js-client-api-version')}`,\n])\n\nexport const printNoDefaultExport = createWarningPrinter([\n  'The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.',\n])\n","import {generateHelpUrl} from './generateHelpUrl'\nimport type {ClientConfig, ClientPerspective, InitializedClientConfig} from './types'\nimport * as validate from './validators'\nimport * as warnings from './warnings'\n\nconst defaultCdnHost = 'apicdn.sanity.io'\nexport const defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  stega: {enabled: false},\n} satisfies ClientConfig\n\nconst LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0']\nconst isLocal = (host: string) => LOCALHOSTS.indexOf(host) !== -1\n\nfunction validateApiVersion(apiVersion: string) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return\n  }\n\n  const apiDate = new Date(apiVersion)\n  const apiVersionValid =\n    /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`')\n  }\n}\n\n/**\n * @internal - it may have breaking changes in any release\n */\nexport function validateApiPerspective(\n  perspective: unknown,\n): asserts perspective is ClientPerspective {\n  if (Array.isArray(perspective)) {\n    for (const perspectiveValue of perspective) {\n      if (perspectiveValue === 'published') {\n        continue\n      }\n      if (perspectiveValue === 'drafts') {\n        continue\n      }\n      if (\n        typeof perspectiveValue === 'string' &&\n        perspectiveValue.startsWith('r') &&\n        perspectiveValue !== 'raw'\n      ) {\n        continue\n      }\n      throw new TypeError(\n        'Invalid API perspective value, expected `published`, `drafts` or a valid release identifier string',\n      )\n    }\n    return\n  }\n  switch (perspective as ClientPerspective) {\n    case 'previewDrafts':\n    case 'drafts':\n    case 'published':\n    case 'raw':\n      return\n    default:\n      throw new TypeError(\n        'Invalid API perspective string, expected `published`, `previewDrafts` or `raw`',\n      )\n  }\n}\n\nexport const initConfig = (\n  config: Partial<ClientConfig>,\n  prevConfig: Partial<ClientConfig>,\n): InitializedClientConfig => {\n  const specifiedConfig = {\n    ...prevConfig,\n    ...config,\n    stega: {\n      ...(typeof prevConfig.stega === 'boolean'\n        ? {enabled: prevConfig.stega}\n        : prevConfig.stega || defaultConfig.stega),\n      ...(typeof config.stega === 'boolean' ? {enabled: config.stega} : config.stega || {}),\n    },\n  }\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning()\n  }\n\n  const newConfig = {\n    ...defaultConfig,\n    ...specifiedConfig,\n  } as InitializedClientConfig\n  const projectBased = newConfig.useProjectHostname\n\n  if (typeof Promise === 'undefined') {\n    const helpUrl = generateHelpUrl('js-client-promise-polyfill')\n    throw new Error(`No native Promise-implementation found, polyfill needed - see ${helpUrl}`)\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`')\n  }\n\n  if (typeof newConfig.perspective !== 'undefined') {\n    validateApiPerspective(newConfig.perspective)\n  }\n\n  if ('encodeSourceMap' in newConfig) {\n    throw new Error(\n      `It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?`,\n    )\n  }\n  if ('encodeSourceMapAtPath' in newConfig) {\n    throw new Error(\n      `It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?`,\n    )\n  }\n  if (typeof newConfig.stega.enabled !== 'boolean') {\n    throw new Error(`stega.enabled must be a boolean, received ${newConfig.stega.enabled}`)\n  }\n  if (newConfig.stega.enabled && newConfig.stega.studioUrl === undefined) {\n    throw new Error(`stega.studioUrl must be defined when stega.enabled is true`)\n  }\n  if (\n    newConfig.stega.enabled &&\n    typeof newConfig.stega.studioUrl !== 'string' &&\n    typeof newConfig.stega.studioUrl !== 'function'\n  ) {\n    throw new Error(\n      `stega.studioUrl must be a string or a function, received ${newConfig.stega.studioUrl}`,\n    )\n  }\n\n  const isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname\n  const isLocalhost = isBrowser && isLocal(window.location.hostname)\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning()\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning()\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId!)\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset)\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix\n      ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '')\n      : undefined\n  }\n\n  newConfig.apiVersion = `${newConfig.apiVersion}`.replace(/^v/, '')\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost\n\n  if (newConfig.useCdn === true && newConfig.withCredentials) {\n    warnings.printCdnAndWithCredentialsWarning()\n  }\n\n  // If `useCdn` is undefined, we treat it as `true`\n  newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials\n\n  validateApiVersion(newConfig.apiVersion)\n\n  const hostParts = newConfig.apiHost.split('://', 2)\n  const protocol = hostParts[0]\n  const host = hostParts[1]\n  const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = `${protocol}://${newConfig.projectId}.${host}/v${newConfig.apiVersion}`\n    newConfig.cdnUrl = `${protocol}://${newConfig.projectId}.${cdnHost}/v${newConfig.apiVersion}`\n  } else {\n    newConfig.url = `${newConfig.apiHost}/v${newConfig.apiVersion}`\n    newConfig.cdnUrl = newConfig.url\n  }\n\n  return newConfig\n}\n","import type {MutationSelection} from '../types'\n\nexport function getSelection(sel: unknown): MutationSelection {\n  if (typeof sel === 'string') {\n    return {id: sel}\n  }\n\n  if (Array.isArray(sel)) {\n    return {query: '*[_id in $ids]', params: {ids: sel}}\n  }\n\n  if (typeof sel === 'object' && sel !== null && 'query' in sel && typeof sel.query === 'string') {\n    return 'params' in sel && typeof sel.params === 'object' && sel.params !== null\n      ? {query: sel.query, params: sel.params}\n      : {query: sel.query}\n  }\n\n  const selectionOpts = [\n    '* Document ID (<docId>)',\n    '* Array of document IDs',\n    '* Object containing `query`',\n  ].join('\\n')\n\n  throw new Error(`Unknown selection - must be one of:\\n\\n${selectionOpts}`)\n}\n","import {type Observable} from 'rxjs'\n\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {\n  AllDocumentIdsMutationOptions,\n  AllDocumentsMutationOptions,\n  Any,\n  AttributeSet,\n  BaseMutationOptions,\n  FirstDocumentIdMutationOptions,\n  FirstDocumentMutationOptions,\n  MultipleMutationResult,\n  PatchMutationOperation,\n  PatchOperations,\n  PatchSelection,\n  SanityDocument,\n  SingleMutationResult,\n} from '../types'\nimport {getSelection} from '../util/getSelection'\nimport {validateInsert, validateObject} from '../validators'\n\n/** @internal */\nexport class BasePatch {\n  protected selection: PatchSelection\n  protected operations: PatchOperations\n  constructor(selection: PatchSelection, operations: PatchOperations = {}) {\n    this.selection = selection\n    this.operations = operations\n  }\n\n  /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  set(attrs: AttributeSet): this {\n    return this._assign('set', attrs)\n  }\n\n  /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  setIfMissing(attrs: AttributeSet): this {\n    return this._assign('setIfMissing', attrs)\n  }\n\n  /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */\n  diffMatchPatch(attrs: AttributeSet): this {\n    validateObject('diffMatchPatch', attrs)\n    return this._assign('diffMatchPatch', attrs)\n  }\n\n  /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */\n  unset(attrs: string[]): this {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given')\n    }\n\n    this.operations = Object.assign({}, this.operations, {unset: attrs})\n    return this\n  }\n\n  /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */\n  inc(attrs: {[key: string]: number}): this {\n    return this._assign('inc', attrs)\n  }\n\n  /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */\n  dec(attrs: {[key: string]: number}): this {\n    return this._assign('dec', attrs)\n  }\n\n  /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */\n  insert(at: 'before' | 'after' | 'replace', selector: string, items: Any[]): this {\n    validateInsert(at, selector, items)\n    return this._assign('insert', {[at]: selector, items})\n  }\n\n  /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */\n  append(selector: string, items: Any[]): this {\n    return this.insert('after', `${selector}[-1]`, items)\n  }\n\n  /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */\n  prepend(selector: string, items: Any[]): this {\n    return this.insert('before', `${selector}[0]`, items)\n  }\n\n  /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */\n  splice(selector: string, start: number, deleteCount?: number, items?: Any[]): this {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    const delAll = typeof deleteCount === 'undefined' || deleteCount === -1\n    const startIndex = start < 0 ? start - 1 : start\n    const delCount = delAll ? -1 : Math.max(0, start + deleteCount)\n    const delRange = startIndex < 0 && delCount >= 0 ? '' : delCount\n    const rangeSelector = `${selector}[${startIndex}:${delRange}]`\n    return this.insert('replace', rangeSelector, items || [])\n  }\n\n  /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */\n  ifRevisionId(rev: string): this {\n    this.operations.ifRevisionID = rev\n    return this\n  }\n\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  serialize(): PatchMutationOperation {\n    return {...getSelection(this.selection), ...this.operations}\n  }\n\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  toJSON(): PatchMutationOperation {\n    return this.serialize()\n  }\n\n  /**\n   * Clears the patch of all operations\n   */\n  reset(): this {\n    this.operations = {}\n    return this\n  }\n\n  protected _assign(op: keyof PatchOperations, props: Any, merge = true): this {\n    validateObject(op, props)\n    this.operations = Object.assign({}, this.operations, {\n      [op]: Object.assign({}, (merge && this.operations[op]) || {}, props),\n    })\n    return this\n  }\n\n  protected _set(op: keyof PatchOperations, props: Any): this {\n    return this._assign(op, props, false)\n  }\n}\n\n/** @public */\nexport class ObservablePatch extends BasePatch {\n  #client?: ObservableSanityClient\n\n  constructor(\n    selection: PatchSelection,\n    operations?: PatchOperations,\n    client?: ObservableSanityClient,\n  ) {\n    super(selection, operations)\n    this.#client = client\n  }\n\n  /**\n   * Clones the patch\n   */\n  clone(): ObservablePatch {\n    return new ObservablePatch(this.selection, {...this.operations}, this.#client)\n  }\n\n  /**\n   * Commit the patch, returning an observable that produces the first patched document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Commit the patch, returning an observable that produces an array of the mutated documents\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Commit the patch, returning an observable that produces a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: FirstDocumentIdMutationOptions): Observable<SingleMutationResult>\n  /**\n   * Commit the patch, returning an observable that produces a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: AllDocumentIdsMutationOptions): Observable<MultipleMutationResult>\n  /**\n   * Commit the patch, returning an observable that produces the first patched document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?:\n      | FirstDocumentMutationOptions\n      | AllDocumentsMutationOptions\n      | FirstDocumentIdMutationOptions\n      | AllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    if (!this.#client) {\n      throw new Error(\n        'No `client` passed to patch, either provide one or pass the ' +\n          'patch to a clients `mutate()` method',\n      )\n    }\n\n    const returnFirst = typeof this.selection === 'string'\n    const opts = Object.assign({returnFirst, returnDocuments: true}, options)\n    return this.#client.mutate<R>({patch: this.serialize()} as Any, opts)\n  }\n}\n\n/** @public */\nexport class Patch extends BasePatch {\n  #client?: SanityClient\n  constructor(selection: PatchSelection, operations?: PatchOperations, client?: SanityClient) {\n    super(selection, operations)\n    this.#client = client\n  }\n\n  /**\n   * Clones the patch\n   */\n  clone(): Patch {\n    return new Patch(this.selection, {...this.operations}, this.#client)\n  }\n\n  /**\n   * Commit the patch, returning a promise that resolves to the first patched document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Commit the patch, returning a promise that resolves to an array of the mutated documents\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Commit the patch, returning a promise that resolves to a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: FirstDocumentIdMutationOptions): Promise<SingleMutationResult>\n  /**\n   * Commit the patch, returning a promise that resolves to a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: AllDocumentIdsMutationOptions): Promise<MultipleMutationResult>\n  /**\n   * Commit the patch, returning a promise that resolves to the first patched document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?:\n      | FirstDocumentMutationOptions\n      | AllDocumentsMutationOptions\n      | FirstDocumentIdMutationOptions\n      | AllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    if (!this.#client) {\n      throw new Error(\n        'No `client` passed to patch, either provide one or pass the ' +\n          'patch to a clients `mutate()` method',\n      )\n    }\n\n    const returnFirst = typeof this.selection === 'string'\n    const opts = Object.assign({returnFirst, returnDocuments: true}, options)\n    return this.#client.mutate<R>({patch: this.serialize()} as Any, opts)\n  }\n}\n","import type {Observable} from 'rxjs'\n\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {\n  Any,\n  BaseMutationOptions,\n  IdentifiedSanityDocumentStub,\n  MultipleMutationResult,\n  Mutation,\n  PatchOperations,\n  SanityDocument,\n  SanityDocumentStub,\n  SingleMutationResult,\n  TransactionAllDocumentIdsMutationOptions,\n  TransactionAllDocumentsMutationOptions,\n  TransactionFirstDocumentIdMutationOptions,\n  TransactionFirstDocumentMutationOptions,\n} from '../types'\nimport * as validators from '../validators'\nimport {ObservablePatch, Patch} from './patch'\n\n/** @public */\nexport type PatchBuilder = (patch: Patch) => Patch\n/** @public */\nexport type ObservablePatchBuilder = (patch: ObservablePatch) => ObservablePatch\n\nconst defaultMutateOptions = {returnDocuments: false}\n\n/** @internal */\nexport class BaseTransaction {\n  protected operations: Mutation[]\n  protected trxId?: string\n  constructor(operations: Mutation[] = [], transactionId?: string) {\n    this.operations = operations\n    this.trxId = transactionId\n  }\n  /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(doc: SanityDocumentStub<R>): this {\n    validators.validateObject('create', doc)\n    return this._add({create: doc})\n  }\n\n  /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    doc: IdentifiedSanityDocumentStub<R>,\n  ): this {\n    const op = 'createIfNotExists'\n    validators.validateObject(op, doc)\n    validators.requireDocumentId(op, doc)\n    return this._add({[op]: doc})\n  }\n\n  /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    doc: IdentifiedSanityDocumentStub<R>,\n  ): this {\n    const op = 'createOrReplace'\n    validators.validateObject(op, doc)\n    validators.requireDocumentId(op, doc)\n    return this._add({[op]: doc})\n  }\n\n  /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */\n  delete(documentId: string): this {\n    validators.validateDocumentId('delete', documentId)\n    return this._add({delete: {id: documentId}})\n  }\n\n  /**\n   * Gets the current transaction ID, if any\n   */\n  transactionId(): string | undefined\n  /**\n   * Set the ID of this transaction.\n   *\n   * @param id - Transaction ID\n   */\n  transactionId(id: string): this\n  transactionId(id?: string): this | string | undefined {\n    if (!id) {\n      return this.trxId\n    }\n\n    this.trxId = id\n    return this\n  }\n\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  serialize(): Mutation[] {\n    return [...this.operations]\n  }\n\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  toJSON(): Mutation[] {\n    return this.serialize()\n  }\n\n  /**\n   * Clears the transaction of all operations\n   */\n  reset(): this {\n    this.operations = []\n    return this\n  }\n\n  protected _add(mut: Mutation): this {\n    this.operations.push(mut)\n    return this\n  }\n}\n\n/** @public */\nexport class Transaction extends BaseTransaction {\n  #client?: SanityClient\n  constructor(operations?: Mutation[], client?: SanityClient, transactionId?: string) {\n    super(operations, transactionId)\n    this.#client = client\n  }\n\n  /**\n   * Clones the transaction\n   */\n  clone(): Transaction {\n    return new Transaction([...this.operations], this.#client, this.trxId)\n  }\n\n  /**\n   * Commit the transaction, returning a promise that resolves to the first mutated document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any>>(\n    options: TransactionFirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Commit the transaction, returning a promise that resolves to an array of the mutated documents\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any>>(\n    options: TransactionAllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Commit the transaction, returning a promise that resolves to a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: TransactionFirstDocumentIdMutationOptions): Promise<SingleMutationResult>\n  /**\n   * Commit the transaction, returning a promise that resolves to a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: TransactionAllDocumentIdsMutationOptions): Promise<MultipleMutationResult>\n  /**\n   * Commit the transaction, returning a promise that resolves to a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options?: BaseMutationOptions): Promise<MultipleMutationResult>\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?:\n      | TransactionFirstDocumentMutationOptions\n      | TransactionAllDocumentsMutationOptions\n      | TransactionFirstDocumentIdMutationOptions\n      | TransactionAllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    if (!this.#client) {\n      throw new Error(\n        'No `client` passed to transaction, either provide one or pass the ' +\n          'transaction to a clients `mutate()` method',\n      )\n    }\n\n    return this.#client.mutate<R>(\n      this.serialize() as Any,\n      Object.assign({transactionId: this.trxId}, defaultMutateOptions, options || {}),\n    )\n  }\n\n  /**\n   * Performs a patch on the given document ID. Can either be a builder function or an object of patch operations.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to perform the patch operation on\n   * @param patchOps - Operations to perform, or a builder function\n   */\n  patch(documentId: string, patchOps?: PatchBuilder | PatchOperations): this\n  /**\n   * Adds the given patch instance to the transaction.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param patch - Patch to execute\n   */\n  patch(patch: Patch): this\n  patch(patchOrDocumentId: Patch | string, patchOps?: PatchBuilder | PatchOperations): this {\n    const isBuilder = typeof patchOps === 'function'\n    const isPatch = typeof patchOrDocumentId !== 'string' && patchOrDocumentId instanceof Patch\n\n    // transaction.patch(client.patch('documentId').inc({visits: 1}))\n    if (isPatch) {\n      return this._add({patch: patchOrDocumentId.serialize()})\n    }\n\n    // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n    if (isBuilder) {\n      const patch = patchOps(new Patch(patchOrDocumentId, {}, this.#client))\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch')\n      }\n\n      return this._add({patch: patch.serialize()})\n    }\n\n    return this._add({patch: {id: patchOrDocumentId, ...patchOps}})\n  }\n}\n\n/** @public */\nexport class ObservableTransaction extends BaseTransaction {\n  #client?: ObservableSanityClient\n  constructor(operations?: Mutation[], client?: ObservableSanityClient, transactionId?: string) {\n    super(operations, transactionId)\n    this.#client = client\n  }\n\n  /**\n   * Clones the transaction\n   */\n  clone(): ObservableTransaction {\n    return new ObservableTransaction([...this.operations], this.#client, this.trxId)\n  }\n\n  /**\n   * Commit the transaction, returning an observable that produces the first mutated document\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any>>(\n    options: TransactionFirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Commit the transaction, returning an observable that produces an array of the mutated documents\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit<R extends Record<string, Any>>(\n    options: TransactionAllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Commit the transaction, returning an observable that produces a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: TransactionFirstDocumentIdMutationOptions): Observable<SingleMutationResult>\n  /**\n   * Commit the transaction, returning an observable that produces a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options: TransactionAllDocumentIdsMutationOptions): Observable<MultipleMutationResult>\n  /**\n   * Commit the transaction, returning an observable that produces a mutation result object\n   *\n   * @param options - Options for the mutation operation\n   */\n  commit(options?: BaseMutationOptions): Observable<MultipleMutationResult>\n  commit<R extends Record<string, Any> = Record<string, Any>>(\n    options?:\n      | TransactionFirstDocumentMutationOptions\n      | TransactionAllDocumentsMutationOptions\n      | TransactionFirstDocumentIdMutationOptions\n      | TransactionAllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    if (!this.#client) {\n      throw new Error(\n        'No `client` passed to transaction, either provide one or pass the ' +\n          'transaction to a clients `mutate()` method',\n      )\n    }\n\n    return this.#client.mutate<R>(\n      this.serialize() as Any,\n      Object.assign({transactionId: this.trxId}, defaultMutateOptions, options || {}),\n    )\n  }\n\n  /**\n   * Performs a patch on the given document ID. Can either be a builder function or an object of patch operations.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to perform the patch operation on\n   * @param patchOps - Operations to perform, or a builder function\n   */\n  patch(documentId: string, patchOps?: ObservablePatchBuilder | PatchOperations): this\n  /**\n   * Adds the given patch instance to the transaction.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param patch - ObservablePatch to execute\n   */\n  patch(patch: ObservablePatch): this\n  patch(\n    patchOrDocumentId: ObservablePatch | string,\n    patchOps?: ObservablePatchBuilder | PatchOperations,\n  ): this {\n    const isBuilder = typeof patchOps === 'function'\n    const isPatch =\n      typeof patchOrDocumentId !== 'string' && patchOrDocumentId instanceof ObservablePatch\n\n    // transaction.patch(client.patch('documentId').inc({visits: 1}))\n    if (isPatch) {\n      return this._add({patch: patchOrDocumentId.serialize()})\n    }\n\n    // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n    if (isBuilder) {\n      const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, this.#client))\n      if (!(patch instanceof ObservablePatch)) {\n        throw new Error('function passed to `patch()` must return the patch')\n      }\n\n      return this._add({patch: patch.serialize()})\n    }\n\n    return this._add({patch: {id: patchOrDocumentId, ...patchOps}})\n  }\n}\n","import type {RequestOptions} from 'get-it'\n\nimport type {Any} from '../types'\n\nconst projectHeader = 'X-Sanity-Project-ID'\n\nexport function requestOptions(config: Any, overrides: Any = {}): Omit<RequestOptions, 'url'> {\n  const headers: Any = {}\n\n  const token = overrides.token || config.token\n  if (token) {\n    headers.Authorization = `Bearer ${token}`\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId\n  }\n\n  const withCredentials = Boolean(\n    typeof overrides.withCredentials === 'undefined'\n      ? config.token || config.withCredentials\n      : overrides.withCredentials,\n  )\n\n  const timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout\n  return Object.assign({}, overrides, {\n    headers: Object.assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials,\n    fetch:\n      typeof overrides.fetch === 'object' && typeof config.fetch === 'object'\n        ? {...config.fetch, ...overrides.fetch}\n        : overrides.fetch || config.fetch,\n  })\n}\n","import type {Any, ListenParams, QueryParams} from '../types'\n\nexport const encodeQueryString = ({\n  query,\n  params = {},\n  options = {},\n}: {\n  query: string\n  params?: ListenParams | QueryParams\n  options?: Any\n}) => {\n  const searchParams = new URLSearchParams()\n  // We generally want tag at the start of the query string\n  const {tag, includeMutations, returnQuery, ...opts} = options\n  // We're using `append` instead of `set` to support React Native: https://github.com/facebook/react-native/blob/1982c4722fcc51aa87e34cf562672ee4aff540f1/packages/react-native/Libraries/Blob/URL.js#L86-L88\n  if (tag) searchParams.append('tag', tag)\n  searchParams.append('query', query)\n\n  // Iterate params, the keys are prefixed with `$` and their values JSON stringified\n  for (const [key, value] of Object.entries(params)) {\n    searchParams.append(`$${key}`, JSON.stringify(value))\n  }\n  // Options are passed as-is\n  for (const [key, value] of Object.entries(opts)) {\n    // Skip falsy values\n    if (value) searchParams.append(key, `${value}`)\n  }\n\n  // `returnQuery` is default `true`, so needs an explicit `false` handling\n  if (returnQuery === false) searchParams.append('returnQuery', 'false')\n\n  // `includeMutations` is default `true`, so needs an explicit `false` handling\n  if (includeMutations === false) searchParams.append('includeMutations', 'false')\n\n  return `?${searchParams}`\n}\n","import {from, type MonoTypeOperatorFunction, Observable} from 'rxjs'\nimport {combineLatestWith, filter, map} from 'rxjs/operators'\n\nimport {validateApiPerspective} from '../config'\nimport {requestOptions} from '../http/requestOptions'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport {stegaClean} from '../stega/stegaClean'\nimport type {\n  Action,\n  AllDocumentIdsMutationOptions,\n  AllDocumentsMutationOptions,\n  Any,\n  BaseActionOptions,\n  BaseMutationOptions,\n  FirstDocumentIdMutationOptions,\n  FirstDocumentMutationOptions,\n  HttpRequest,\n  HttpRequestEvent,\n  IdentifiedSanityDocumentStub,\n  InitializedStegaConfig,\n  MultipleActionResult,\n  MultipleMutationResult,\n  Mutation,\n  MutationSelection,\n  QueryOptions,\n  RawQueryResponse,\n  RequestObservableOptions,\n  RequestOptions,\n  SanityDocument,\n  SingleActionResult,\n  SingleMutationResult,\n} from '../types'\nimport {getSelection} from '../util/getSelection'\nimport * as validate from '../validators'\nimport * as validators from '../validators'\nimport {printCdnPreviewDraftsWarning} from '../warnings'\nimport {encodeQueryString} from './encodeQueryString'\nimport {ObservablePatch, Patch} from './patch'\nimport {ObservableTransaction, Transaction} from './transaction'\n\nconst excludeFalsey = (param: Any, defValue: Any) => {\n  const value = typeof param === 'undefined' ? defValue : param\n  return param === false ? undefined : value\n}\n\nconst getMutationQuery = (options: BaseMutationOptions = {}) => {\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync',\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation,\n  }\n}\n\nconst isResponse = (event: Any) => event.type === 'response'\nconst getBody = (event: Any) => event.body\n\nconst indexBy = (docs: Any[], attr: Any) =>\n  docs.reduce((indexed, doc) => {\n    indexed[attr(doc)] = doc\n    return indexed\n  }, Object.create(null))\n\nconst getQuerySizeLimit = 11264\n\n/** @internal */\nexport function _fetch<R, Q>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  _stega: InitializedStegaConfig,\n  query: string,\n  _params: Q = {} as Q,\n  options: QueryOptions = {},\n): Observable<RawQueryResponse<R> | R> {\n  const stega =\n    'stega' in options\n      ? {\n          ...(_stega || {}),\n          ...(typeof options.stega === 'boolean' ? {enabled: options.stega} : options.stega || {}),\n        }\n      : _stega\n  const params = stega.enabled ? stegaClean(_params) : _params\n  const mapResponse =\n    options.filterResponse === false ? (res: Any) => res : (res: Any) => res.result\n\n  const {cache, next, ...opts} = {\n    // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n    // This is necessary in React Server Components to avoid opting out of Request Memoization.\n    useAbortSignal: typeof options.signal !== 'undefined',\n    // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n    resultSourceMap: stega.enabled ? 'withKeyArraySelector' : options.resultSourceMap,\n    ...options,\n    // Default to not returning the query, unless `filterResponse` is `false`,\n    // or `returnQuery` is explicitly set. `true` is the default in Content Lake, so skip if truthy\n    returnQuery: options.filterResponse === false && options.returnQuery !== false,\n  }\n  const reqOpts =\n    typeof cache !== 'undefined' || typeof next !== 'undefined'\n      ? {...opts, fetch: {cache, next}}\n      : opts\n\n  const $request = _dataRequest(client, httpRequest, 'query', {query, params}, reqOpts)\n  return stega.enabled\n    ? $request.pipe(\n        combineLatestWith(\n          from(\n            import('../stega/stegaEncodeSourceMap').then(\n              ({stegaEncodeSourceMap}) => stegaEncodeSourceMap,\n            ),\n          ),\n        ),\n        map(\n          ([res, stegaEncodeSourceMap]: [\n            Any,\n            (typeof import('../stega/stegaEncodeSourceMap'))['stegaEncodeSourceMap'],\n          ]) => {\n            const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega)\n            return mapResponse({...res, result})\n          },\n        ),\n      )\n    : $request.pipe(map(mapResponse))\n}\n\n/** @internal */\nexport function _getDocument<R extends Record<string, Any>>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  id: string,\n  opts: {signal?: AbortSignal; tag?: string} = {},\n): Observable<SanityDocument<R> | undefined> {\n  const options = {\n    uri: _getDataUrl(client, 'doc', id),\n    json: true,\n    tag: opts.tag,\n    signal: opts.signal,\n  }\n  return _requestObservable<SanityDocument<R> | undefined>(client, httpRequest, options).pipe(\n    filter(isResponse),\n    map((event) => event.body.documents && event.body.documents[0]),\n  )\n}\n\n/** @internal */\nexport function _getDocuments<R extends Record<string, Any>>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  ids: string[],\n  opts: {signal?: AbortSignal; tag?: string} = {},\n): Observable<(SanityDocument<R> | null)[]> {\n  const options = {\n    uri: _getDataUrl(client, 'doc', ids.join(',')),\n    json: true,\n    tag: opts.tag,\n    signal: opts.signal,\n  }\n  return _requestObservable<(SanityDocument<R> | null)[]>(client, httpRequest, options).pipe(\n    filter(isResponse),\n    map((event: Any) => {\n      const indexed = indexBy(event.body.documents || [], (doc: Any) => doc._id)\n      return ids.map((id) => indexed[id] || null)\n    }),\n  )\n}\n\n/** @internal */\nexport function _createIfNotExists<R extends Record<string, Any>>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  doc: IdentifiedSanityDocumentStub<R>,\n  options?:\n    | AllDocumentIdsMutationOptions\n    | AllDocumentsMutationOptions\n    | BaseMutationOptions\n    | FirstDocumentIdMutationOptions\n    | FirstDocumentMutationOptions,\n): Observable<\n  SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n> {\n  validators.requireDocumentId('createIfNotExists', doc)\n  return _create<R>(client, httpRequest, doc, 'createIfNotExists', options)\n}\n\n/** @internal */\nexport function _createOrReplace<R extends Record<string, Any>>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  doc: IdentifiedSanityDocumentStub<R>,\n  options?:\n    | AllDocumentIdsMutationOptions\n    | AllDocumentsMutationOptions\n    | BaseMutationOptions\n    | FirstDocumentIdMutationOptions\n    | FirstDocumentMutationOptions,\n): Observable<\n  SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n> {\n  validators.requireDocumentId('createOrReplace', doc)\n  return _create<R>(client, httpRequest, doc, 'createOrReplace', options)\n}\n\n/** @internal */\nexport function _delete<R extends Record<string, Any>>(\n  client: ObservableSanityClient | SanityClient,\n  httpRequest: HttpRequest,\n  selection: string | MutationSelection,\n  options?:\n    | AllDocumentIdsMutationOptions\n    | AllDocumentsMutationOptions\n    | BaseMutationOptions\n    | FirstDocumentIdMutationOptions\n    | FirstDocumentMutationOptions,\n): Observable<\n  SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n> {\n  return _dataRequest(\n    client,\n    httpRequest,\n    'mutate',\n    {mutations: [{delete: getSelection(selection)}]},\n    options,\n  )\n}\n\n/** @internal */\nexport function _mutate<R extends Record<string, Any>>(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  mutations: Mutation<R>[] | Patch | ObservablePatch | Transaction | ObservableTransaction,\n  options?:\n    | AllDocumentIdsMutationOptions\n    | AllDocumentsMutationOptions\n    | BaseMutationOptions\n    | FirstDocumentIdMutationOptions\n    | FirstDocumentMutationOptions,\n): Observable<\n  SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n> {\n  let mut: Mutation | Mutation[]\n  if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n    mut = {patch: mutations.serialize()}\n  } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n    mut = mutations.serialize()\n  } else {\n    mut = mutations\n  }\n\n  const muts = Array.isArray(mut) ? mut : [mut]\n  const transactionId = (options && options.transactionId) || undefined\n  return _dataRequest(client, httpRequest, 'mutate', {mutations: muts, transactionId}, options)\n}\n\n/**\n * @internal\n */\nexport function _action(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  actions: Action | Action[],\n  options?: BaseActionOptions,\n): Observable<SingleActionResult | MultipleActionResult> {\n  const acts = Array.isArray(actions) ? actions : [actions]\n  const transactionId = (options && options.transactionId) || undefined\n  const skipCrossDatasetReferenceValidation =\n    (options && options.skipCrossDatasetReferenceValidation) || undefined\n  const dryRun = (options && options.dryRun) || undefined\n\n  return _dataRequest(\n    client,\n    httpRequest,\n    'actions',\n    {actions: acts, transactionId, skipCrossDatasetReferenceValidation, dryRun},\n    options,\n  )\n}\n\n/**\n * @internal\n */\nexport function _dataRequest(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  endpoint: string,\n  body: Any,\n  options: Any = {},\n): Any {\n  const isMutation = endpoint === 'mutate'\n  const isAction = endpoint === 'actions'\n  const isQuery = endpoint === 'query'\n\n  // Check if the query string is within a configured threshold,\n  // in which case we can use GET. Otherwise, use POST.\n  const strQuery = isMutation || isAction ? '' : encodeQueryString(body)\n  const useGet = !isMutation && !isAction && strQuery.length < getQuerySizeLimit\n  const stringQuery = useGet ? strQuery : ''\n  const returnFirst = options.returnFirst\n  const {timeout, token, tag, headers, returnQuery, lastLiveEventId, cacheMode} = options\n\n  const uri = _getDataUrl(client, endpoint, stringQuery)\n\n  const reqOptions = {\n    method: useGet ? 'GET' : 'POST',\n    uri: uri,\n    json: true,\n    body: useGet ? undefined : body,\n    query: isMutation && getMutationQuery(options),\n    timeout,\n    headers,\n    token,\n    tag,\n    returnQuery,\n    perspective: options.perspective,\n    resultSourceMap: options.resultSourceMap,\n    lastLiveEventId: Array.isArray(lastLiveEventId) ? lastLiveEventId[0] : lastLiveEventId,\n    cacheMode: cacheMode,\n    canUseCdn: isQuery,\n    signal: options.signal,\n    fetch: options.fetch,\n    useAbortSignal: options.useAbortSignal,\n    useCdn: options.useCdn,\n  }\n\n  return _requestObservable(client, httpRequest, reqOptions).pipe(\n    filter(isResponse),\n    map(getBody),\n    map((res) => {\n      if (!isMutation) {\n        return res\n      }\n\n      // Should we return documents?\n      const results = res.results || []\n      if (options.returnDocuments) {\n        return returnFirst\n          ? results[0] && results[0].document\n          : results.map((mut: Any) => mut.document)\n      }\n\n      // Return a reduced subset\n      const key = returnFirst ? 'documentId' : 'documentIds'\n      const ids = returnFirst ? results[0] && results[0].id : results.map((mut: Any) => mut.id)\n      return {\n        transactionId: res.transactionId,\n        results: results,\n        [key]: ids,\n      }\n    }),\n  )\n}\n\n/**\n * @internal\n */\nexport function _create<R extends Record<string, Any>>(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  doc: Any,\n  op: Any,\n  options: Any = {},\n): Observable<\n  SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n> {\n  const mutation = {[op]: doc}\n  const opts = Object.assign({returnFirst: true, returnDocuments: true}, options)\n  return _dataRequest(client, httpRequest, 'mutate', {mutations: [mutation]}, opts)\n}\n\n/**\n * @internal\n */\nexport function _requestObservable<R>(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  options: RequestObservableOptions,\n): Observable<HttpRequestEvent<R>> {\n  const uri = options.url || (options.uri as string)\n  const config = client.config()\n\n  // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n  // Only the /data endpoint is currently available through API-CDN.\n  const canUseCdn =\n    typeof options.canUseCdn === 'undefined'\n      ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0\n      : options.canUseCdn\n\n  let useCdn = (options.useCdn ?? config.useCdn) && canUseCdn\n\n  const tag =\n    options.tag && config.requestTagPrefix\n      ? [config.requestTagPrefix, options.tag].join('.')\n      : options.tag || config.requestTagPrefix\n\n  if (tag && options.tag !== null) {\n    options.query = {tag: validate.requestTag(tag), ...options.query}\n  }\n\n  // GROQ query-only parameters\n  if (\n    ['GET', 'HEAD', 'POST'].indexOf(options.method || 'GET') >= 0 &&\n    uri.indexOf('/data/query/') === 0\n  ) {\n    const resultSourceMap = options.resultSourceMap ?? config.resultSourceMap\n    if (resultSourceMap !== undefined && resultSourceMap !== false) {\n      options.query = {resultSourceMap, ...options.query}\n    }\n    const perspectiveOption = options.perspective || config.perspective\n    if (typeof perspectiveOption !== 'undefined') {\n      validateApiPerspective(perspectiveOption)\n      options.query = {\n        perspective: Array.isArray(perspectiveOption)\n          ? perspectiveOption.join(',')\n          : perspectiveOption,\n        ...options.query,\n      }\n      // If the perspective is set to `previewDrafts` we can't use the CDN, the API will throw\n      if (perspectiveOption === 'previewDrafts' && useCdn) {\n        useCdn = false\n        printCdnPreviewDraftsWarning()\n      }\n    }\n\n    if (options.lastLiveEventId) {\n      options.query = {...options.query, lastLiveEventId: options.lastLiveEventId}\n    }\n\n    if (options.returnQuery === false) {\n      options.query = {returnQuery: 'false', ...options.query}\n    }\n\n    if (useCdn && options.cacheMode == 'noStale') {\n      options.query = {cacheMode: 'noStale', ...options.query}\n    }\n  }\n\n  const reqOptions = requestOptions(\n    config,\n    Object.assign({}, options, {\n      url: _getUrl(client, uri, useCdn),\n    }),\n  ) as RequestOptions\n\n  const request = new Observable<HttpRequestEvent<R>>((subscriber) =>\n    httpRequest(reqOptions, config.requester!).subscribe(subscriber),\n  )\n\n  return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request\n}\n\n/**\n * @internal\n */\nexport function _request<R>(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  options: Any,\n): Observable<R> {\n  const observable = _requestObservable<R>(client, httpRequest, options).pipe(\n    filter((event: Any) => event.type === 'response'),\n    map((event: Any) => event.body),\n  )\n\n  return observable\n}\n\n/**\n * @internal\n */\nexport function _getDataUrl(\n  client: SanityClient | ObservableSanityClient,\n  operation: string,\n  path?: string,\n): string {\n  const config = client.config()\n  const catalog = validators.hasDataset(config)\n  const baseUri = `/${operation}/${catalog}`\n  const uri = path ? `${baseUri}/${path}` : baseUri\n  return `/data${uri}`.replace(/\\/($|\\?)/, '$1')\n}\n\n/**\n * @internal\n */\nexport function _getUrl(\n  client: SanityClient | ObservableSanityClient,\n  uri: string,\n  canUseCdn = false,\n): string {\n  const {url, cdnUrl} = client.config()\n  const base = canUseCdn ? cdnUrl : url\n  return `${base}/${uri.replace(/^\\//, '')}`\n}\n\n/**\n * @internal\n */\nfunction _withAbortSignal<T>(signal: AbortSignal): MonoTypeOperatorFunction<T> {\n  return (input) => {\n    return new Observable((observer) => {\n      const abort = () => observer.error(_createAbortError(signal))\n\n      if (signal && signal.aborted) {\n        abort()\n        return\n      }\n      const subscription = input.subscribe(observer)\n      signal.addEventListener('abort', abort)\n      return () => {\n        signal.removeEventListener('abort', abort)\n        subscription.unsubscribe()\n      }\n    })\n  }\n}\n// DOMException is supported on most modern browsers and Node.js 18+.\n// @see https://developer.mozilla.org/en-US/docs/Web/API/DOMException#browser_compatibility\nconst isDomExceptionSupported = Boolean(globalThis.DOMException)\n\n/**\n * @internal\n * @param signal\n * Original source copied from https://github.com/sindresorhus/ky/blob/740732c78aad97e9aec199e9871bdbf0ae29b805/source/errors/DOMException.ts\n * TODO: When targeting Node.js 18, use `signal.throwIfAborted()` (https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/throwIfAborted)\n */\nfunction _createAbortError(signal?: AbortSignal) {\n  /*\n  NOTE: Use DomException with AbortError name as specified in MDN docs (https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort)\n  > When abort() is called, the fetch() promise rejects with an Error of type DOMException, with name AbortError.\n  */\n  if (isDomExceptionSupported) {\n    return new DOMException(signal?.reason ?? 'The operation was aborted.', 'AbortError')\n  }\n\n  // DOMException not supported. Fall back to use of error and override name.\n  const error = new Error(signal?.reason ?? 'The operation was aborted.')\n  error.name = 'AbortError'\n\n  return error\n}\n","import {lastValueFrom, type Observable} from 'rxjs'\nimport {filter, map} from 'rxjs/operators'\n\nimport {_requestObservable} from '../data/dataMethods'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {\n  Any,\n  HttpRequest,\n  HttpRequestEvent,\n  ResponseEvent,\n  SanityAssetDocument,\n  SanityImageAssetDocument,\n  UploadBody,\n  UploadClientConfig,\n} from '../types'\nimport * as validators from '../validators'\n\n/** @internal */\nexport class ObservableAssetsClient {\n  #client: ObservableSanityClient\n  #httpRequest: HttpRequest\n  constructor(client: ObservableSanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Uploads a file asset to the configured dataset\n   *\n   * @param assetType - Asset type (file)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'file',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Observable<HttpRequestEvent<{document: SanityAssetDocument}>>\n\n  /**\n   * Uploads an image asset to the configured dataset\n   *\n   * @param assetType - Asset type (image)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Observable<HttpRequestEvent<{document: SanityImageAssetDocument}>>\n  /**\n   * Uploads a file or an image asset to the configured dataset\n   *\n   * @param assetType - Asset type (file/image)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'file' | 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Observable<HttpRequestEvent<{document: SanityAssetDocument | SanityImageAssetDocument}>>\n  upload(\n    assetType: 'file' | 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Observable<HttpRequestEvent<{document: SanityAssetDocument | SanityImageAssetDocument}>> {\n    return _upload(this.#client, this.#httpRequest, assetType, body, options)\n  }\n}\n\n/** @internal */\nexport class AssetsClient {\n  #client: SanityClient\n  #httpRequest: HttpRequest\n  constructor(client: SanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Uploads a file asset to the configured dataset\n   *\n   * @param assetType - Asset type (file)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'file',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Promise<SanityAssetDocument>\n  /**\n   * Uploads an image asset to the configured dataset\n   *\n   * @param assetType - Asset type (image)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Promise<SanityImageAssetDocument>\n  /**\n   * Uploads a file or an image asset to the configured dataset\n   *\n   * @param assetType - Asset type (file/image)\n   * @param body - Asset content - can be a browser File instance, a Blob, a Node.js Buffer instance or a Node.js ReadableStream.\n   * @param options - Options to use for the upload\n   */\n  upload(\n    assetType: 'file' | 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Promise<SanityAssetDocument | SanityImageAssetDocument>\n  upload(\n    assetType: 'file' | 'image',\n    body: UploadBody,\n    options?: UploadClientConfig,\n  ): Promise<SanityAssetDocument | SanityImageAssetDocument> {\n    const observable = _upload(this.#client, this.#httpRequest, assetType, body, options)\n    return lastValueFrom(\n      observable.pipe(\n        filter((event: Any) => event.type === 'response'),\n        map(\n          (event) =>\n            (event as ResponseEvent<{document: SanityAssetDocument | SanityImageAssetDocument}>)\n              .body.document,\n        ),\n      ),\n    )\n  }\n}\n\nfunction _upload(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  assetType: 'image' | 'file',\n  body: UploadBody,\n  opts: UploadClientConfig = {},\n): Observable<HttpRequestEvent<{document: SanityAssetDocument | SanityImageAssetDocument}>> {\n  validators.validateAssetType(assetType)\n\n  // If an empty array is given, explicitly set `none` to override API defaults\n  let meta = opts.extract || undefined\n  if (meta && !meta.length) {\n    meta = ['none']\n  }\n\n  const dataset = validators.hasDataset(client.config())\n  const assetEndpoint = assetType === 'image' ? 'images' : 'files'\n  const options = optionsFromFile(opts, body)\n  const {tag, label, title, description, creditLine, filename, source} = options\n  const query: Any = {\n    label,\n    title,\n    description,\n    filename,\n    meta,\n    creditLine,\n  }\n  if (source) {\n    query.sourceId = source.id\n    query.sourceName = source.name\n    query.sourceUrl = source.url\n  }\n  return _requestObservable(client, httpRequest, {\n    tag,\n    method: 'POST',\n    timeout: options.timeout || 0,\n    uri: `/assets/${assetEndpoint}/${dataset}`,\n    headers: options.contentType ? {'Content-Type': options.contentType} : {},\n    query,\n    body,\n  })\n}\n\nfunction optionsFromFile(opts: Record<string, Any>, file: Any) {\n  if (typeof File === 'undefined' || !(file instanceof File)) {\n    return opts\n  }\n\n  return Object.assign(\n    {\n      filename: opts.preserveFilename === false ? undefined : file.name,\n      contentType: file.type,\n    },\n    opts,\n  )\n}\n","import type {Any} from '../types'\n\nexport default (obj: Any, defaults: Any) =>\n  Object.keys(defaults)\n    .concat(Object.keys(obj))\n    .reduce((target, prop) => {\n      target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop]\n\n      return target\n    }, {} as Any)\n","import {Any} from '../types'\n\nexport const pick = (obj: Any, props: Any) =>\n  props.reduce((selection: Any, prop: Any) => {\n    if (typeof obj[prop] === 'undefined') {\n      return selection\n    }\n\n    selection[prop] = obj[prop]\n    return selection\n  }, {})\n","import {Observable} from 'rxjs'\n\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {Any, ListenEvent, ListenOptions, ListenParams, MutationEvent} from '../types'\nimport defaults from '../util/defaults'\nimport {pick} from '../util/pick'\nimport {_getDataUrl} from './dataMethods'\nimport {encodeQueryString} from './encodeQueryString'\n\n// Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\nconst MAX_URL_LENGTH = 16000 - 1200\n\nconst possibleOptions = [\n  'includePreviousRevision',\n  'includeResult',\n  'includeMutations',\n  'visibility',\n  'effectFormat',\n  'tag',\n]\n\nconst defaultOptions = {\n  includeResult: true,\n}\n\n/**\n * Set up a listener that will be notified when mutations occur on documents matching the provided query/filter.\n *\n * @param query - GROQ-filter to listen to changes for\n * @param params - Optional query parameters\n * @param options - Optional listener options\n * @public\n */\nexport function _listen<R extends Record<string, Any> = Record<string, Any>>(\n  this: SanityClient | ObservableSanityClient,\n  query: string,\n  params?: ListenParams,\n): Observable<MutationEvent<R>>\n/**\n * Set up a listener that will be notified when mutations occur on documents matching the provided query/filter.\n *\n * @param query - GROQ-filter to listen to changes for\n * @param params - Optional query parameters\n * @param options - Optional listener options\n * @public\n */\nexport function _listen<R extends Record<string, Any> = Record<string, Any>>(\n  this: SanityClient | ObservableSanityClient,\n  query: string,\n  params?: ListenParams,\n  options?: ListenOptions,\n): Observable<ListenEvent<R>>\n/** @public */\nexport function _listen<R extends Record<string, Any> = Record<string, Any>>(\n  this: SanityClient | ObservableSanityClient,\n  query: string,\n  params?: ListenParams,\n  opts: ListenOptions = {},\n): Observable<MutationEvent<R> | ListenEvent<R>> {\n  const {url, token, withCredentials, requestTagPrefix} = this.config()\n  const tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag\n  const options = {...defaults(opts, defaultOptions), tag}\n  const listenOpts = pick(options, possibleOptions)\n  const qs = encodeQueryString({query, params, options: {tag, ...listenOpts}})\n\n  const uri = `${url}${_getDataUrl(this, 'listen', qs)}`\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable((observer) => observer.error(new Error('Query too large for listener')))\n  }\n\n  const listenFor = options.events ? options.events : ['mutation']\n  const shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1\n\n  const esOptions: EventSourceInit & {headers?: Record<string, string>} = {}\n  if (token || withCredentials) {\n    esOptions.withCredentials = true\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: `Bearer ${token}`,\n    }\n  }\n\n  return new Observable((observer) => {\n    let es: InstanceType<typeof import('@sanity/eventsource')>\n    let reconnectTimer: NodeJS.Timeout\n    let stopped = false\n    // Unsubscribe differs from stopped in that we will never reopen.\n    // Once it is`true`, it will never be `false` again.\n    let unsubscribed = false\n\n    open()\n\n    function onError() {\n      if (stopped) {\n        return\n      }\n\n      emitReconnect()\n\n      // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n      if (stopped) {\n        return\n      }\n\n      // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n      if (es.readyState === es.CLOSED) {\n        unsubscribe()\n        clearTimeout(reconnectTimer)\n        reconnectTimer = setTimeout(open, 100)\n      }\n    }\n\n    function onChannelError(err: Any) {\n      observer.error(cooerceError(err))\n    }\n\n    function onMessage(evt: Any) {\n      const event = parseEvent(evt)\n      return event instanceof Error ? observer.error(event) : observer.next(event)\n    }\n\n    function onDisconnect() {\n      stopped = true\n      unsubscribe()\n      observer.complete()\n    }\n\n    function unsubscribe() {\n      if (!es) return\n      es.removeEventListener('error', onError)\n      es.removeEventListener('channelError', onChannelError)\n      es.removeEventListener('disconnect', onDisconnect)\n      listenFor.forEach((type: string) => es.removeEventListener(type, onMessage))\n      es.close()\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({type: 'reconnect'})\n      }\n    }\n\n    async function getEventSource(): Promise<InstanceType<\n      typeof import('@sanity/eventsource')\n    > | void> {\n      const {default: EventSource} = await import('@sanity/eventsource')\n\n      // If the listener has been unsubscribed from before we managed to load the module,\n      // do not set up the EventSource.\n      if (unsubscribed) {\n        return\n      }\n\n      const evs = new EventSource(uri, esOptions)\n      evs.addEventListener('error', onError)\n      evs.addEventListener('channelError', onChannelError)\n      evs.addEventListener('disconnect', onDisconnect)\n      listenFor.forEach((type: string) => evs.addEventListener(type, onMessage))\n      return evs\n    }\n\n    function open() {\n      getEventSource()\n        .then((eventSource) => {\n          if (eventSource) {\n            es = eventSource\n            // Handle race condition where the observer is unsubscribed before the EventSource is set up\n            if (unsubscribed) {\n              unsubscribe()\n            }\n          }\n        })\n        .catch((reason) => {\n          observer.error(reason)\n          stop()\n        })\n    }\n\n    function stop() {\n      stopped = true\n      unsubscribe()\n      unsubscribed = true\n    }\n\n    return stop\n  })\n}\n\nfunction parseEvent(event: Any) {\n  try {\n    const data = (event.data && JSON.parse(event.data)) || {}\n    return Object.assign({type: event.type}, data)\n  } catch (err) {\n    return err\n  }\n}\n\nfunction cooerceError(err: Any) {\n  if (err instanceof Error) {\n    return err\n  }\n\n  const evt = parseEvent(err)\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt))\n}\n\nfunction extractErrorMessage(err: Any) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error'\n  }\n\n  if (err.error.description) {\n    return err.error.description\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2)\n}\n","import {Observable} from 'rxjs'\n\nimport {CorsOriginError} from '../http/errors'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {\n  Any,\n  LiveEventMessage,\n  LiveEventReconnect,\n  LiveEventRestart,\n  LiveEventWelcome,\n} from '../types'\nimport {_getDataUrl} from './dataMethods'\n\nconst requiredApiVersion = '2021-03-26'\n\n/**\n * @public\n */\nexport class LiveClient {\n  #client: SanityClient | ObservableSanityClient\n  constructor(client: SanityClient | ObservableSanityClient) {\n    this.#client = client\n  }\n\n  /**\n   * Requires `apiVersion` to be `2021-03-26` or later.\n   */\n  events({\n    includeDrafts = false,\n    tag: _tag,\n  }: {\n    /** @alpha this API is experimental and may change or even be removed */\n    includeDrafts?: boolean\n    /**\n     * Optional request tag for the listener. Use to identify the request in logs.\n     *\n     * @defaultValue `undefined`\n     */\n    tag?: string\n  } = {}): Observable<LiveEventMessage | LiveEventRestart | LiveEventReconnect | LiveEventWelcome> {\n    const {\n      projectId,\n      apiVersion: _apiVersion,\n      token,\n      withCredentials,\n      requestTagPrefix,\n    } = this.#client.config()\n    const apiVersion = _apiVersion.replace(/^v/, '')\n    if (apiVersion !== 'X' && apiVersion < requiredApiVersion) {\n      throw new Error(\n        `The live events API requires API version ${requiredApiVersion} or later. ` +\n          `The current API version is ${apiVersion}. ` +\n          `Please update your API version to use this feature.`,\n      )\n    }\n    if (includeDrafts && !token && !withCredentials) {\n      throw new Error(\n        `The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.`,\n      )\n    }\n    if (includeDrafts && apiVersion !== 'X') {\n      throw new Error(\n        `The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.`,\n      )\n    }\n    const path = _getDataUrl(this.#client, 'live/events')\n    const url = new URL(this.#client.getUrl(path, false))\n    const tag = _tag && requestTagPrefix ? [requestTagPrefix, _tag].join('.') : _tag\n    if (tag) {\n      url.searchParams.set('tag', tag)\n    }\n    if (includeDrafts) {\n      url.searchParams.set('includeDrafts', 'true')\n    }\n\n    const listenFor = ['restart', 'message', 'welcome', 'reconnect'] as const\n    const esOptions: EventSourceInit & {headers?: Record<string, string>} = {}\n    if (includeDrafts && token) {\n      esOptions.headers = {\n        Authorization: `Bearer ${token}`,\n      }\n    }\n    if (includeDrafts && withCredentials) {\n      esOptions.withCredentials = true\n    }\n\n    return new Observable((observer) => {\n      let es: InstanceType<typeof EventSource> | undefined\n      let reconnectTimer: NodeJS.Timeout\n      let stopped = false\n      // Unsubscribe differs from stopped in that we will never reopen.\n      // Once it is`true`, it will never be `false` again.\n      let unsubscribed = false\n\n      open()\n\n      // EventSource will emit a regular event if it fails to connect, however the API will emit an `error` MessageEvent if the server goes down\n      // So we need to handle both cases\n      function onError(evt: MessageEvent | Event) {\n        if (stopped) {\n          return\n        }\n\n        // If the event has a `data` property, then it`s a MessageEvent emitted by the API and we should forward the error and close the connection\n        if ('data' in evt) {\n          const event = parseEvent(evt)\n          observer.error(new Error(event.message, {cause: event}))\n        }\n\n        // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n        // we should never be in a disconnected state. By default, EventSource will reconnect\n        // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n        // (like when a laptop lid is closed), it closes the connection. In these cases we need\n        // to explicitly reconnect.\n        if (es!.readyState === es!.CLOSED) {\n          unsubscribe()\n          clearTimeout(reconnectTimer)\n          reconnectTimer = setTimeout(open, 100)\n        }\n      }\n\n      function onMessage(evt: Any) {\n        const event = parseEvent(evt)\n        return event instanceof Error ? observer.error(event) : observer.next(event)\n      }\n\n      function unsubscribe() {\n        if (!es) return\n        es.removeEventListener('error', onError)\n        for (const type of listenFor) {\n          es.removeEventListener(type, onMessage)\n        }\n        es.close()\n      }\n\n      async function getEventSource() {\n        const EventSourceImplementation: typeof EventSource =\n          typeof EventSource === 'undefined' || esOptions.headers || esOptions.withCredentials\n            ? ((await import('@sanity/eventsource')).default as unknown as typeof EventSource)\n            : EventSource\n\n        // If the listener has been unsubscribed from before we managed to load the module,\n        // do not set up the EventSource.\n        if (unsubscribed) {\n          return\n        }\n\n        // Detect if CORS is allowed, the way the CORS is checked supports preflight caching, so when the EventSource boots up it knows it sees the preflight was already made and we're good to go\n        try {\n          await fetch(url, {\n            method: 'OPTIONS',\n            mode: 'cors',\n            credentials: esOptions.withCredentials ? 'include' : 'omit',\n            headers: esOptions.headers,\n          })\n          if (unsubscribed) {\n            return\n          }\n        } catch {\n          // If the request fails, then we assume it was due to CORS, and we rethrow a special error that allows special handling in userland\n          throw new CorsOriginError({projectId: projectId!})\n        }\n\n        const evs = new EventSourceImplementation(url.toString(), esOptions)\n        evs.addEventListener('error', onError)\n        for (const type of listenFor) {\n          evs.addEventListener(type, onMessage)\n        }\n        return evs\n      }\n\n      function open() {\n        getEventSource()\n          .then((eventSource) => {\n            if (eventSource) {\n              es = eventSource\n              // Handle race condition where the observer is unsubscribed before the EventSource is set up\n              if (unsubscribed) {\n                unsubscribe()\n              }\n            }\n          })\n          .catch((reason) => {\n            observer.error(reason)\n            stop()\n          })\n      }\n\n      function stop() {\n        stopped = true\n        unsubscribe()\n        unsubscribed = true\n      }\n\n      return stop\n    })\n  }\n}\n\nfunction parseEvent(event: MessageEvent) {\n  try {\n    const data = (event.data && JSON.parse(event.data)) || {}\n    return {type: event.type, id: event.lastEventId, ...data}\n  } catch (err) {\n    return err\n  }\n}\n","import {lastValueFrom, type Observable} from 'rxjs'\n\nimport {_request} from '../data/dataMethods'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {DatasetAclMode, DatasetResponse, DatasetsResponse, HttpRequest} from '../types'\nimport * as validate from '../validators'\n\n/** @internal */\nexport class ObservableDatasetsClient {\n  #client: ObservableSanityClient\n  #httpRequest: HttpRequest\n  constructor(client: ObservableSanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name: string, options?: {aclMode?: DatasetAclMode}): Observable<DatasetResponse> {\n    return _modify<DatasetResponse>(this.#client, this.#httpRequest, 'PUT', name, options)\n  }\n\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name: string, options?: {aclMode?: DatasetAclMode}): Observable<DatasetResponse> {\n    return _modify<DatasetResponse>(this.#client, this.#httpRequest, 'PATCH', name, options)\n  }\n\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name: string): Observable<{deleted: true}> {\n    return _modify<{deleted: true}>(this.#client, this.#httpRequest, 'DELETE', name)\n  }\n\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list(): Observable<DatasetsResponse> {\n    return _request<DatasetsResponse>(this.#client, this.#httpRequest, {\n      uri: '/datasets',\n      tag: null,\n    })\n  }\n}\n\n/** @internal */\nexport class DatasetsClient {\n  #client: SanityClient\n  #httpRequest: HttpRequest\n  constructor(client: SanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name: string, options?: {aclMode?: DatasetAclMode}): Promise<DatasetResponse> {\n    return lastValueFrom(\n      _modify<DatasetResponse>(this.#client, this.#httpRequest, 'PUT', name, options),\n    )\n  }\n\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name: string, options?: {aclMode?: DatasetAclMode}): Promise<DatasetResponse> {\n    return lastValueFrom(\n      _modify<DatasetResponse>(this.#client, this.#httpRequest, 'PATCH', name, options),\n    )\n  }\n\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name: string): Promise<{deleted: true}> {\n    return lastValueFrom(_modify<{deleted: true}>(this.#client, this.#httpRequest, 'DELETE', name))\n  }\n\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list(): Promise<DatasetsResponse> {\n    return lastValueFrom(\n      _request<DatasetsResponse>(this.#client, this.#httpRequest, {uri: '/datasets', tag: null}),\n    )\n  }\n}\n\nfunction _modify<R = unknown>(\n  client: SanityClient | ObservableSanityClient,\n  httpRequest: HttpRequest,\n  method: 'DELETE' | 'PATCH' | 'PUT',\n  name: string,\n  options?: {aclMode?: DatasetAclMode},\n) {\n  validate.dataset(name)\n  return _request<R>(client, httpRequest, {\n    method,\n    uri: `/datasets/${name}`,\n    body: options,\n    tag: null,\n  })\n}\n","import {lastValueFrom, type Observable} from 'rxjs'\n\nimport {_request} from '../data/dataMethods'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {HttpRequest, SanityProject} from '../types'\n\n/** @internal */\nexport class ObservableProjectsClient {\n  #client: ObservableSanityClient\n  #httpRequest: HttpRequest\n  constructor(client: ObservableSanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Fetch a list of projects the authenticated user has access to.\n   *\n   * @param options - Options for the list request\n   * @param options.includeMembers - Whether to include members in the response (default: true)\n   */\n  list(options?: {includeMembers?: true}): Observable<SanityProject[]>\n  list(options?: {includeMembers?: false}): Observable<Omit<SanityProject, 'members'>[]>\n  list(options?: {\n    includeMembers?: boolean\n  }): Observable<SanityProject[] | Omit<SanityProject, 'members'>[]> {\n    const uri = options?.includeMembers === false ? '/projects?includeMembers=false' : '/projects'\n    return _request<SanityProject[]>(this.#client, this.#httpRequest, {uri})\n  }\n\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId: string): Observable<SanityProject> {\n    return _request<SanityProject>(this.#client, this.#httpRequest, {uri: `/projects/${projectId}`})\n  }\n}\n\n/** @internal */\nexport class ProjectsClient {\n  #client: SanityClient\n  #httpRequest: HttpRequest\n  constructor(client: SanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Fetch a list of projects the authenticated user has access to.\n   *\n   * @param options - Options for the list request\n   * @param options.includeMembers - Whether to include members in the response (default: true)\n   */\n  list(options?: {includeMembers?: true}): Promise<SanityProject[]>\n  list(options?: {includeMembers?: false}): Promise<Omit<SanityProject, 'members'>[]>\n  list(options?: {includeMembers?: boolean}): Promise<SanityProject[]> {\n    const uri = options?.includeMembers === false ? '/projects?includeMembers=false' : '/projects'\n    return lastValueFrom(_request<SanityProject[]>(this.#client, this.#httpRequest, {uri}))\n  }\n\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId: string): Promise<SanityProject> {\n    return lastValueFrom(\n      _request<SanityProject>(this.#client, this.#httpRequest, {uri: `/projects/${projectId}`}),\n    )\n  }\n}\n","import {lastValueFrom, type Observable} from 'rxjs'\n\nimport {_request} from '../data/dataMethods'\nimport type {ObservableSanityClient, SanityClient} from '../SanityClient'\nimport type {CurrentSanityUser, HttpRequest, SanityUser} from '../types'\n\n/** @public */\nexport class ObservableUsersClient {\n  #client: ObservableSanityClient\n  #httpRequest: HttpRequest\n  constructor(client: ObservableSanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById<T extends 'me' | string>(\n    id: T,\n  ): Observable<T extends 'me' ? CurrentSanityUser : SanityUser> {\n    return _request<T extends 'me' ? CurrentSanityUser : SanityUser>(\n      this.#client,\n      this.#httpRequest,\n      {uri: `/users/${id}`},\n    )\n  }\n}\n\n/** @public */\nexport class UsersClient {\n  #client: SanityClient\n  #httpRequest: HttpRequest\n  constructor(client: SanityClient, httpRequest: HttpRequest) {\n    this.#client = client\n    this.#httpRequest = httpRequest\n  }\n\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById<T extends 'me' | string>(\n    id: T,\n  ): Promise<T extends 'me' ? CurrentSanityUser : SanityUser> {\n    return lastValueFrom(\n      _request<T extends 'me' ? CurrentSanityUser : SanityUser>(this.#client, this.#httpRequest, {\n        uri: `/users/${id}`,\n      }),\n    )\n  }\n}\n","import {lastValueFrom, Observable} from 'rxjs'\n\nimport {AssetsClient, ObservableAssetsClient} from './assets/AssetsClient'\nimport {defaultConfig, initConfig} from './config'\nimport * as dataMethods from './data/dataMethods'\nimport {_listen} from './data/listen'\nimport {LiveClient} from './data/live'\nimport {ObservablePatch, Patch} from './data/patch'\nimport {ObservableTransaction, Transaction} from './data/transaction'\nimport {DatasetsClient, ObservableDatasetsClient} from './datasets/DatasetsClient'\nimport {ObservableProjectsClient, ProjectsClient} from './projects/ProjectsClient'\nimport type {\n  Action,\n  AllDocumentIdsMutationOptions,\n  AllDocumentsMutationOptions,\n  Any,\n  BaseActionOptions,\n  BaseMutationOptions,\n  ClientConfig,\n  ClientReturn,\n  FilteredResponseQueryOptions,\n  FirstDocumentIdMutationOptions,\n  FirstDocumentMutationOptions,\n  HttpRequest,\n  IdentifiedSanityDocumentStub,\n  InitializedClientConfig,\n  MultipleActionResult,\n  MultipleMutationResult,\n  Mutation,\n  MutationSelection,\n  PatchOperations,\n  PatchSelection,\n  QueryOptions,\n  QueryParams,\n  QueryWithoutParams,\n  RawQuerylessQueryResponse,\n  RawQueryResponse,\n  RawRequestOptions,\n  SanityDocument,\n  SanityDocumentStub,\n  SingleActionResult,\n  SingleMutationResult,\n  UnfilteredResponseQueryOptions,\n  UnfilteredResponseWithoutQuery,\n} from './types'\nimport {ObservableUsersClient, UsersClient} from './users/UsersClient'\n\nexport type {\n  _listen,\n  AssetsClient,\n  DatasetsClient,\n  LiveClient,\n  ObservableAssetsClient,\n  ObservableDatasetsClient,\n  ObservableProjectsClient,\n  ObservableUsersClient,\n  ProjectsClient,\n  UsersClient,\n}\n\n/** @public */\nexport class ObservableSanityClient {\n  assets: ObservableAssetsClient\n  datasets: ObservableDatasetsClient\n  live: LiveClient\n  projects: ObservableProjectsClient\n  users: ObservableUsersClient\n\n  /**\n   * Private properties\n   */\n  #clientConfig: InitializedClientConfig\n  #httpRequest: HttpRequest\n\n  /**\n   * Instance properties\n   */\n  listen = _listen\n\n  constructor(httpRequest: HttpRequest, config: ClientConfig = defaultConfig) {\n    this.config(config)\n\n    this.#httpRequest = httpRequest\n\n    this.assets = new ObservableAssetsClient(this, this.#httpRequest)\n    this.datasets = new ObservableDatasetsClient(this, this.#httpRequest)\n    this.live = new LiveClient(this)\n    this.projects = new ObservableProjectsClient(this, this.#httpRequest)\n    this.users = new ObservableUsersClient(this, this.#httpRequest)\n  }\n\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone(): ObservableSanityClient {\n    return new ObservableSanityClient(this.#httpRequest, this.config())\n  }\n\n  /**\n   * Returns the current client configuration\n   */\n  config(): InitializedClientConfig\n  /**\n   * Reconfigure the client. Note that this _mutates_ the current client.\n   */\n  config(newConfig?: Partial<ClientConfig>): this\n  config(newConfig?: Partial<ClientConfig>): ClientConfig | this {\n    if (newConfig === undefined) {\n      return {...this.#clientConfig}\n    }\n\n    if (this.#clientConfig && this.#clientConfig.allowReconfigure === false) {\n      throw new Error(\n        'Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client',\n      )\n    }\n\n    this.#clientConfig = initConfig(newConfig, this.#clientConfig || {})\n    return this\n  }\n\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig?: Partial<ClientConfig>): ObservableSanityClient {\n    const thisConfig = this.config()\n    return new ObservableSanityClient(this.#httpRequest, {\n      ...thisConfig,\n      ...newConfig,\n      stega: {\n        ...(thisConfig.stega || {}),\n        ...(typeof newConfig?.stega === 'boolean'\n          ? {enabled: newConfig.stega}\n          : newConfig?.stega || {}),\n      },\n    })\n  }\n\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams = QueryWithoutParams,\n    const G extends string = string,\n  >(query: G, params?: Q | QueryWithoutParams): Observable<ClientReturn<G, R>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Optional request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: G,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options?: FilteredResponseQueryOptions,\n  ): Observable<ClientReturn<G, R>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: string,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options: UnfilteredResponseQueryOptions,\n  ): Observable<RawQueryResponse<ClientReturn<G, R>>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: G,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options: UnfilteredResponseWithoutQuery,\n  ): Observable<RawQuerylessQueryResponse<ClientReturn<G, R>>>\n  fetch<R, Q, const G extends string>(\n    query: G,\n    params?: Q,\n    options?: QueryOptions,\n  ): Observable<RawQueryResponse<R> | R> {\n    return dataMethods._fetch<R, Q>(\n      this,\n      this.#httpRequest,\n      this.#clientConfig.stega,\n      query,\n      params,\n      options,\n    )\n  }\n\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options?: {tag?: string},\n  ): Observable<SanityDocument<R> | undefined> {\n    return dataMethods._getDocument<R>(this, this.#httpRequest, id, options)\n  }\n\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments<R extends Record<string, Any> = Record<string, Any>>(\n    ids: string[],\n    options?: {tag?: string},\n  ): Observable<(SanityDocument<R> | null)[]> {\n    return dataMethods._getDocuments<R>(this, this.#httpRequest, ids, options)\n  }\n\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns an observable that resolves to an array containing the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns an observable that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Observable<SingleMutationResult>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns an observable that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Observable<MultipleMutationResult>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return dataMethods._create<R>(this, this.#httpRequest, document, 'create', options)\n  }\n\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns an observable that resolves to an array containing the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns an observable that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Observable<SingleMutationResult>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns an observable that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Observable<MultipleMutationResult>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return dataMethods._createIfNotExists<R>(this, this.#httpRequest, document, options)\n  }\n\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns an observable that resolves to an array containing the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns an observable that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Observable<SingleMutationResult>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns an observable that resolves to a mutation result object containing the created document ID.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Observable<MultipleMutationResult>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns an observable that resolves to the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return dataMethods._createOrReplace<R>(this, this.#httpRequest, document, options)\n  }\n\n  /**\n   * Deletes a document with the given document ID.\n   * Returns an observable that resolves to the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns an observable that resolves to an array containing the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns an observable that resolves to a mutation result object containing the deleted document ID.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete(id: string, options: FirstDocumentIdMutationOptions): Observable<SingleMutationResult>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns an observable that resolves to a mutation result object containing the deleted document ID.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete(id: string, options: AllDocumentIdsMutationOptions): Observable<MultipleMutationResult>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns an observable that resolves to the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns an observable that resolves to first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns an observable that resolves to an array containing the deleted documents.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns an observable that resolves to a mutation result object containing the ID of the first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete(\n    selection: MutationSelection,\n    options: FirstDocumentIdMutationOptions,\n  ): Observable<SingleMutationResult>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns an observable that resolves to a mutation result object containing the document IDs that were deleted.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete(\n    selection: MutationSelection,\n    options: AllDocumentIdsMutationOptions,\n  ): Observable<MultipleMutationResult>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns an observable that resolves to first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: string | MutationSelection,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return dataMethods._delete<R>(this, this.#httpRequest, selection, options)\n  }\n\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns an observable that resolves to the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options: FirstDocumentMutationOptions,\n  ): Observable<SanityDocument<R>>\n  /**\n   * Perform mutation operations against the configured dataset.\n   * Returns an observable that resolves to an array of the mutated documents.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options: AllDocumentsMutationOptions,\n  ): Observable<SanityDocument<R>[]>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns an observable that resolves to a mutation result object containing the document ID of the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options: FirstDocumentIdMutationOptions,\n  ): Observable<SingleMutationResult>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns an observable that resolves to a mutation result object containing the mutated document IDs.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options: AllDocumentIdsMutationOptions,\n  ): Observable<MultipleMutationResult>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns an observable that resolves to the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options?: BaseMutationOptions,\n  ): Observable<SanityDocument<R>>\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | ObservablePatch | ObservableTransaction,\n    options?:\n      | FirstDocumentMutationOptions\n      | AllDocumentsMutationOptions\n      | FirstDocumentIdMutationOptions\n      | AllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Observable<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return dataMethods._mutate<R>(this, this.#httpRequest, operations, options)\n  }\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentId: string, operations?: PatchOperations): ObservablePatch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentIds - Array of document IDs to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentIds: string[], operations?: PatchOperations): ObservablePatch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - An object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(selection: MutationSelection, operations?: PatchOperations): ObservablePatch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(selection: PatchSelection, operations?: PatchOperations): ObservablePatch {\n    return new ObservablePatch(selection, operations, this)\n  }\n\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction<R extends Record<string, Any> = Record<string, Any>>(\n    operations?: Mutation<R>[],\n  ): ObservableTransaction {\n    return new ObservableTransaction(operations, this)\n  }\n\n  /**\n   * Perform action operations against the configured dataset\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */\n  action(\n    operations: Action | Action[],\n    options?: BaseActionOptions,\n  ): Observable<SingleActionResult | MultipleActionResult> {\n    return dataMethods._action(this, this.#httpRequest, operations, options)\n  }\n\n  /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */\n  request<R = Any>(options: RawRequestOptions): Observable<R> {\n    return dataMethods._request(this, this.#httpRequest, options)\n  }\n\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri: string, canUseCdn?: boolean): string {\n    return dataMethods._getUrl(this, uri, canUseCdn)\n  }\n\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation: string, path?: string): string {\n    return dataMethods._getDataUrl(this, operation, path)\n  }\n}\n\n/** @public */\nexport class SanityClient {\n  assets: AssetsClient\n  datasets: DatasetsClient\n  live: LiveClient\n  projects: ProjectsClient\n  users: UsersClient\n\n  /**\n   * Observable version of the Sanity client, with the same configuration as the promise-based one\n   */\n  observable: ObservableSanityClient\n\n  /**\n   * Private properties\n   */\n  #clientConfig: InitializedClientConfig\n  #httpRequest: HttpRequest\n\n  /**\n   * Instance properties\n   */\n  listen = _listen\n\n  constructor(httpRequest: HttpRequest, config: ClientConfig = defaultConfig) {\n    this.config(config)\n\n    this.#httpRequest = httpRequest\n\n    this.assets = new AssetsClient(this, this.#httpRequest)\n    this.datasets = new DatasetsClient(this, this.#httpRequest)\n    this.live = new LiveClient(this)\n    this.projects = new ProjectsClient(this, this.#httpRequest)\n    this.users = new UsersClient(this, this.#httpRequest)\n\n    this.observable = new ObservableSanityClient(httpRequest, config)\n  }\n\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone(): SanityClient {\n    return new SanityClient(this.#httpRequest, this.config())\n  }\n\n  /**\n   * Returns the current client configuration\n   */\n  config(): InitializedClientConfig\n  /**\n   * Reconfigure the client. Note that this _mutates_ the current client.\n   */\n  config(newConfig?: Partial<ClientConfig>): this\n  config(newConfig?: Partial<ClientConfig>): ClientConfig | this {\n    if (newConfig === undefined) {\n      return {...this.#clientConfig}\n    }\n\n    if (this.#clientConfig && this.#clientConfig.allowReconfigure === false) {\n      throw new Error(\n        'Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client',\n      )\n    }\n\n    if (this.observable) {\n      this.observable.config(newConfig)\n    }\n\n    this.#clientConfig = initConfig(newConfig, this.#clientConfig || {})\n    return this\n  }\n\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig?: Partial<ClientConfig>): SanityClient {\n    const thisConfig = this.config()\n    return new SanityClient(this.#httpRequest, {\n      ...thisConfig,\n      ...newConfig,\n      stega: {\n        ...(thisConfig.stega || {}),\n        ...(typeof newConfig?.stega === 'boolean'\n          ? {enabled: newConfig.stega}\n          : newConfig?.stega || {}),\n      },\n    })\n  }\n\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams = QueryWithoutParams,\n    const G extends string = string,\n  >(query: G, params?: Q | QueryWithoutParams): Promise<ClientReturn<G, R>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Optional request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: G,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options?: FilteredResponseQueryOptions,\n  ): Promise<ClientReturn<G, R>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: G,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options: UnfilteredResponseQueryOptions,\n  ): Promise<RawQueryResponse<ClientReturn<G, R>>>\n  /**\n   * Perform a GROQ-query against the configured dataset.\n   *\n   * @param query - GROQ-query to perform\n   * @param params - Optional query parameters\n   * @param options - Request options\n   */\n  fetch<\n    R = Any,\n    Q extends QueryWithoutParams | QueryParams = QueryParams,\n    const G extends string = string,\n  >(\n    query: G,\n    params: Q extends QueryWithoutParams ? QueryWithoutParams : Q,\n    options: UnfilteredResponseWithoutQuery,\n  ): Promise<RawQuerylessQueryResponse<ClientReturn<G, R>>>\n  fetch<R, Q, const G extends string>(\n    query: G,\n    params?: Q,\n    options?: QueryOptions,\n  ): Promise<RawQueryResponse<ClientReturn<G, R>> | ClientReturn<G, R>> {\n    return lastValueFrom(\n      dataMethods._fetch<ClientReturn<G, R>, Q>(\n        this,\n        this.#httpRequest,\n        this.#clientConfig.stega,\n        query,\n        params,\n        options,\n      ),\n    )\n  }\n\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options?: {signal?: AbortSignal; tag?: string},\n  ): Promise<SanityDocument<R> | undefined> {\n    return lastValueFrom(dataMethods._getDocument<R>(this, this.#httpRequest, id, options))\n  }\n\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments<R extends Record<string, Any> = Record<string, Any>>(\n    ids: string[],\n    options?: {signal?: AbortSignal; tag?: string},\n  ): Promise<(SanityDocument<R> | null)[]> {\n    return lastValueFrom(dataMethods._getDocuments<R>(this, this.#httpRequest, ids, options))\n  }\n\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns a promise that resolves to an array containing the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns a promise that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Promise<SingleMutationResult>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns a promise that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Promise<MultipleMutationResult>\n  /**\n   * Create a document. Requires a `_type` property. If no `_id` is provided, it will be generated by the database.\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  create<R extends Record<string, Any> = Record<string, Any>>(\n    document: SanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return lastValueFrom(\n      dataMethods._create<R>(this, this.#httpRequest, document, 'create', options),\n    )\n  }\n\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns a promise that resolves to an array containing the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns a promise that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Promise<SingleMutationResult>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns a promise that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Promise<MultipleMutationResult>\n  /**\n   * Create a document if no document with the same ID already exists.\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to create\n   * @param options - Mutation options\n   */\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  createIfNotExists<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return lastValueFrom(\n      dataMethods._createIfNotExists<R>(this, this.#httpRequest, document, options),\n    )\n  }\n\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns a promise that resolves to an array containing the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns a promise that resolves to a mutation result object containing the ID of the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: FirstDocumentIdMutationOptions,\n  ): Promise<SingleMutationResult>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns a promise that resolves to a mutation result object containing the created document ID.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options: AllDocumentIdsMutationOptions,\n  ): Promise<MultipleMutationResult>\n  /**\n   * Create a document if it does not exist, or replace a document with the same document ID\n   * Returns a promise that resolves to the created document.\n   *\n   * @param document - Document to either create or replace\n   * @param options - Mutation options\n   */\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  createOrReplace<R extends Record<string, Any> = Record<string, Any>>(\n    document: IdentifiedSanityDocumentStub<R>,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return lastValueFrom(\n      dataMethods._createOrReplace<R>(this, this.#httpRequest, document, options),\n    )\n  }\n\n  /**\n   * Deletes a document with the given document ID.\n   * Returns a promise that resolves to the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns a promise that resolves to an array containing the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns a promise that resolves to a mutation result object containing the deleted document ID.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete(id: string, options: FirstDocumentIdMutationOptions): Promise<SingleMutationResult>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns a promise that resolves to a mutation result object containing the deleted document ID.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete(id: string, options: AllDocumentIdsMutationOptions): Promise<MultipleMutationResult>\n  /**\n   * Deletes a document with the given document ID.\n   * Returns a promise that resolves to the deleted document.\n   *\n   * @param id - Document ID to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    id: string,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns a promise that resolves to first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns a promise that resolves to an array containing the deleted documents.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns a promise that resolves to a mutation result object containing the ID of the first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete(\n    selection: MutationSelection,\n    options: FirstDocumentIdMutationOptions,\n  ): Promise<SingleMutationResult>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns a promise that resolves to a mutation result object containing the document IDs that were deleted.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete(\n    selection: MutationSelection,\n    options: AllDocumentIdsMutationOptions,\n  ): Promise<MultipleMutationResult>\n  /**\n   * Deletes one or more documents matching the given query or document ID.\n   * Returns a promise that resolves to first deleted document.\n   *\n   * @param selection - An object with either an `id` or `query` key defining what to delete\n   * @param options - Options for the mutation\n   */\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: MutationSelection,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  delete<R extends Record<string, Any> = Record<string, Any>>(\n    selection: string | MutationSelection,\n    options?:\n      | AllDocumentIdsMutationOptions\n      | AllDocumentsMutationOptions\n      | BaseMutationOptions\n      | FirstDocumentIdMutationOptions\n      | FirstDocumentMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return lastValueFrom(dataMethods._delete<R>(this, this.#httpRequest, selection, options))\n  }\n\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns a promise that resolves to the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options: FirstDocumentMutationOptions,\n  ): Promise<SanityDocument<R>>\n  /**\n   * Perform mutation operations against the configured dataset.\n   * Returns a promise that resolves to an array of the mutated documents.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options: AllDocumentsMutationOptions,\n  ): Promise<SanityDocument<R>[]>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns a promise that resolves to a mutation result object containing the document ID of the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options: FirstDocumentIdMutationOptions,\n  ): Promise<SingleMutationResult>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns a promise that resolves to a mutation result object containing the mutated document IDs.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options: AllDocumentIdsMutationOptions,\n  ): Promise<MultipleMutationResult>\n  /**\n   * Perform mutation operations against the configured dataset\n   * Returns a promise that resolves to the first mutated document.\n   *\n   * @param operations - Mutation operations to execute\n   * @param options - Mutation options\n   */\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options?: BaseMutationOptions,\n  ): Promise<SanityDocument<R>>\n  mutate<R extends Record<string, Any> = Record<string, Any>>(\n    operations: Mutation<R>[] | Patch | Transaction,\n    options?:\n      | FirstDocumentMutationOptions\n      | AllDocumentsMutationOptions\n      | FirstDocumentIdMutationOptions\n      | AllDocumentIdsMutationOptions\n      | BaseMutationOptions,\n  ): Promise<\n    SanityDocument<R> | SanityDocument<R>[] | SingleMutationResult | MultipleMutationResult\n  > {\n    return lastValueFrom(dataMethods._mutate<R>(this, this.#httpRequest, operations, options))\n  }\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentId: string, operations?: PatchOperations): Patch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentIds - Array of document IDs to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentIds: string[], operations?: PatchOperations): Patch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - An object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(selection: MutationSelection, operations?: PatchOperations): Patch\n\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */\n  patch(documentId: PatchSelection, operations?: PatchOperations): Patch {\n    return new Patch(documentId, operations, this)\n  }\n\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction<R extends Record<string, Any> = Record<string, Any>>(\n    operations?: Mutation<R>[],\n  ): Transaction {\n    return new Transaction(operations, this)\n  }\n\n  /**\n   * Perform action operations against the configured dataset\n   * Returns a promise that resolves to the transaction result\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */\n  action(\n    operations: Action | Action[],\n    options?: BaseActionOptions,\n  ): Promise<SingleActionResult | MultipleActionResult> {\n    return lastValueFrom(dataMethods._action(this, this.#httpRequest, operations, options))\n  }\n\n  /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */\n  request<R = Any>(options: RawRequestOptions): Promise<R> {\n    return lastValueFrom(dataMethods._request<R>(this, this.#httpRequest, options))\n  }\n\n  /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */\n  dataRequest(endpoint: string, body: unknown, options?: BaseMutationOptions): Promise<Any> {\n    return lastValueFrom(dataMethods._dataRequest(this, this.#httpRequest, endpoint, body, options))\n  }\n\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri: string, canUseCdn?: boolean): string {\n    return dataMethods._getUrl(this, uri, canUseCdn)\n  }\n\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation: string, path?: string): string {\n    return dataMethods._getDataUrl(this, operation, path)\n  }\n}\n","import type {Middlewares} from 'get-it'\n\nimport {defineHttpRequest} from './http/request'\nimport type {Any, ClientConfig, HttpRequest} from './types'\n\nexport {validateApiPerspective} from './config'\nexport * from './data/patch'\nexport * from './data/transaction'\nexport {ClientError, CorsOriginError, ServerError} from './http/errors'\nexport * from './SanityClient'\nexport * from './types'\n\n/** @alpha */\nexport {adapter as unstable__adapter, environment as unstable__environment} from 'get-it'\n\n/**\n * Create the `requester` and `createClient` exports, that have environment specific middleware for node and browsers\n * @internal\n */\nexport default function defineCreateClientExports<\n  SanityClientType,\n  ClientConfigType extends ClientConfig,\n>(\n  envMiddleware: Middlewares,\n  ClassConstructor: new (httpRequest: HttpRequest, config: ClientConfigType) => SanityClientType,\n) {\n  // Set the http client to use for requests, and its environment specific middleware\n  const defaultRequester = defineHttpRequest(envMiddleware)\n\n  const createClient = (config: ClientConfigType) =>\n    new ClassConstructor(\n      (options, requester) =>\n        (requester || defaultRequester)({\n          maxRedirects: 0,\n          maxRetries: config.maxRetries,\n          retryDelay: config.retryDelay,\n          ...options,\n        } as Any),\n      config,\n    )\n\n  return {requester: defaultRequester, createClient}\n}\n","import {printNoDefaultExport} from './warnings'\n\n/* @internal */\nexport function defineDeprecatedCreateClient<SanityClientType, ClientConfigType>(\n  createClient: (config: ClientConfigType) => SanityClientType,\n) {\n  return function deprecatedCreateClient(config: ClientConfigType) {\n    printNoDefaultExport()\n    return createClient(config)\n  }\n}\n","import {agent, debug, headers} from 'get-it/middleware'\n\nimport {name, version} from '../../package.json'\n\nconst middleware = [\n  debug({verbose: true, namespace: 'sanity:client'}),\n  headers({'User-Agent': `${name} ${version}`}),\n\n  // Enable keep-alive, and in addition limit the number of sockets that can be opened.\n  // This avoids opening too many connections to the server if someone tries to execute\n  // a bunch of requests in parallel. It's recommended to have a concurrency limit\n  // at a \"higher limit\" (i.e. you shouldn't actually execute hundreds of requests in parallel),\n  // and this is mainly to minimize the impact for the network and server.\n  //\n  // We're currently matching the same defaults as browsers:\n  // https://stackoverflow.com/questions/26003756/is-there-a-limit-practical-or-otherwise-to-the-number-of-web-sockets-a-page-op\n  agent({\n    keepAlive: true,\n    maxSockets: 30,\n    maxTotalSockets: 256,\n  }),\n]\n\nexport default middleware\n","import defineCreateClientExports, {ClientConfig, SanityClient} from './defineCreateClient'\nimport {defineDeprecatedCreateClient} from './defineDeprecatedCreateClient'\nimport envMiddleware from './http/nodeMiddleware'\n\nexport * from './defineCreateClient'\n\nconst exp = defineCreateClientExports<SanityClient, ClientConfig>(envMiddleware, SanityClient)\n\n/** @public */\nexport const requester = exp.requester\n\n/** @public */\nexport const createClient = exp.createClient\n\n/**\n * @public\n * @deprecated Use the named export `createClient` instead of the `default` export\n */\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient)\nexport default deprecatedCreateClient\n"],"names":["projectId","name","warnings.printNoApiVersionSpecifiedWarning","warnings.printBrowserTokenWarning","warnings.printCdnWarning","validate.projectId","validate.dataset","validate.requestTag","warnings.printCdnAndWithCredentialsWarning","validators.validateObject","validators.requireDocumentId","validators.validateDocumentId","headers","validators.hasDataset","observable","validators.validateAssetType","dataset","defaults","parseEvent","EventSource","dataMethods._fetch","dataMethods._getDocument","dataMethods._getDocuments","dataMethods._create","dataMethods._createIfNotExists","dataMethods._createOrReplace","dataMethods._delete","dataMethods._mutate","dataMethods._action","dataMethods._request","dataMethods._getUrl","dataMethods._getDataUrl","dataMethods._dataRequest","requester","createClient","envMiddleware"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}},
    {"offset": {"line": 5448, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5454, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/utils/surrogatePairs.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/clone.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/commonOverlap.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/commonPrefix.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/commonSuffix.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/cleanup.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/bisect.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/halfMatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/charsToLines.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/linesToChars.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/lineMode.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/compute.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/diff.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/match/bitap.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/match/match.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/createPatchObject.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/diffText.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/utils/utf8Indices.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/constants.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/make.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/levenshtein.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/diff/xIndex.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/addPadding.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/splitMax.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/apply.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/stringify.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff-match-patch/src/patch/parse.ts"],"sourcesContent":["/**\n * Checks if the character is a high surrogate\n *\n * @param char - Character to check\n * @returns True if high surrogate, false otherwise\n */\nexport function isHighSurrogate(char: string): boolean {\n  const charCode = char.charCodeAt(0)\n  return charCode >= 0xd800 && charCode <= 0xdbff\n}\n\n/**\n * Checks if the character is a low surrogate\n *\n * @param char - Character to check\n * @returns True if low surrogate, false otherwise\n */\nexport function isLowSurrogate(char: string): boolean {\n  const charCode = char.charCodeAt(0)\n  return charCode >= 0xdc00 && charCode <= 0xdfff\n}\n","import type {Diff} from './diff.js'\n\n/**\n * Clones a diff tuple.\n *\n * @param diff - Tuple to clone.\n * @returns New, cloned tuple.\n * @internal\n */\nexport function cloneDiff(diff: Diff): Diff {\n  const [type, patch] = diff\n  return [type, patch]\n}\n","/**\n * Determine if the suffix of one string is the prefix of another.\n *\n * @param textA - First string.\n * @param textB - Second string.\n * @returns Number of characters common to the end of the first string\n *   and the start of the second string.\n * @internal\n */\nexport function getCommonOverlap(textA: string, textB: string): number {\n  let text1 = textA\n  let text2 = textB\n\n  // Cache the text lengths to prevent multiple calls.\n  const text1Length = text1.length\n  const text2Length = text2.length\n\n  // Eliminate the null case.\n  if (text1Length === 0 || text2Length === 0) {\n    return 0\n  }\n\n  // Truncate the longer string.\n  if (text1Length > text2Length) {\n    text1 = text1.substring(text1Length - text2Length)\n  } else if (text1Length < text2Length) {\n    text2 = text2.substring(0, text1Length)\n  }\n  const textLength = Math.min(text1Length, text2Length)\n\n  // Quick check for the worst case.\n  if (text1 === text2) {\n    return textLength\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: http://neil.fraser.name/news/2010/11/04/\n  let best = 0\n  let length = 1\n\n  for (let found = 0; found !== -1; ) {\n    const pattern = text1.substring(textLength - length)\n    found = text2.indexOf(pattern)\n    if (found === -1) {\n      return best\n    }\n    length += found\n    if (found === 0 || text1.substring(textLength - length) === text2.substring(0, length)) {\n      best = length\n      length++\n    }\n  }\n\n  // Only for typescript, never reached\n  return best\n}\n","/**\n * Determine the common prefix of two strings.\n *\n * @param text1 - First string.\n * @param text2 - Second string.\n * @returns The number of characters common to the start of each string.\n * @internal\n */\nexport function getCommonPrefix(text1: string, text2: string): number {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1[0] !== text2[0]) {\n    return 0\n  }\n\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  let pointerMin = 0\n  let pointerMax = Math.min(text1.length, text2.length)\n  let pointerMid = pointerMax\n  let pointerStart = 0\n  while (pointerMin < pointerMid) {\n    if (text1.substring(pointerStart, pointerMid) === text2.substring(pointerStart, pointerMid)) {\n      pointerMin = pointerMid\n      pointerStart = pointerMin\n    } else {\n      pointerMax = pointerMid\n    }\n    pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin)\n  }\n  return pointerMid\n}\n","/**\n * Determine the common suffix of two strings.\n *\n * @param text1 - First string.\n * @param text2 - Second string.\n * @returns The number of characters common to the end of each string.\n * @internal\n */\nexport function getCommonSuffix(text1: string, text2: string): number {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1[text1.length - 1] !== text2[text2.length - 1]) {\n    return 0\n  }\n\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  let pointerMin = 0\n  let pointerMax = Math.min(text1.length, text2.length)\n  let pointerMid = pointerMax\n  let pointerEnd = 0\n  while (pointerMin < pointerMid) {\n    if (\n      text1.substring(text1.length - pointerMid, text1.length - pointerEnd) ===\n      text2.substring(text2.length - pointerMid, text2.length - pointerEnd)\n    ) {\n      pointerMin = pointerMid\n      pointerEnd = pointerMin\n    } else {\n      pointerMax = pointerMid\n    }\n    pointerMid = Math.floor((pointerMax - pointerMin) / 2 + pointerMin)\n  }\n\n  return pointerMid\n}\n","import {cloneDiff} from './clone.js'\nimport {getCommonOverlap} from './commonOverlap.js'\nimport {getCommonPrefix} from './commonPrefix.js'\nimport {getCommonSuffix} from './commonSuffix.js'\nimport {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT, type Diff} from './diff.js'\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n *\n * @param rawDiffs - Array of diff tuples.\n * @returns Array of diff tuples.\n * @public\n */\nexport function cleanupSemantic(rawDiffs: Diff[]): Diff[] {\n  let diffs: Diff[] = rawDiffs.map((diff) => cloneDiff(diff))\n\n  let hasChanges = false\n  const equalities: number[] = [] // Stack of indices where equalities are found.\n  let equalitiesLength = 0 // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  let lastEquality = null\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  let pointer = 0 // Index of current position.\n  // Number of characters that changed prior to the equality.\n  let lengthInsertions1 = 0\n  let lengthDeletions1 = 0\n  // Number of characters that changed after the equality.\n  let lengthInsertions2 = 0\n  let lengthDeletions2 = 0\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] === DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer\n      lengthInsertions1 = lengthInsertions2\n      lengthDeletions1 = lengthDeletions2\n      lengthInsertions2 = 0\n      lengthDeletions2 = 0\n      lastEquality = diffs[pointer][1]\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] === DIFF_INSERT) {\n        lengthInsertions2 += diffs[pointer][1].length\n      } else {\n        lengthDeletions2 += diffs[pointer][1].length\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (\n        lastEquality &&\n        lastEquality.length <= Math.max(lengthInsertions1, lengthDeletions1) &&\n        lastEquality.length <= Math.max(lengthInsertions2, lengthDeletions2)\n      ) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality])\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT\n        // Throw away the equality we just deleted.\n        equalitiesLength--\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1\n        lengthInsertions1 = 0 // Reset the counters.\n        lengthDeletions1 = 0\n        lengthInsertions2 = 0\n        lengthDeletions2 = 0\n        lastEquality = null\n        hasChanges = true\n      }\n    }\n    pointer++\n  }\n\n  // Normalize the diff.\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs)\n  }\n  diffs = cleanupSemanticLossless(diffs)\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abczzz</del><ins>zzzdef</ins>\n  //   -> <del>abc</del>zzz<ins>def</ins>\n  // e.g: <del>zzzabc</del><ins>defzzz</ins>\n  //   -> <ins>def</ins>zzz<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] === DIFF_DELETE && diffs[pointer][0] === DIFF_INSERT) {\n      const deletion = diffs[pointer - 1][1]\n      const insertion = diffs[pointer][1]\n      const overlapLength1 = getCommonOverlap(deletion, insertion)\n      const overlapLength2 = getCommonOverlap(insertion, deletion)\n      if (overlapLength1 >= overlapLength2) {\n        if (overlapLength1 >= deletion.length / 2 || overlapLength1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, [DIFF_EQUAL, insertion.substring(0, overlapLength1)])\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlapLength1)\n          diffs[pointer + 1][1] = insertion.substring(overlapLength1)\n          pointer++\n        }\n      } else if (overlapLength2 >= deletion.length / 2 || overlapLength2 >= insertion.length / 2) {\n        // Reverse overlap found.\n        // Insert an equality and swap and trim the surrounding edits.\n        diffs.splice(pointer, 0, [DIFF_EQUAL, deletion.substring(0, overlapLength2)])\n        diffs[pointer - 1][0] = DIFF_INSERT\n        diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlapLength2)\n        diffs[pointer + 1][0] = DIFF_DELETE\n        diffs[pointer + 1][1] = deletion.substring(overlapLength2)\n        pointer++\n      }\n      pointer++\n    }\n    pointer++\n  }\n  return diffs\n}\n\n// Define some regex patterns for matching boundaries.\nconst nonAlphaNumericRegex = /[^a-zA-Z0-9]/\nconst whitespaceRegex = /\\s/\nconst linebreakRegex = /[\\r\\n]/\nconst blanklineEndRegex = /\\n\\r?\\n$/\nconst blanklineStartRegex = /^\\r?\\n\\r?\\n/\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n *\n * @param rawDiffs - Array of diff tuples.\n * @returns Array of diff tuples.\n * @public\n */\nexport function cleanupSemanticLossless(rawDiffs: Diff[]): Diff[] {\n  const diffs = rawDiffs.map((diff) => cloneDiff(diff))\n\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   *\n   * @param one - First string.\n   * @param two - Second string.\n   * @returns The score.\n   * @internal\n   */\n  function diffCleanupSemanticScore(one: string, two: string) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    const char1 = one.charAt(one.length - 1)\n    const char2 = two.charAt(0)\n    const nonAlphaNumeric1 = char1.match(nonAlphaNumericRegex)\n    const nonAlphaNumeric2 = char2.match(nonAlphaNumericRegex)\n    const whitespace1 = nonAlphaNumeric1 && char1.match(whitespaceRegex)\n    const whitespace2 = nonAlphaNumeric2 && char2.match(whitespaceRegex)\n    const lineBreak1 = whitespace1 && char1.match(linebreakRegex)\n    const lineBreak2 = whitespace2 && char2.match(linebreakRegex)\n    const blankLine1 = lineBreak1 && one.match(blanklineEndRegex)\n    const blankLine2 = lineBreak2 && two.match(blanklineStartRegex)\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1\n    }\n    return 0\n  }\n\n  let pointer = 1\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      let equality1 = diffs[pointer - 1][1]\n      let edit = diffs[pointer][1]\n      let equality2 = diffs[pointer + 1][1]\n\n      // First, shift the edit as far left as possible.\n      const commonOffset = getCommonSuffix(equality1, edit)\n      if (commonOffset) {\n        const commonString = edit.substring(edit.length - commonOffset)\n        equality1 = equality1.substring(0, equality1.length - commonOffset)\n        edit = commonString + edit.substring(0, edit.length - commonOffset)\n        equality2 = commonString + equality2\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      let bestEquality1 = equality1\n      let bestEdit = edit\n      let bestEquality2 = equality2\n      let bestScore =\n        diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2)\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0)\n        edit = edit.substring(1) + equality2.charAt(0)\n        equality2 = equality2.substring(1)\n        const score =\n          diffCleanupSemanticScore(equality1, edit) + diffCleanupSemanticScore(edit, equality2)\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score\n          bestEquality1 = equality1\n          bestEdit = edit\n          bestEquality2 = equality2\n        }\n      }\n\n      if (diffs[pointer - 1][1] !== bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1\n        } else {\n          diffs.splice(pointer - 1, 1)\n          pointer--\n        }\n        diffs[pointer][1] = bestEdit\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2\n        } else {\n          diffs.splice(pointer + 1, 1)\n          pointer--\n        }\n      }\n    }\n    pointer++\n  }\n\n  return diffs\n}\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n *\n * @param rawDiffs - Array of diff tuples.\n * @returns Array of diff tuples.\n * @public\n */\nexport function cleanupMerge(rawDiffs: Diff[]): Diff[] {\n  let diffs = rawDiffs.map((diff) => cloneDiff(diff))\n\n  // Add a dummy entry at the end.\n  diffs.push([DIFF_EQUAL, ''])\n  let pointer = 0\n  let countDelete = 0\n  let countInsert = 0\n  let textDelete = ''\n  let textInsert = ''\n  let commonlength\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++\n        textInsert += diffs[pointer][1]\n        pointer++\n        break\n      case DIFF_DELETE:\n        countDelete++\n        textDelete += diffs[pointer][1]\n        pointer++\n        break\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (countDelete + countInsert > 1) {\n          if (countDelete !== 0 && countInsert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = getCommonPrefix(textInsert, textDelete)\n            if (commonlength !== 0) {\n              if (\n                pointer - countDelete - countInsert > 0 &&\n                diffs[pointer - countDelete - countInsert - 1][0] === DIFF_EQUAL\n              ) {\n                diffs[pointer - countDelete - countInsert - 1][1] += textInsert.substring(\n                  0,\n                  commonlength\n                )\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL, textInsert.substring(0, commonlength)])\n                pointer++\n              }\n              textInsert = textInsert.substring(commonlength)\n              textDelete = textDelete.substring(commonlength)\n            }\n            // Factor out any common suffixies.\n            commonlength = getCommonSuffix(textInsert, textDelete)\n            if (commonlength !== 0) {\n              diffs[pointer][1] =\n                textInsert.substring(textInsert.length - commonlength) + diffs[pointer][1]\n              textInsert = textInsert.substring(0, textInsert.length - commonlength)\n              textDelete = textDelete.substring(0, textDelete.length - commonlength)\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= countDelete + countInsert\n          diffs.splice(pointer, countDelete + countInsert)\n          if (textDelete.length) {\n            diffs.splice(pointer, 0, [DIFF_DELETE, textDelete])\n            pointer++\n          }\n          if (textInsert.length) {\n            diffs.splice(pointer, 0, [DIFF_INSERT, textInsert])\n            pointer++\n          }\n          pointer++\n        } else if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1]\n          diffs.splice(pointer, 1)\n        } else {\n          pointer++\n        }\n        countInsert = 0\n        countDelete = 0\n        textDelete = ''\n        textInsert = ''\n        break\n      default:\n        throw new Error('Unknown diff operation')\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop() // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  let hasChanges = false\n  pointer = 1\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL && diffs[pointer + 1][0] === DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (\n        diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) ===\n        diffs[pointer - 1][1]\n      ) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] =\n          diffs[pointer - 1][1] +\n          diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length)\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1]\n        diffs.splice(pointer - 1, 1)\n        hasChanges = true\n      } else if (\n        diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) === diffs[pointer + 1][1]\n      ) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1]\n        diffs[pointer][1] =\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1]\n        diffs.splice(pointer + 1, 1)\n        hasChanges = true\n      }\n    }\n    pointer++\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs)\n  }\n\n  return diffs\n}\n\nfunction trueCount(...args: boolean[]) {\n  return args.reduce((n, bool) => n + (bool ? 1 : 0), 0)\n}\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n *\n * @param rawDiffs - Array of diff tuples.\n * @param editCost - Cost of an empty edit operation in terms of edit characters.\n * @returns Array of diff tuples.\n * @public\n */\nexport function cleanupEfficiency(rawDiffs: Diff[], editCost: number = 4): Diff[] {\n  let diffs = rawDiffs.map((diff) => cloneDiff(diff))\n  let hasChanges = false\n  const equalities: number[] = [] // Stack of indices where equalities are found.\n  let equalitiesLength = 0 // Keeping our own length var is faster in JS.\n  let lastEquality: string | null = null\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  let pointer = 0 // Index of current position.\n  // Is there an insertion operation before the last equality.\n  let preIns = false\n  // Is there a deletion operation before the last equality.\n  let preDel = false\n  // Is there an insertion operation after the last equality.\n  let postIns = false\n  // Is there a deletion operation after the last equality.\n  let postDel = false\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] === DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < editCost && (postIns || postDel)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer\n        preIns = postIns\n        preDel = postDel\n        lastEquality = diffs[pointer][1]\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0\n        lastEquality = null\n      }\n      postIns = false\n      postDel = false\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] === DIFF_DELETE) {\n        postDel = true\n      } else {\n        postIns = true\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (\n        lastEquality &&\n        ((preIns && preDel && postIns && postDel) ||\n          (lastEquality.length < editCost / 2 && trueCount(preIns, preDel, postIns, postDel) === 3))\n      ) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, [DIFF_DELETE, lastEquality])\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT\n        equalitiesLength-- // Throw away the equality we just deleted;\n        lastEquality = null\n        if (preIns && preDel) {\n          // No hasChanges made which could affect previous entry, keep going.\n          postIns = true\n          postDel = true\n          equalitiesLength = 0\n        } else {\n          equalitiesLength-- // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1\n          postIns = false\n          postDel = false\n        }\n        hasChanges = true\n      }\n    }\n    pointer++\n  }\n\n  if (hasChanges) {\n    diffs = cleanupMerge(diffs)\n  }\n\n  return diffs\n}\n","import {doDiff, DIFF_DELETE, DIFF_INSERT, type Diff} from './diff.js'\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n *\n * @param text1 - Old string to be diffed.\n * @param text2 - New string to be diffed.\n * @returns Array of diff tuples.\n * @internal\n */\nexport function bisect(text1: string, text2: string, deadline: number): Diff[] {\n  // Cache the text lengths to prevent multiple calls.\n  const text1Length = text1.length\n  const text2Length = text2.length\n  const maxD = Math.ceil((text1Length + text2Length) / 2)\n  const vOffset = maxD\n  const vLength = 2 * maxD\n  const v1 = new Array(vLength)\n  const v2 = new Array(vLength)\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (let x = 0; x < vLength; x++) {\n    v1[x] = -1\n    v2[x] = -1\n  }\n  v1[vOffset + 1] = 0\n  v2[vOffset + 1] = 0\n  const delta = text1Length - text2Length\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  const front = delta % 2 !== 0\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  let k1start = 0\n  let k1end = 0\n  let k2start = 0\n  let k2end = 0\n  for (let d = 0; d < maxD; d++) {\n    // Bail out if deadline is reached.\n    if (Date.now() > deadline) {\n      break\n    }\n    // Walk the front path one step.\n    for (let k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      const k1Offset = vOffset + k1\n      let x1\n      if (k1 === -d || (k1 !== d && v1[k1Offset - 1] < v1[k1Offset + 1])) {\n        x1 = v1[k1Offset + 1]\n      } else {\n        x1 = v1[k1Offset - 1] + 1\n      }\n      let y1 = x1 - k1\n      while (x1 < text1Length && y1 < text2Length && text1.charAt(x1) === text2.charAt(y1)) {\n        x1++\n        y1++\n      }\n      v1[k1Offset] = x1\n      if (x1 > text1Length) {\n        // Ran off the right of the graph.\n        k1end += 2\n      } else if (y1 > text2Length) {\n        // Ran off the bottom of the graph.\n        k1start += 2\n      } else if (front) {\n        const k2Offset = vOffset + delta - k1\n        if (k2Offset >= 0 && k2Offset < vLength && v2[k2Offset] !== -1) {\n          // Mirror x2 onto top-left coordinate system.\n          const x2 = text1Length - v2[k2Offset]\n          if (x1 >= x2) {\n            // Overlap detected.\n            return bisectSplit(text1, text2, x1, y1, deadline)\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (let k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      const k2Offset = vOffset + k2\n      let x2\n      if (k2 === -d || (k2 !== d && v2[k2Offset - 1] < v2[k2Offset + 1])) {\n        x2 = v2[k2Offset + 1]\n      } else {\n        x2 = v2[k2Offset - 1] + 1\n      }\n      let y2 = x2 - k2\n      while (\n        x2 < text1Length &&\n        y2 < text2Length &&\n        text1.charAt(text1Length - x2 - 1) === text2.charAt(text2Length - y2 - 1)\n      ) {\n        x2++\n        y2++\n      }\n      v2[k2Offset] = x2\n      if (x2 > text1Length) {\n        // Ran off the left of the graph.\n        k2end += 2\n      } else if (y2 > text2Length) {\n        // Ran off the top of the graph.\n        k2start += 2\n      } else if (!front) {\n        const k1Offset = vOffset + delta - k2\n        if (k1Offset >= 0 && k1Offset < vLength && v1[k1Offset] !== -1) {\n          const x1 = v1[k1Offset]\n          const y1 = vOffset + x1 - k1Offset\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1Length - x2\n          if (x1 >= x2) {\n            // Overlap detected.\n            return bisectSplit(text1, text2, x1, y1, deadline)\n          }\n        }\n      }\n    }\n  }\n  // Number of diffs equals number of characters, no commonality at all.\n  return [\n    [DIFF_DELETE, text1],\n    [DIFF_INSERT, text2],\n  ]\n}\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n *\n * @param text1 - Old string to be diffed.\n * @param text2 - New string to be diffed.\n * @param x - Index of split point in text1.\n * @param y - Index of split point in text2.\n * @param deadline - Time at which to bail if not yet complete.\n * @returns Array of diff tuples.\n * @internal\n */\nfunction bisectSplit(text1: string, text2: string, x: number, y: number, deadline: number): Diff[] {\n  const text1a = text1.substring(0, x)\n  const text2a = text2.substring(0, y)\n  const text1b = text1.substring(x)\n  const text2b = text2.substring(y)\n\n  // Compute both diffs serially.\n  const diffs = doDiff(text1a, text2a, {checkLines: false, deadline})\n  const diffsb = doDiff(text1b, text2b, {checkLines: false, deadline})\n\n  return diffs.concat(diffsb)\n}\n","import {getCommonPrefix} from './commonPrefix.js'\nimport {getCommonSuffix} from './commonSuffix.js'\n\ntype HalfMatch = [string, string, string, string, string]\n\n/**\n * Does a slice of shorttext exist within longtext such that the slice\n * is at least half the length of longtext?\n *\n * @param longtext - Longer string.\n * @param shorttext - Shorter string.\n * @param i - Start index of quarter length slice within longtext.\n * @returns Five element Array, containing the prefix of\n *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n *     of shorttext and the common middle.  Or null if there was no match.\n * @internal\n */\nexport function findHalfMatch(text1: string, text2: string, timeout = 1): null | HalfMatch {\n  if (timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null\n  }\n\n  const longText = text1.length > text2.length ? text1 : text2\n  const shortText = text1.length > text2.length ? text2 : text1\n  if (longText.length < 4 || shortText.length * 2 < longText.length) {\n    return null // Pointless.\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  const halfMatch1 = halfMatchI(longText, shortText, Math.ceil(longText.length / 4))\n  // Check again based on the third quarter.\n  const halfMatch2 = halfMatchI(longText, shortText, Math.ceil(longText.length / 2))\n\n  let halfMatch\n  if (halfMatch1 && halfMatch2) {\n    // Both matched.  Select the longest.\n    halfMatch = halfMatch1[4].length > halfMatch2[4].length ? halfMatch1 : halfMatch2\n  } else if (!halfMatch1 && !halfMatch2) {\n    return null\n  } else if (!halfMatch2) {\n    halfMatch = halfMatch1\n  } else if (!halfMatch1) {\n    halfMatch = halfMatch2\n  }\n\n  if (!halfMatch) {\n    throw new Error('Unable to find a half match.')\n  }\n\n  // A half-match was found, sort out the return data.\n  let text1A: string\n  let text1B: string\n  let text2A: string\n  let text2B: string\n\n  if (text1.length > text2.length) {\n    text1A = halfMatch[0]\n    text1B = halfMatch[1]\n    text2A = halfMatch[2]\n    text2B = halfMatch[3]\n  } else {\n    text2A = halfMatch[0]\n    text2B = halfMatch[1]\n    text1A = halfMatch[2]\n    text1B = halfMatch[3]\n  }\n  const midCommon = halfMatch[4]\n  return [text1A, text1B, text2A, text2B, midCommon]\n}\n\n/**\n * Do the two texts share a slice which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n *\n * @param longText - First string.\n * @param shortText - Second string.\n * @returns Five element array, containing the prefix of longText,\n *     the suffix of longText, the prefix of shortText, the suffix of\n *     shortText and the common middle.  Or null if there was no match.\n * @internal\n */\nfunction halfMatchI(longText: string, shortText: string, i: number): null | HalfMatch {\n  // Start with a 1/4 length slice at position i as a seed.\n  const seed = longText.slice(i, i + Math.floor(longText.length / 4))\n  let j = -1\n  let bestCommon = ''\n  let bestLongTextA\n  let bestLongTextB\n  let bestShortTextA\n  let bestShortTextB\n\n  while ((j = shortText.indexOf(seed, j + 1)) !== -1) {\n    const prefixLength = getCommonPrefix(longText.slice(i), shortText.slice(j))\n    const suffixLength = getCommonSuffix(longText.slice(0, i), shortText.slice(0, j))\n    if (bestCommon.length < suffixLength + prefixLength) {\n      bestCommon = shortText.slice(j - suffixLength, j) + shortText.slice(j, j + prefixLength)\n      bestLongTextA = longText.slice(0, i - suffixLength)\n      bestLongTextB = longText.slice(i + prefixLength)\n      bestShortTextA = shortText.slice(0, j - suffixLength)\n      bestShortTextB = shortText.slice(j + prefixLength)\n    }\n  }\n  if (bestCommon.length * 2 >= longText.length) {\n    return [\n      bestLongTextA || '',\n      bestLongTextB || '',\n      bestShortTextA || '',\n      bestShortTextB || '',\n      bestCommon || '',\n    ]\n  }\n\n  return null\n}\n","import type {Diff} from './diff.js'\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of text.\n *\n * @param diffs - Array of diff tuples.\n * @param lineArray - Array of unique strings.\n * @internal\n */\nexport function charsToLines(diffs: Diff[], lineArray: string[]): void {\n  for (let x = 0; x < diffs.length; x++) {\n    const chars = diffs[x][1]\n    const text: string[] = []\n    for (let y = 0; y < chars.length; y++) {\n      text[y] = lineArray[chars.charCodeAt(y)]\n    }\n    diffs[x][1] = text.join('')\n  }\n}\n","/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n *\n * @param textA - First string.\n * @param textB - Second string.\n * @returns An object containing the encoded textA, the encoded textB and\n *   the array of unique strings. The zeroth element of the array of unique\n *   strings is intentionally blank.\n * @internal\n */\nexport function linesToChars(\n  textA: string,\n  textB: string\n): {\n  chars1: string\n  chars2: string\n  lineArray: string[]\n} {\n  const lineArray: string[] = [] // e.g. lineArray[4] === 'Hello\\n'\n  const lineHash: {[key: string]: number} = {} // e.g. lineHash['Hello\\n'] === 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = ''\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   *\n   * @param text - String to encode.\n   * @returns Encoded string.\n   * @internal\n   */\n  function diffLinesToMunge(text: string) {\n    let chars = ''\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    let lineStart = 0\n    let lineEnd = -1\n    // Keeping our own length variable is faster than looking it up.\n    let lineArrayLength = lineArray.length\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart)\n      if (lineEnd === -1) {\n        lineEnd = text.length - 1\n      }\n      let line = text.slice(lineStart, lineEnd + 1)\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line])\n      } else {\n        if (lineArrayLength === maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.slice(lineStart)\n          lineEnd = text.length\n        }\n        chars += String.fromCharCode(lineArrayLength)\n        lineHash[line] = lineArrayLength\n        lineArray[lineArrayLength++] = line\n      }\n      lineStart = lineEnd + 1\n    }\n    return chars\n  }\n  // Allocate 2/3rds of the space for textA, the rest for textB.\n  let maxLines = 40000\n  const chars1 = diffLinesToMunge(textA)\n  maxLines = 65535\n  const chars2 = diffLinesToMunge(textB)\n  return {chars1, chars2, lineArray}\n}\n","import {charsToLines} from './charsToLines.js'\nimport {cleanupSemantic} from './cleanup.js'\nimport {linesToChars} from './linesToChars.js'\nimport {\n  doDiff,\n  DIFF_DELETE,\n  DIFF_EQUAL,\n  DIFF_INSERT,\n  type Diff,\n  type InternalDiffOptions,\n} from './diff.js'\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n *\n * @param textA - Old string to be diffed.\n * @param textB - New string to be diffed.\n * @param options - Options for the differ.\n * @returns Array of diff tuples.\n * @internal\n */\nexport function doLineModeDiff(textA: string, textB: string, opts: InternalDiffOptions): Diff[] {\n  // Don't reassign fn params\n  let text1 = textA\n  let text2 = textB\n\n  // Scan the text on a line-by-line basis first.\n  const a = linesToChars(text1, text2)\n  text1 = a.chars1\n  text2 = a.chars2\n  const linearray = a.lineArray\n\n  let diffs = doDiff(text1, text2, {\n    checkLines: false,\n    deadline: opts.deadline,\n  })\n\n  // Convert the diff back to original text.\n  charsToLines(diffs, linearray)\n  // Eliminate freak matches (e.g. blank lines)\n  diffs = cleanupSemantic(diffs)\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push([DIFF_EQUAL, ''])\n  let pointer = 0\n  let countDelete = 0\n  let countInsert = 0\n  let textDelete = ''\n  let textInsert = ''\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        countInsert++\n        textInsert += diffs[pointer][1]\n        break\n      case DIFF_DELETE:\n        countDelete++\n        textDelete += diffs[pointer][1]\n        break\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (countDelete >= 1 && countInsert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - countDelete - countInsert, countDelete + countInsert)\n          pointer = pointer - countDelete - countInsert\n          const aa = doDiff(textDelete, textInsert, {\n            checkLines: false,\n            deadline: opts.deadline,\n          })\n          for (let j = aa.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, aa[j])\n          }\n          pointer += aa.length\n        }\n        countInsert = 0\n        countDelete = 0\n        textDelete = ''\n        textInsert = ''\n        break\n      default:\n        throw new Error('Unknown diff operation.')\n    }\n    pointer++\n  }\n  diffs.pop() // Remove the dummy entry at the end.\n\n  return diffs\n}\n","import {\n  doDiff,\n  DIFF_DELETE,\n  DIFF_EQUAL,\n  DIFF_INSERT,\n  type Diff,\n  type InternalDiffOptions,\n} from './diff.js'\nimport {bisect} from './bisect.js'\nimport {findHalfMatch} from './halfMatch.js'\nimport {doLineModeDiff} from './lineMode.js'\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n *\n * @param text1 - Old string to be diffed.\n * @param text2 - New string to be diffed.\n * @param checklines - Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param deadline - Time when the diff should be complete by.\n * @returns Array of diff tuples.\n * @internal\n */\nexport function computeDiff(text1: string, text2: string, opts: InternalDiffOptions): Diff[] {\n  let diffs: Diff[]\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]]\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]]\n  }\n\n  const longtext = text1.length > text2.length ? text1 : text2\n  const shorttext = text1.length > text2.length ? text2 : text1\n  const i = longtext.indexOf(shorttext)\n  if (i !== -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [\n      [DIFF_INSERT, longtext.substring(0, i)],\n      [DIFF_EQUAL, shorttext],\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)],\n    ]\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = DIFF_DELETE\n      diffs[2][0] = DIFF_DELETE\n    }\n    return diffs\n  }\n\n  if (shorttext.length === 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [\n      [DIFF_DELETE, text1],\n      [DIFF_INSERT, text2],\n    ]\n  }\n\n  // Check to see if the problem can be split in two.\n  const halfMatch = findHalfMatch(text1, text2)\n  if (halfMatch) {\n    // A half-match was found, sort out the return data.\n    const text1A = halfMatch[0]\n    const text1B = halfMatch[1]\n    const text2A = halfMatch[2]\n    const text2B = halfMatch[3]\n    const midCommon = halfMatch[4]\n    // Send both pairs off for separate processing.\n    const diffsA = doDiff(text1A, text2A, opts)\n    const diffsB = doDiff(text1B, text2B, opts)\n    // Merge the results.\n    return diffsA.concat([[DIFF_EQUAL, midCommon]], diffsB)\n  }\n\n  if (opts.checkLines && text1.length > 100 && text2.length > 100) {\n    return doLineModeDiff(text1, text2, opts)\n  }\n\n  return bisect(text1, text2, opts.deadline)\n}\n","import {isHighSurrogate, isLowSurrogate} from '../utils/surrogatePairs.js'\nimport {cleanupMerge} from './cleanup.js'\nimport {getCommonPrefix} from './commonPrefix.js'\nimport {getCommonSuffix} from './commonSuffix.js'\nimport {computeDiff} from './compute.js'\n\n/**\n * Diff type for deleted text.\n *\n * @public\n */\nexport const DIFF_DELETE = -1\n\n/**\n * Diff type for inserted text.\n *\n * @public\n */\nexport const DIFF_INSERT = 1\n\n/**\n * Diff type for text that is equal.\n *\n * @public\n */\nexport const DIFF_EQUAL = 0\n\n/**\n * The three different types of changes possible in a diff:\n * - `DIFF_DELETE`: a deletion of text\n * - `DIFF_INSERT`: an insertion of text\n * - `DIFF_EQUAL` : an equal text\n *\n * @public\n */\nexport type DiffType = typeof DIFF_DELETE | typeof DIFF_INSERT | typeof DIFF_EQUAL\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n *\n * @public\n */\nexport type Diff = [DiffType, string]\n\n/**\n * Options for generating a diff.\n *\n * @public\n */\nexport interface DiffOptions {\n  checkLines: boolean\n  timeout: number\n}\n\n/**\n * @internal\n */\nexport interface InternalDiffOptions {\n  checkLines: boolean\n\n  /**\n   * Time when the diff should be complete by.\n   */\n  deadline: number\n}\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n *\n * @param textA - Old string to be diffed.\n * @param textA - New string to be diffed.\n * @returns Array of diff tuples.\n * @public\n */\nexport function diff(\n  textA: null | string,\n  textB: null | string,\n  opts?: Partial<DiffOptions>\n): Diff[] {\n  // Check for null inputs.\n  if (textA === null || textB === null) {\n    throw new Error('Null input. (diff)')\n  }\n\n  const diffs = doDiff(textA, textB, createInternalOpts(opts || {}))\n  adjustDiffForSurrogatePairs(diffs)\n  return diffs\n}\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n *\n * @param textA - Old string to be diffed.\n * @param textB - New string to be diffed.\n * @returns Array of diff tuples.\n * @internal\n */\nexport function doDiff(textA: string, textB: string, options: InternalDiffOptions): Diff[] {\n  // Don't reassign fn params\n  let text1 = textA\n  let text2 = textB\n\n  // Check for equality (speedup).\n  if (text1 === text2) {\n    return text1 ? [[DIFF_EQUAL, text1]] : []\n  }\n\n  // Trim off common prefix (speedup).\n  let commonlength = getCommonPrefix(text1, text2)\n  const commonprefix = text1.substring(0, commonlength)\n  text1 = text1.substring(commonlength)\n  text2 = text2.substring(commonlength)\n\n  // Trim off common suffix (speedup).\n  commonlength = getCommonSuffix(text1, text2)\n  const commonsuffix = text1.substring(text1.length - commonlength)\n  text1 = text1.substring(0, text1.length - commonlength)\n  text2 = text2.substring(0, text2.length - commonlength)\n\n  // Compute the diff on the middle block.\n  let diffs = computeDiff(text1, text2, options)\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix])\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix])\n  }\n  diffs = cleanupMerge(diffs)\n  return diffs\n}\n\nfunction createDeadLine(timeout: undefined | number): number {\n  let t = 1\n  if (typeof timeout !== 'undefined') {\n    t = timeout <= 0 ? Number.MAX_VALUE : timeout\n  }\n  return Date.now() + t * 1000\n}\n\nfunction createInternalOpts(opts: Partial<DiffOptions>): InternalDiffOptions {\n  return {\n    checkLines: true,\n    deadline: createDeadLine(opts.timeout || 1.0),\n    ...opts,\n  }\n}\n\nfunction combineChar(data: string, char: string, dir: 1 | -1) {\n  return dir === 1 ? data + char : char + data\n}\n\n/**\n * Splits out a character in a given direction.\n */\nfunction splitChar(data: string, dir: 1 | -1): [string, string] {\n  return dir === 1\n    ? [data.substring(0, data.length - 1), data[data.length - 1]]\n    : [data.substring(1), data[0]]\n}\n\n/**\n * Checks if two entries of the diff has the same character in the same \"direction\".\n */\nfunction hasSharedChar(diffs: Diff[], i: number, j: number, dir: 1 | -1): boolean {\n  return dir === 1\n    ? diffs[i][1][diffs[i][1].length - 1] === diffs[j][1][diffs[j][1].length - 1]\n    : diffs[i][1][0] === diffs[j][1][0]\n}\n\n/**\n * Takes in a position of an EQUAL diff-type and attempts to \"deisolate\" the character for a given direction.\n * By this we mean that we attempt to either \"shift\" it to the later diffs, or bring another character next into this one.\n *\n * It's easier to understand with an example:\n *   [INSERT a, DELETE b, EQUAL cde, INSERT f, DELETE g]\n * shifting this forward will produce\n *   [INSERT a, DELETE b, EQUAL cd, INSERT ef, DELETE eg]\n *\n * This behavior is useful when `e` is actually a high surrogate character.\n *\n * Shifting it backwards produces\n *   [INSERT ac, DELETE bc, EQUAL cde, INSERT f, DELETE g]\n * which is useful when `c` is a low surrogate character.\n *\n * Note that these diffs are 100% semantically equal.\n *\n * If there's not a matching INSERT/DELETE then it's forced to insert an additional entry:\n *   [EQUAL abc, INSERT d, EQUAL e]\n * shifted forward becomes:\n *   [EQUAL ab, INSERT cd, DELETE c, EQUAL e]\n *\n * If the INSERT and DELETE ends with the same character it will instead deisolate it by\n * bring that charcter into _this_ equal:\n *   [EQUAL abc, INSERT de, DELETE df]\n * shifted forward actually becomes\n *   [EQUAL abcd, INSERT e, DELETE f]\n *\n * The original diff here is typically never produced by the diff algorithm directly,\n * but they occur when we isolate characters in other places.\n */\nfunction deisolateChar(diffs: Diff[], i: number, dir: 1 | -1) {\n  const inv = dir === 1 ? -1 : 1\n  let insertIdx: null | number = null\n  let deleteIdx: null | number = null\n\n  let j = i + dir\n  for (; j >= 0 && j < diffs.length && (insertIdx === null || deleteIdx === null); j += dir) {\n    const [op, text] = diffs[j]\n    if (text.length === 0) {\n      continue\n    }\n\n    if (op === DIFF_INSERT) {\n      if (insertIdx === null) {\n        insertIdx = j\n      }\n      continue\n    } else if (op === DIFF_DELETE) {\n      if (deleteIdx === null) {\n        deleteIdx = j\n      }\n      continue\n    } else if (op === DIFF_EQUAL) {\n      if (insertIdx === null && deleteIdx === null) {\n        // This means that there was two consecutive EQUAL. Kinda weird, but easy to handle.\n        const [rest, char] = splitChar(diffs[i][1], dir)\n        diffs[i][1] = rest\n        diffs[j][1] = combineChar(diffs[j][1], char, inv)\n        return\n      }\n      break\n    }\n  }\n\n  if (insertIdx !== null && deleteIdx !== null && hasSharedChar(diffs, insertIdx, deleteIdx, dir)) {\n    // Special case.\n    const [insertText, insertChar] = splitChar(diffs[insertIdx][1], inv)\n    const [deleteText] = splitChar(diffs[deleteIdx][1], inv)\n    diffs[insertIdx][1] = insertText\n    diffs[deleteIdx][1] = deleteText\n    diffs[i][1] = combineChar(diffs[i][1], insertChar, dir)\n    return\n  }\n\n  const [text, char] = splitChar(diffs[i][1], dir)\n  diffs[i][1] = text\n\n  if (insertIdx === null) {\n    diffs.splice(j, 0, [DIFF_INSERT, char])\n\n    // We need to adjust deleteIdx here since it's been shifted\n    if (deleteIdx !== null && deleteIdx >= j) deleteIdx++\n  } else {\n    diffs[insertIdx][1] = combineChar(diffs[insertIdx][1], char, inv)\n  }\n\n  if (deleteIdx === null) {\n    diffs.splice(j, 0, [DIFF_DELETE, char])\n  } else {\n    diffs[deleteIdx][1] = combineChar(diffs[deleteIdx][1], char, inv)\n  }\n}\n\nfunction adjustDiffForSurrogatePairs(diffs: Diff[]) {\n  // Go over each pair of diffs and see if there was a split at a surrogate pair\n  for (let i = 0; i < diffs.length; i++) {\n    const [diffType, diffText] = diffs[i]\n\n    if (diffText.length === 0) continue\n\n    const firstChar = diffText[0]\n    const lastChar = diffText[diffText.length - 1]\n\n    if (isHighSurrogate(lastChar) && diffType === DIFF_EQUAL) {\n      deisolateChar(diffs, i, 1)\n    }\n\n    if (isLowSurrogate(firstChar) && diffType === DIFF_EQUAL) {\n      deisolateChar(diffs, i, -1)\n    }\n  }\n\n  for (let i = 0; i < diffs.length; i++) {\n    // Remove any empty diffs\n    if (diffs[i][1].length === 0) {\n      diffs.splice(i, 1)\n    }\n  }\n}\n","/* eslint-disable no-bitwise */\ninterface BitapOptions {\n  threshold: number\n  distance: number\n}\n\ninterface Alphabet {\n  [char: string]: number\n}\n\nconst DEFAULT_OPTIONS: BitapOptions = {\n  /**\n   * At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n   */\n  threshold: 0.5,\n\n  /**\n   * How far to search for a match (0 = exact location, 1000+ = broad match).\n   * A match this many characters away from the expected location will add\n   * 1.0 to the score (0.0 is a perfect match).\n   */\n  distance: 1000,\n}\n\nfunction applyDefaults(options: Partial<BitapOptions>): BitapOptions {\n  return {...DEFAULT_OPTIONS, ...options}\n}\n\n// The number of bits in an int.\nconst MAX_BITS = 32\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n *\n * @param text - The text to search.\n * @param pattern - The pattern to search for.\n * @param loc - The location to search around.\n * @returns Best match index or -1.\n * @internal\n */\nexport function bitap(\n  text: string,\n  pattern: string,\n  loc: number,\n  opts: Partial<BitapOptions> = {}\n): number {\n  if (pattern.length > MAX_BITS) {\n    throw new Error('Pattern too long for this browser.')\n  }\n\n  const options = applyDefaults(opts)\n\n  // Initialise the alphabet.\n  const s = getAlphabetFromPattern(pattern)\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   *\n   * @param e - Number of errors in match.\n   * @param x - Location of match.\n   * @returns Overall - score for match (0.0 = good, 1.0 = bad).\n   * @internal\n   */\n  function getBitapScore(e: number, x: number) {\n    const accuracy = e / pattern.length\n    const proximity = Math.abs(loc - x)\n    if (!options.distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy\n    }\n    return accuracy + proximity / options.distance\n  }\n\n  // Highest score beyond which we give up.\n  let scoreThreshold = options.threshold\n  // Is there a nearby exact match? (speedup)\n  let bestLoc = text.indexOf(pattern, loc)\n  if (bestLoc !== -1) {\n    scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold)\n    // What about in the other direction? (speedup)\n    bestLoc = text.lastIndexOf(pattern, loc + pattern.length)\n    if (bestLoc !== -1) {\n      scoreThreshold = Math.min(getBitapScore(0, bestLoc), scoreThreshold)\n    }\n  }\n\n  // Initialise the bit arrays.\n  const matchmask = 1 << (pattern.length - 1)\n  bestLoc = -1\n\n  let binMin\n  let binMid\n  let binMax = pattern.length + text.length\n  let lastRd: number[] = []\n  for (let d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    binMin = 0\n    binMid = binMax\n    while (binMin < binMid) {\n      if (getBitapScore(d, loc + binMid) <= scoreThreshold) {\n        binMin = binMid\n      } else {\n        binMax = binMid\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin)\n    }\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid\n    let start = Math.max(1, loc - binMid + 1)\n    const finish = Math.min(loc + binMid, text.length) + pattern.length\n\n    const rd: number[] = new Array(finish + 2)\n    rd[finish + 1] = (1 << d) - 1\n    for (let j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      const charMatch = s[text.charAt(j - 1)]\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] =\n          (((rd[j + 1] << 1) | 1) & charMatch) |\n          (((lastRd[j + 1] | lastRd[j]) << 1) | 1) |\n          lastRd[j + 1]\n      }\n      if (rd[j] & matchmask) {\n        const score = getBitapScore(d, j - 1)\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= scoreThreshold) {\n          // Told you so.\n          scoreThreshold = score\n          bestLoc = j - 1\n          if (bestLoc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - bestLoc)\n          } else {\n            // Already passed loc, downhill from here on in.\n            break\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (getBitapScore(d + 1, loc) > scoreThreshold) {\n      break\n    }\n    lastRd = rd\n  }\n  return bestLoc\n}\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n *\n * @param pattern - The text to encode.\n * @returns Hash of character locations.\n * @internal\n */\nfunction getAlphabetFromPattern(pattern: string): Alphabet {\n  const s: Alphabet = {}\n  for (let i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0\n  }\n  for (let i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1)\n  }\n  return s\n}\n","import {bitap} from './bitap.js'\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n *\n * @param text - The text to search.\n * @param pattern - The pattern to search for.\n * @param searchLocation - The location to search around.\n * @returns Best match index or -1.\n * @public\n */\nexport function match(text: string, pattern: string, searchLocation: number): number {\n  // Check for null inputs.\n  if (text === null || pattern === null || searchLocation === null) {\n    throw new Error('Null input. (match())')\n  }\n\n  const loc = Math.max(0, Math.min(searchLocation, text.length))\n  if (text === pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1\n  } else if (text.substring(loc, loc + pattern.length) === pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc\n  }\n\n  // Do a fuzzy compare.\n  return bitap(text, pattern, loc)\n}\n","import type {Diff} from '../diff/diff.js'\n\n/**\n * Object representing one patch operation.\n *\n * @public\n */\nexport interface Patch {\n  diffs: Diff[]\n\n  start1: number\n  start2: number\n  utf8Start1: number\n  utf8Start2: number\n\n  length1: number\n  length2: number\n  utf8Length1: number\n  utf8Length2: number\n}\n\n/**\n * Clones a patch object.\n *\n * @param patch - The patch to clone\n * @returns Cloned object\n * @private\n */\nexport function clone(patch: Patch): Patch {\n  return {...patch, diffs: patch.diffs.map((diff) => ({...diff}))}\n}\n\n/**\n * Performs a deep copy of a patch array.\n *\n * @param patches - Patches to clone\n * @returns Cloned array\n * @internal\n */\nexport function deepCopy(patches: Patch[]): Patch[] {\n  return patches.map(clone)\n}\n\n/**\n * Create a new, empty, patch object.\n *\n * @param start1 - The index to start the \"from\" at\n * @param start2 - The index to start the \"to\" at\n * @returns New patch object\n * @internal\n */\nexport function createPatchObject(start1: number, start2: number): Patch {\n  return {\n    diffs: [],\n\n    start1,\n    start2,\n    utf8Start1: start1,\n    utf8Start2: start2,\n\n    length1: 0,\n    length2: 0,\n    utf8Length1: 0,\n    utf8Length2: 0,\n  }\n}\n","import {DIFF_DELETE, DIFF_INSERT, type Diff} from './diff.js'\n\n/**\n * Compute and return the source text (all equalities and deletions).\n *\n * @param diffs - Array of diff tuples.\n * @returns Source text.\n * @private\n */\nexport function diffText1(diffs: Diff[]): string {\n  const text: string[] = []\n  for (let x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1]\n    }\n  }\n  return text.join('')\n}\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n *\n * @param diffs - Array of diff tuples.\n * @returns Destination text.\n * @private\n */\nexport function diffText2(diffs: Diff[]): string {\n  const text: string[] = []\n  for (let x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1]\n    }\n  }\n  return text.join('')\n}\n","import {cloneDiff} from '../diff/clone.js'\nimport type {Patch} from '../index.js'\n\n/**\n * Counts the number of bytes in a string.\n * Note that while this approach may seem heavy-handed, it is actually\n * significantly faster than both `new Blob([str]).size` and `TextEncoder`.\n *\n * @param str - String to count\n * @returns Number of bytes\n */\nexport function countUtf8Bytes(str: string): number {\n  let bytes = 0\n  for (let i = 0; i < str.length; i++) {\n    const codePoint = str.codePointAt(i)\n    if (typeof codePoint === 'undefined') {\n      throw new Error('Failed to get codepoint')\n    }\n    bytes += utf8len(codePoint)\n  }\n  return bytes\n}\n\n/**\n * Options for the index adjustment operations.\n *\n * @public\n */\nexport interface AdjustmentOptions {\n  /**\n   * When converting indices between UTF-8 and UCS-2, certain scenarios can occur\n   * where we go beyond the target offset. This can happen in particular with\n   * surrogate pairs/high codepoints, when the base string we are applying the\n   * patch to does not fully match the one that was used to generate the patch.\n   * Defaults to `false`.\n   */\n  allowExceedingIndices?: boolean\n}\n\n/**\n * Takes a `patches` array as produced by diff-match-patch and adjusts the\n * `start1` and `start2` properties so that they refer to UCS-2 index instead\n * of a UTF-8 index.\n *\n * @param patches - The patches to adjust\n * @param base - The base string to use for counting bytes\n * @param options - Options for the adjustment of indices\n * @returns A new array of patches with adjusted indicies\n * @beta\n */\nexport function adjustIndiciesToUcs2(\n  patches: Patch[],\n  base: string,\n  options: AdjustmentOptions = {}\n): Patch[] {\n  let byteOffset = 0\n  let idx = 0 // index into the input.\n\n  function advanceTo(target: number) {\n    for (; byteOffset < target; ) {\n      const codePoint = base.codePointAt(idx)\n      if (typeof codePoint === 'undefined') {\n        // Reached the end of the base string - the indicies won't be correct,\n        // but we also cannot advance any further to find a closer index.\n        return idx\n      }\n\n      byteOffset += utf8len(codePoint)\n\n      // This is encoded as a surrogate pair.\n      if (codePoint > 0xffff) {\n        idx += 2\n      } else {\n        idx += 1\n      }\n    }\n\n    if (!options.allowExceedingIndices && byteOffset !== target) {\n      throw new Error('Failed to determine byte offset')\n    }\n\n    return idx\n  }\n\n  const adjusted: Patch[] = []\n  for (const patch of patches) {\n    adjusted.push({\n      diffs: patch.diffs.map((diff) => cloneDiff(diff)),\n      start1: advanceTo(patch.start1),\n      start2: advanceTo(patch.start2),\n      utf8Start1: patch.utf8Start1,\n      utf8Start2: patch.utf8Start2,\n      length1: patch.length1,\n      length2: patch.length2,\n      utf8Length1: patch.utf8Length1,\n      utf8Length2: patch.utf8Length2,\n    })\n  }\n\n  return adjusted\n}\n\nfunction utf8len(codePoint: number): 1 | 2 | 3 | 4 {\n  // See table at https://en.wikipedia.org/wiki/UTF-8\n  if (codePoint <= 0x007f) return 1\n  if (codePoint <= 0x07ff) return 2\n  if (codePoint <= 0xffff) return 3\n  return 4\n}\n","// The number of bits in an int.\nexport const MAX_BITS = 32\n\nexport const DEFAULT_MARGIN = 4\n","import {cleanupSemantic, cleanupEfficiency} from '../diff/cleanup.js'\nimport {diff, type Diff, DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT} from '../diff/diff.js'\nimport {diffText1} from '../diff/diffText.js'\nimport {isLowSurrogate} from '../utils/surrogatePairs.js'\nimport {countUtf8Bytes} from '../utils/utf8Indices.js'\nimport {MAX_BITS} from './constants.js'\nimport {createPatchObject, type Patch} from './createPatchObject.js'\n\n/**\n * Options for patch generation.\n *\n * @public\n */\nexport interface MakePatchOptions {\n  // Chunk size for context length.\n  margin: number\n}\n\nconst DEFAULT_OPTS: MakePatchOptions = {\n  margin: 4,\n}\n\nfunction getDefaultOpts(opts: Partial<MakePatchOptions> = {}): MakePatchOptions {\n  return {\n    ...DEFAULT_OPTS,\n    ...opts,\n  }\n}\n\n/**\n * Compute a list of patches to turn based on passed diffs.\n *\n * @param diffs - Array of diff tuples.\n * @param options - Options for the patch generation.\n * @returns Array of Patch objects.\n * @public\n */\nexport function make(diffs: Diff[], options?: Partial<MakePatchOptions>): Patch[]\n\n/**\n * Compute a list of patches to turn textA into textB.\n *\n * @param textA - Original text.\n * @param textB - New text.\n * @param options - Options for the patch generation.\n * @returns Array of Patch objects.\n * @public\n */\nexport function make(textA: string, textB: string, options?: Partial<MakePatchOptions>): Patch[]\n\n/**\n * Compute a list of patches to turn textA into textB using provided diff tuples.\n *\n * @param textA - Original text.\n * @param diffs - Diff tuples to use as base.\n * @param options - Options for the patch generation.\n * @returns Array of Patch objects.\n * @public\n */\nexport function make(textA: string, diffs: Diff[], options?: Partial<MakePatchOptions>): Patch[]\n\nexport function make(\n  a: Diff[] | string,\n  b?: Partial<MakePatchOptions> | string | Diff[],\n  options?: Partial<MakePatchOptions>\n): Patch[] {\n  if (typeof a === 'string' && typeof b === 'string') {\n    // Method 1: textA, textB\n    // Compute diffs from textA and textB.\n    let diffs = diff(a, b, {checkLines: true})\n    if (diffs.length > 2) {\n      diffs = cleanupSemantic(diffs)\n      diffs = cleanupEfficiency(diffs)\n    }\n    return _make(a, diffs, getDefaultOpts(options))\n  }\n\n  if (a && Array.isArray(a) && typeof b === 'undefined') {\n    // Method 2: diffs\n    // Compute textA from diffs.\n    return _make(diffText1(a), a, getDefaultOpts(options))\n  }\n\n  if (typeof a === 'string' && b && Array.isArray(b)) {\n    // Method 3: textA, diffs\n    return _make(a, b, getDefaultOpts(options))\n  }\n\n  throw new Error('Unknown call format to make()')\n}\n\nfunction _make(textA: string, diffs: Diff[], options: MakePatchOptions): Patch[] {\n  if (diffs.length === 0) {\n    return [] // Get rid of the null case.\n  }\n  const patches: Patch[] = []\n\n  let patch = createPatchObject(0, 0)\n  let patchDiffLength = 0 // Keeping our own length var is faster in JS.\n  let charCount1 = 0 // Number of characters into the textA string.\n  let charCount2 = 0 // Number of characters into the textB string.\n  let utf8Count1 = 0 // Number of utf-8 bytes into the textA string.\n  let utf8Count2 = 0 // Number of utf-8 bytes into the textB string.\n\n  // Start with textA (prepatchText) and apply the diffs until we arrive at\n  // textB (postpatchText).  We recreate the patches one by one to determine\n  // context info.\n  let prepatchText = textA\n  let postpatchText = textA\n\n  for (let x = 0; x < diffs.length; x++) {\n    const currentDiff = diffs[x]\n    const [diffType, diffText] = currentDiff\n    const diffTextLength = diffText.length\n    const diffByteLength = countUtf8Bytes(diffText)\n\n    if (!patchDiffLength && diffType !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = charCount1\n      patch.start2 = charCount2\n      patch.utf8Start1 = utf8Count1\n      patch.utf8Start2 = utf8Count2\n    }\n\n    switch (diffType) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = currentDiff\n        patch.length2 += diffTextLength\n        patch.utf8Length2 += diffByteLength\n        postpatchText =\n          postpatchText.substring(0, charCount2) + diffText + postpatchText.substring(charCount2)\n        break\n      case DIFF_DELETE:\n        patch.length1 += diffTextLength\n        patch.utf8Length1 += diffByteLength\n        patch.diffs[patchDiffLength++] = currentDiff\n        postpatchText =\n          postpatchText.substring(0, charCount2) +\n          postpatchText.substring(charCount2 + diffTextLength)\n        break\n      case DIFF_EQUAL:\n        if (diffTextLength <= 2 * options.margin && patchDiffLength && diffs.length !== x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = currentDiff\n          patch.length1 += diffTextLength\n          patch.length2 += diffTextLength\n          patch.utf8Length1 += diffByteLength\n          patch.utf8Length2 += diffByteLength\n        } else if (diffTextLength >= 2 * options.margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            addContext(patch, prepatchText, options)\n            patches.push(patch)\n            patch = createPatchObject(-1, -1)\n            patchDiffLength = 0\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // http://code.google.com/p/google-diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatchText = postpatchText\n            charCount1 = charCount2\n            utf8Count1 = utf8Count2\n          }\n        }\n        break\n      default:\n        throw new Error('Unknown diff type')\n    }\n\n    // Update the current character count.\n    if (diffType !== DIFF_INSERT) {\n      charCount1 += diffTextLength\n      utf8Count1 += diffByteLength\n    }\n    if (diffType !== DIFF_DELETE) {\n      charCount2 += diffTextLength\n      utf8Count2 += diffByteLength\n    }\n  }\n\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    addContext(patch, prepatchText, options)\n    patches.push(patch)\n  }\n\n  return patches\n}\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond MAX_BITS.\n *\n * @param patch - The patch to grow.\n * @param text - Source text.\n * @param opts\n * @internal\n */\nexport function addContext(patch: Patch, text: string, opts: MakePatchOptions): void {\n  if (text.length === 0) {\n    return\n  }\n  let pattern = text.substring(patch.start2, patch.start2 + patch.length1)\n  let padding = 0\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (\n    text.indexOf(pattern) !== text.lastIndexOf(pattern) &&\n    pattern.length < MAX_BITS - opts.margin - opts.margin\n  ) {\n    padding += opts.margin\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding)\n  }\n  // Add one chunk for good luck.\n  padding += opts.margin\n\n  // Add the prefix.\n\n  // Avoid splitting inside a surrogate.\n  let prefixStart = patch.start2 - padding\n  if (prefixStart >= 1 && isLowSurrogate(text[prefixStart])) {\n    prefixStart--\n  }\n\n  const prefix = text.substring(prefixStart, patch.start2)\n  if (prefix) {\n    patch.diffs.unshift([DIFF_EQUAL, prefix])\n  }\n\n  const prefixLength = prefix.length\n  const prefixUtf8Length = countUtf8Bytes(prefix)\n\n  // Add the suffix.\n\n  // Avoid splitting inside a surrogate.\n  let suffixEnd = patch.start2 + patch.length1 + padding\n  if (suffixEnd < text.length && isLowSurrogate(text[suffixEnd])) {\n    suffixEnd++\n  }\n\n  const suffix = text.substring(patch.start2 + patch.length1, suffixEnd)\n  if (suffix) {\n    patch.diffs.push([DIFF_EQUAL, suffix])\n  }\n\n  const suffixLength = suffix.length\n  const suffixUtf8Length = countUtf8Bytes(suffix)\n\n  // Roll back the start points.\n  patch.start1 -= prefixLength\n  patch.start2 -= prefixLength\n  patch.utf8Start1 -= prefixUtf8Length\n  patch.utf8Start2 -= prefixUtf8Length\n\n  // Extend the lengths.\n  patch.length1 += prefixLength + suffixLength\n  patch.length2 += prefixLength + suffixLength\n  patch.utf8Length1 += prefixUtf8Length + suffixUtf8Length\n  patch.utf8Length2 += prefixUtf8Length + suffixUtf8Length\n}\n","import {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT, type Diff} from './diff.js'\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n *\n * @param diffs - Array of diff tuples.\n * @returns Number of changes.\n * @internal\n */\nexport function levenshtein(diffs: Diff[]): number {\n  let leven = 0\n  let insertions = 0\n  let deletions = 0\n\n  for (let x = 0; x < diffs.length; x++) {\n    const op = diffs[x][0]\n    const data = diffs[x][1]\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length\n        break\n      case DIFF_DELETE:\n        deletions += data.length\n        break\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        leven += Math.max(insertions, deletions)\n        insertions = 0\n        deletions = 0\n        break\n      default:\n        throw new Error('Unknown diff operation.')\n    }\n  }\n  leven += Math.max(insertions, deletions)\n  return leven\n}\n","import {DIFF_DELETE, DIFF_INSERT, type Diff} from './diff.js'\n\n/**\n * loc is a location in textA, compute and return the equivalent location in\n * textB.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n *\n * @param diffs - Array of diff tuples.\n * @param loc - Location within textA.\n * @returns Location within textB.\n */\nexport function xIndex(diffs: Diff[], loc: number): number {\n  let chars1 = 0\n  let chars2 = 0\n  let lastChars1 = 0\n  let lastChars2 = 0\n  let x\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length\n    }\n    if (chars1 > loc) {\n      // Overshot the location.\n      break\n    }\n    lastChars1 = chars1\n    lastChars2 = chars2\n  }\n  // Was the location was deleted?\n  if (diffs.length !== x && diffs[x][0] === DIFF_DELETE) {\n    return lastChars2\n  }\n  // Add the remaining character length.\n  return lastChars2 + (loc - lastChars1)\n}\n","import {DIFF_EQUAL} from '../diff/diff.js'\nimport {DEFAULT_MARGIN} from './constants.js'\nimport type {Patch} from './createPatchObject.js'\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n *\n * @param patches - Array of Patch objects.\n * @param margin - The margin length to add.\n * @returns The string, padded on each side.\n * @internal\n */\nexport function addPadding(patches: Patch[], margin: number = DEFAULT_MARGIN): string {\n  const paddingLength = margin\n  let nullPadding = ''\n  for (let x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x)\n  }\n\n  // Bump all the patches forward.\n  for (const p of patches) {\n    p.start1 += paddingLength\n    p.start2 += paddingLength\n    p.utf8Start1 += paddingLength\n    p.utf8Start2 += paddingLength\n  }\n\n  // Add some padding on start of first diff.\n  let patch = patches[0]\n  let diffs = patch.diffs\n  if (diffs.length === 0 || diffs[0][0] !== DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift([DIFF_EQUAL, nullPadding])\n    patch.start1 -= paddingLength // Should be 0.\n    patch.start2 -= paddingLength // Should be 0.\n    patch.utf8Start1 -= paddingLength // Should be 0.\n    patch.utf8Start2 -= paddingLength // Should be 0.\n    patch.length1 += paddingLength\n    patch.length2 += paddingLength\n    patch.utf8Length1 += paddingLength\n    patch.utf8Length2 += paddingLength\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    const firstDiffLength = diffs[0][1].length\n    const extraLength = paddingLength - firstDiffLength\n    diffs[0][1] = nullPadding.substring(firstDiffLength) + diffs[0][1]\n    patch.start1 -= extraLength\n    patch.start2 -= extraLength\n    patch.utf8Start1 -= extraLength\n    patch.utf8Start2 -= extraLength\n    patch.length1 += extraLength\n    patch.length2 += extraLength\n    patch.utf8Length1 += extraLength\n    patch.utf8Length2 += extraLength\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1]\n  diffs = patch.diffs\n  if (diffs.length === 0 || diffs[diffs.length - 1][0] !== DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push([DIFF_EQUAL, nullPadding])\n    patch.length1 += paddingLength\n    patch.length2 += paddingLength\n    patch.utf8Length1 += paddingLength\n    patch.utf8Length2 += paddingLength\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    const extraLength = paddingLength - diffs[diffs.length - 1][1].length\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength)\n    patch.length1 += extraLength\n    patch.length2 += extraLength\n    patch.utf8Length1 += extraLength\n    patch.utf8Length2 += extraLength\n  }\n\n  return nullPadding\n}\n","import {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT} from '../diff/diff.js'\nimport {diffText1, diffText2} from '../diff/diffText.js'\nimport {countUtf8Bytes} from '../utils/utf8Indices.js'\nimport {DEFAULT_MARGIN, MAX_BITS} from './constants.js'\nimport {createPatchObject, type Patch} from './createPatchObject.js'\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n *\n * @param patches - Array of Patch objects.\n * @internal\n */\nexport function splitMax(patches: Patch[], margin: number = DEFAULT_MARGIN): void {\n  const patchSize = MAX_BITS\n  for (let x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patchSize) {\n      continue\n    }\n    const bigpatch = patches[x]\n    // Remove the big old patch.\n    patches.splice(x--, 1)\n    let start1 = bigpatch.start1\n    let start2 = bigpatch.start2\n    let preContext = ''\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      const patch = createPatchObject(start1 - preContext.length, start2 - preContext.length)\n      let empty = true\n\n      if (preContext !== '') {\n        const precontextByteCount = countUtf8Bytes(preContext)\n        patch.length1 = preContext.length\n        patch.utf8Length1 = precontextByteCount\n        patch.length2 = preContext.length\n        patch.utf8Length2 = precontextByteCount\n        patch.diffs.push([DIFF_EQUAL, preContext])\n      }\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patchSize - margin) {\n        const diffType = bigpatch.diffs[0][0]\n        let diffText = bigpatch.diffs[0][1]\n        let diffTextByteCount = countUtf8Bytes(diffText)\n        if (diffType === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diffText.length\n          patch.utf8Length2 += diffTextByteCount\n          start2 += diffText.length\n          const diff = bigpatch.diffs.shift()\n          if (diff) {\n            patch.diffs.push(diff)\n          }\n          empty = false\n        } else if (\n          diffType === DIFF_DELETE &&\n          patch.diffs.length === 1 &&\n          patch.diffs[0][0] === DIFF_EQUAL &&\n          diffText.length > 2 * patchSize\n        ) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diffText.length\n          patch.utf8Length1 += diffTextByteCount\n          start1 += diffText.length\n          empty = false\n          patch.diffs.push([diffType, diffText])\n          bigpatch.diffs.shift()\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diffText = diffText.substring(0, patchSize - patch.length1 - margin)\n          diffTextByteCount = countUtf8Bytes(diffText)\n          patch.length1 += diffText.length\n          patch.utf8Length1 += diffTextByteCount\n          start1 += diffText.length\n          if (diffType === DIFF_EQUAL) {\n            patch.length2 += diffText.length\n            patch.utf8Length2 += diffTextByteCount\n            start2 += diffText.length\n          } else {\n            empty = false\n          }\n          patch.diffs.push([diffType, diffText])\n          if (diffText === bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift()\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diffText.length)\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      preContext = diffText2(patch.diffs)\n      preContext = preContext.substring(preContext.length - margin)\n      // Append the end context for this patch.\n      const postContext = diffText1(bigpatch.diffs).substring(0, margin)\n      const postContextByteCount = countUtf8Bytes(postContext)\n      if (postContext !== '') {\n        patch.length1 += postContext.length\n        patch.length2 += postContext.length\n        patch.utf8Length1 += postContextByteCount\n        patch.utf8Length2 += postContextByteCount\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postContext\n        } else {\n          patch.diffs.push([DIFF_EQUAL, postContext])\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch)\n      }\n    }\n  }\n}\n","/* eslint-disable max-depth */\n/* eslint-disable max-statements */\nimport {cleanupSemanticLossless} from '../diff/cleanup.js'\nimport {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT, diff} from '../diff/diff.js'\nimport {diffText1, diffText2} from '../diff/diffText.js'\nimport {levenshtein} from '../diff/levenshtein.js'\nimport {xIndex} from '../diff/xIndex.js'\nimport {match} from '../match/match.js'\nimport {adjustIndiciesToUcs2} from '../utils/utf8Indices.js'\nimport {addPadding} from './addPadding.js'\nimport {DEFAULT_MARGIN, MAX_BITS} from './constants.js'\nimport {splitMax} from './splitMax.js'\nimport type {Patch} from './createPatchObject.js'\n\n/**\n * Options for applying a patch.\n *\n * @public\n */\nexport interface ApplyPatchOptions {\n  /**\n   * Chunk size for context length\n   */\n  margin: number\n\n  /**\n   * When deleting a large block of text (over ~64 characters),\n   * how close do the contents have to be to match the expected contents.\n   * (0.0 = perfection, 1.0 = very loose).\n   */\n  deleteThreshold: number\n\n  /**\n   * When converting indices between UTF-8 and UCS-2, certain scenarios can occur\n   * where we go beyond the target offset. This can happen in particular with\n   * surrogate pairs/high codepoints, when the base string we are applying the\n   * patch to does not fully match the one that was used to generate the patch.\n   * Defaults to `false`.\n   */\n  allowExceedingIndices: boolean\n}\n\n/**\n * Result of a patch application operation.\n * Index 0 contains the new text\n * Index 1 contains an array of booleans indicating which patches were applied\n *\n * @public\n */\nexport type PatchResult = [string, boolean[]]\n\n/**\n * Merge a set of patches onto the text. Returns patched text, as well as a\n * list of true/false values indicating which patches were applied.\n *\n * @param patches - Array of Patch objects.\n * @param text - Old text.\n * @param opts - Optional settings for the patch application.\n * @returns Two element Array, containing the new text and an array of boolean values.\n * @public\n */\nexport function apply(\n  patches: Patch[],\n  originalText: string,\n  opts: Partial<ApplyPatchOptions> = {}\n): PatchResult {\n  if (typeof patches === 'string') {\n    throw new Error('Patches must be an array - pass the patch to `parsePatch()` first')\n  }\n\n  let text = originalText\n  if (patches.length === 0) {\n    return [text, []]\n  }\n\n  // Note: adjustment also deep-copies patches so that no changes are made to the originals.\n  const parsed = adjustIndiciesToUcs2(patches, text, {\n    allowExceedingIndices: opts.allowExceedingIndices,\n  })\n\n  const margin = opts.margin || DEFAULT_MARGIN\n  const deleteThreshold = opts.deleteThreshold || 0.4\n\n  const nullPadding = addPadding(parsed, margin)\n  text = nullPadding + text + nullPadding\n\n  splitMax(parsed, margin)\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  let delta = 0\n  const results: boolean[] = []\n  for (let x = 0; x < parsed.length; x++) {\n    const expectedLoc = parsed[x].start2 + delta\n    const text1 = diffText1(parsed[x].diffs)\n    let startLoc\n    let endLoc = -1\n    if (text1.length > MAX_BITS) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      startLoc = match(text, text1.substring(0, MAX_BITS), expectedLoc)\n      if (startLoc !== -1) {\n        endLoc = match(\n          text,\n          text1.substring(text1.length - MAX_BITS),\n          expectedLoc + text1.length - MAX_BITS\n        )\n        if (endLoc === -1 || startLoc >= endLoc) {\n          // Can't find valid trailing context.  Drop this patch.\n          startLoc = -1\n        }\n      }\n    } else {\n      startLoc = match(text, text1, expectedLoc)\n    }\n    if (startLoc === -1) {\n      // No match found.  :(\n      results[x] = false\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= parsed[x].length2 - parsed[x].length1\n    } else {\n      // Found a match.  :)\n      results[x] = true\n      delta = startLoc - expectedLoc\n      let text2\n      if (endLoc === -1) {\n        text2 = text.substring(startLoc, startLoc + text1.length)\n      } else {\n        text2 = text.substring(startLoc, endLoc + MAX_BITS)\n      }\n      if (text1 === text2) {\n        // Perfect match, just shove the replacement text in.\n        text =\n          text.substring(0, startLoc) +\n          diffText2(parsed[x].diffs) +\n          text.substring(startLoc + text1.length)\n      } else {\n        // Imperfect match. Run a diff to get a framework of equivalent indices.\n        let diffs = diff(text1, text2, {checkLines: false})\n        if (text1.length > MAX_BITS && levenshtein(diffs) / text1.length > deleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false\n        } else {\n          diffs = cleanupSemanticLossless(diffs)\n          let index1 = 0\n          let index2 = 0\n          for (let y = 0; y < parsed[x].diffs.length; y++) {\n            const mod = parsed[x].diffs[y]\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = xIndex(diffs, index1)\n            }\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text =\n                text.substring(0, startLoc + index2) + mod[1] + text.substring(startLoc + index2)\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text =\n                text.substring(0, startLoc + index2) +\n                text.substring(startLoc + xIndex(diffs, index1 + mod[1].length))\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length)\n  return [text, results]\n}\n","import {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT} from '../diff/diff.js'\nimport type {Patch} from './createPatchObject.js'\n\n/**\n * Create a textual representation of a patch list.\n *\n * @param patches - Patches to stringify\n * @returns Text representation of patches\n * @public\n */\nexport function stringify(patches: Patch[]): string {\n  return patches.map(stringifyPatch).join('')\n}\n\n/**\n * Create a textual representation of a patch.\n *\n * @param patch - Patch to stringify\n * @returns Text representation of patch\n * @public\n */\nexport function stringifyPatch(patch: Patch): string {\n  const {utf8Length1, utf8Length2, utf8Start1, utf8Start2, diffs} = patch\n\n  let coords1: string\n  if (utf8Length1 === 0) {\n    coords1 = `${utf8Start1},0`\n  } else if (utf8Length1 === 1) {\n    coords1 = `${utf8Start1 + 1}`\n  } else {\n    coords1 = `${utf8Start1 + 1},${utf8Length1}`\n  }\n\n  let coords2: string\n  if (utf8Length2 === 0) {\n    coords2 = `${utf8Start2},0`\n  } else if (utf8Length2 === 1) {\n    coords2 = `${utf8Start2 + 1}`\n  } else {\n    coords2 = `${utf8Start2 + 1},${utf8Length2}`\n  }\n\n  const text = [`@@ -${coords1} +${coords2} @@\\n`]\n  let op\n\n  // Escape the body of the patch with %xx notation.\n  for (let x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+'\n        break\n      case DIFF_DELETE:\n        op = '-'\n        break\n      case DIFF_EQUAL:\n        op = ' '\n        break\n      default:\n        throw new Error('Unknown patch operation.')\n    }\n    text[x + 1] = `${op + encodeURI(diffs[x][1])}\\n`\n  }\n\n  return text.join('').replace(/%20/g, ' ')\n}\n","import {DIFF_DELETE, DIFF_EQUAL, DIFF_INSERT} from '../diff/diff.js'\nimport {countUtf8Bytes} from '../utils/utf8Indices.js'\nimport {createPatchObject, type Patch} from './createPatchObject.js'\n\nconst patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n *\n * @param textline - Text representation of patches.\n * @returns Array of Patch objects.\n * @public\n */\nexport function parse(textline: string): Patch[] {\n  if (!textline) {\n    return []\n  }\n\n  const patches: Patch[] = []\n  const lines = textline.split('\\n')\n\n  let textPointer = 0\n  while (textPointer < lines.length) {\n    const m = lines[textPointer].match(patchHeader)\n    if (!m) {\n      throw new Error(`Invalid patch string: ${lines[textPointer]}`)\n    }\n\n    const patch = createPatchObject(toInt(m[1]), toInt(m[3]))\n    patches.push(patch)\n    if (m[2] === '') {\n      patch.start1--\n      patch.utf8Start1--\n      patch.length1 = 1\n      patch.utf8Length1 = 1\n    } else if (m[2] === '0') {\n      patch.length1 = 0\n      patch.utf8Length1 = 0\n    } else {\n      patch.start1--\n      patch.utf8Start1--\n      // The patch itself will contain the UTF-8 length\n      patch.utf8Length1 = toInt(m[2])\n      // We start with UCS-2 length set to the same, but we adjust for it later\n      patch.length1 = patch.utf8Length1\n    }\n\n    if (m[4] === '') {\n      patch.start2--\n      patch.utf8Start2--\n      patch.length2 = 1\n      patch.utf8Length2 = 1\n    } else if (m[4] === '0') {\n      patch.length2 = 0\n      patch.utf8Length2 = 0\n    } else {\n      patch.start2--\n      patch.utf8Start2--\n      // The patch itself will contain the UTF-8 length\n      patch.utf8Length2 = toInt(m[4])\n      // We start with UCS-2 length set to the same, but we adjust for it later\n      patch.length2 = patch.utf8Length2\n    }\n    textPointer++\n\n    while (textPointer < lines.length) {\n      const currentLine = lines[textPointer]\n      const sign = currentLine.charAt(0)\n\n      if (sign === '@') {\n        // Start of next patch\n        break\n      }\n\n      if (sign === '') {\n        // Blank line? Ignore.\n        textPointer++\n        continue\n      }\n\n      let line: string\n      try {\n        line = decodeURI(currentLine.slice(1))\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error(`Illegal escape in parse: ${currentLine}`)\n      }\n\n      // The number of bytes in a line does not equate to the number of \"characters\"\n      // returned by `string.length` - we have to subtract the diff here in order to\n      // make slicing/calculations work correctly\n      const utf8Diff = countUtf8Bytes(line) - line.length\n      if (sign === '-') {\n        // Deletion.\n        patch.diffs.push([DIFF_DELETE, line])\n        patch.length1 -= utf8Diff\n      } else if (sign === '+') {\n        // Insertion.\n        patch.diffs.push([DIFF_INSERT, line])\n        patch.length2 -= utf8Diff\n      } else if (sign === ' ') {\n        // Minor equality.\n        patch.diffs.push([DIFF_EQUAL, line])\n        patch.length1 -= utf8Diff\n        patch.length2 -= utf8Diff\n      } else {\n        // WTF?\n        throw new Error(`Invalid patch mode \"${sign}\" in: ${line}`)\n      }\n      textPointer++\n    }\n  }\n  return patches\n}\n\nfunction toInt(num: string): number {\n  return parseInt(num, 10)\n}\n"],"names":["isHighSurrogate","char","charCode","charCodeAt","isLowSurrogate","cloneDiff","diff","type","patch","getCommonOverlap","textA","textB","text1","text2","text1Length","length","text2Length","substring","textLength","Math","min","best","found","pattern","indexOf","getCommonPrefix","pointerMin","pointerMax","pointerMid","pointerStart","floor","getCommonSuffix","pointerEnd","cleanupSemantic","rawDiffs","diffs","map","hasChanges","equalities","equalitiesLength","lastEquality","pointer","lengthInsertions1","lengthDeletions1","lengthInsertions2","lengthDeletions2","DIFF_EQUAL","DIFF_INSERT","max","splice","DIFF_DELETE","cleanupMerge","cleanupSemanticLossless","deletion","insertion","overlapLength1","overlapLength2","nonAlphaNumericRegex","whitespaceRegex","linebreakRegex","blanklineEndRegex","blanklineStartRegex","diffCleanupSemanticScore","one","two","char1","charAt","char2","nonAlphaNumeric1","match","nonAlphaNumeric2","whitespace1","whitespace2","lineBreak1","lineBreak2","blankLine1","blankLine2","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","push","countDelete","countInsert","textDelete","textInsert","commonlength","Error","pop","trueCount","_len","arguments","args","Array","_key","reduce","n","bool","cleanupEfficiency","editCost","undefined","preIns","preDel","postIns","postDel","bisect","deadline","maxD","ceil","vOffset","vLength","v1","v2","x","delta","front","k1start","k1end","k2start","k2end","d","Date","now","k1","k1Offset","x1","y1","k2Offset","x2","bisectSplit","k2","y2","y","text1a","text2a","text1b","text2b","doDiff","checkLines","diffsb","concat","findHalfMatch","timeout","longText","shortText","halfMatch1","halfMatchI","halfMatch2","halfMatch","text1A","text1B","text2A","text2B","midCommon","i","seed","slice","j","bestCommon","bestLongTextA","bestLongTextB","bestShortTextA","bestShortTextB","prefixLength","suffixLength","charsToLines","lineArray","chars","text","join","linesToChars","lineHash","diffLinesToMunge","lineStart","lineEnd","lineArrayLength","line","hasOwnProperty","String","fromCharCode","maxLines","chars1","chars2","doLineModeDiff","opts","a","linearray","aa","computeDiff","longtext","shorttext","diffsA","diffsB","createInternalOpts","adjustDiffForSurrogatePairs","options","commonprefix","commonsuffix","unshift","createDeadLine","t","Number","MAX_VALUE","combineChar","data","dir","splitChar","hasSharedChar","deisolateChar","inv","insertIdx","deleteIdx","op","rest","insertText","insertChar","deleteText","diffType","diffText","firstChar","lastChar","DEFAULT_OPTIONS","threshold","distance","applyDefaults","MAX_BITS","bitap","loc","s","getAlphabetFromPattern","getBitapScore","e","accuracy","proximity","abs","scoreThreshold","bestLoc","lastIndexOf","matchmask","binMin","binMid","binMax","lastRd","start","finish","rd","charMatch","searchLocation","createPatchObject","start1","start2","utf8Start1","utf8Start2","length1","length2","utf8Length1","utf8Length2","diffText1","diffText2","countUtf8Bytes","str","bytes","codePoint","codePointAt","utf8len","adjustIndiciesToUcs2","patches","base","byteOffset","idx","advanceTo","target","allowExceedingIndices","adjusted","DEFAULT_MARGIN","DEFAULT_OPTS","margin","getDefaultOpts","make","b","_make","isArray","patchDiffLength","charCount1","charCount2","utf8Count1","utf8Count2","prepatchText","postpatchText","currentDiff","diffTextLength","diffByteLength","addContext","padding","prefixStart","prefix","prefixUtf8Length","suffixEnd","suffix","suffixUtf8Length","levenshtein","leven","insertions","deletions","xIndex","lastChars1","lastChars2","addPadding","paddingLength","nullPadding","p","firstDiffLength","extraLength","splitMax","patchSize","bigpatch","preContext","empty","precontextByteCount","diffTextByteCount","shift","postContext","postContextByteCount","apply","originalText","parsed","deleteThreshold","results","expectedLoc","startLoc","endLoc","index1","index2","mod","stringify","stringifyPatch","coords1","coords2","encodeURI","replace","patchHeader","parse","textline","lines","split","textPointer","m","toInt","currentLine","sign","decodeURI","ex","utf8Diff","num","parseInt"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}},
    {"offset": {"line": 7196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7202, "column": 0}, "map": {"version":3,"file":"index.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/util/findBlockType.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/util/resolveJsType.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/.pnpm/%40vercel%2Bstega%400.1.2/node_modules/%40vercel/stega/dist/index.mjs","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/constants.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/util/blockContentTypeFeatures.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/xpathResult.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/gdocs.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/html.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/notion.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/whitespace.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/word.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/preprocessors/index.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/helpers.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/rules/gdocs.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/util/randomKey.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/rules/html.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/rules/notion.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/rules/word.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/rules/index.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/HtmlDeserializer/index.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/util/normalizeBlock.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/block-tools/src/index.ts"],"sourcesContent":["import {type BlockSchemaType, type SchemaType} from '@sanity/types'\n\nexport function findBlockType(type: SchemaType): type is BlockSchemaType {\n  if (type.type) {\n    return findBlockType(type.type)\n  }\n\n  if (type.name === 'block') {\n    return true\n  }\n\n  return false\n}\n","const toString = Object.prototype.toString\n\n// Copied from https://github.com/ForbesLindesay/type-of\n// but inlined to have fine grained control\nexport function resolveJsType(val: unknown) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (\n    val &&\n    typeof val === 'object' &&\n    'nodeType' in val &&\n    (val as {nodeType: unknown}).nodeType === 1\n  ) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","var s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},c={0:8203,1:8204,2:8205,3:65279},u=new Array(4).fill(String.fromCodePoint(c[0])).join(\"\"),m=String.fromCharCode(0);function E(t){let e=JSON.stringify(t);return`${u}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,\"0\")).map(o=>String.fromCodePoint(c[o])).join(\"\")}).join(\"\")}`}function y(t){let e=JSON.stringify(t);return Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(16).padStart(2,\"0\")).map(o=>String.fromCodePoint(s[o])).join(\"\")}).join(\"\")}function I(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t)?!1:Boolean(Date.parse(t))}function T(t){try{new URL(t,t.startsWith(\"/\")?\"https://acme.com\":void 0)}catch{return!1}return!0}function C(t,e,r=\"auto\"){return r===!0||r===\"auto\"&&(I(t)||T(t))?t:`${t}${E(e)}`}var x=Object.fromEntries(Object.entries(c).map(t=>t.reverse())),g=Object.fromEntries(Object.entries(s).map(t=>t.reverse())),S=`${Object.values(s).map(t=>`\\\\u{${t.toString(16)}}`).join(\"\")}`,f=new RegExp(`[${S}]{4,}`,\"gu\");function G(t){let e=t.match(f);if(!!e)return h(e[0],!0)[0]}function $(t){let e=t.match(f);if(!!e)return e.map(r=>h(r)).flat()}function h(t,e=!1){let r=Array.from(t);if(r.length%2===0){if(r.length%4||!t.startsWith(u))return A(r,e)}else throw new Error(\"Encoded data has invalid length\");let n=[];for(let o=r.length*.25;o--;){let p=r.slice(o*4,o*4+4).map(d=>x[d.codePointAt(0)]).join(\"\");n.unshift(String.fromCharCode(parseInt(p,4)))}if(e){n.shift();let o=n.indexOf(m);return o===-1&&(o=n.length),[JSON.parse(n.slice(0,o).join(\"\"))]}return n.join(\"\").split(m).filter(Boolean).map(o=>JSON.parse(o))}function A(t,e){var d;let r=[];for(let i=t.length*.5;i--;){let a=`${g[t[i*2].codePointAt(0)]}${g[t[i*2+1].codePointAt(0)]}`;r.unshift(String.fromCharCode(parseInt(a,16)))}let n=[],o=[r.join(\"\")],p=10;for(;o.length;){let i=o.shift();try{if(n.push(JSON.parse(i)),e)return n}catch(a){if(!p--)throw a;let l=+((d=a.message.match(/\\sposition\\s(\\d+)$/))==null?void 0:d[1]);if(!l)throw a;o.unshift(i.substring(0,l),i.substring(l))}}return n}function _(t){var e;return{cleaned:t.replace(f,\"\"),encoded:((e=t.match(f))==null?void 0:e[0])||\"\"}}function O(t){return t&&JSON.parse(_(JSON.stringify(t)).cleaned)}export{f as VERCEL_STEGA_REGEX,y as legacyStegaEncode,O as vercelStegaClean,C as vercelStegaCombine,G as vercelStegaDecode,$ as vercelStegaDecodeAll,E as vercelStegaEncode,_ as vercelStegaSplit};\n","import {uniq} from 'lodash'\n\nexport interface PartialBlock {\n  _type: string\n  markDefs: string[]\n  style: string\n  level?: number\n  listItem?: string\n}\n\nexport const PRESERVE_WHITESPACE_TAGS = ['pre', 'textarea', 'code']\n\nexport const BLOCK_DEFAULT_STYLE = 'normal'\n\nexport const DEFAULT_BLOCK: PartialBlock = Object.freeze({\n  _type: 'block',\n  markDefs: [],\n  style: BLOCK_DEFAULT_STYLE,\n})\n\nexport const DEFAULT_SPAN = Object.freeze({\n  _type: 'span',\n  marks: [] as string[],\n})\n\nexport const HTML_BLOCK_TAGS = {\n  p: DEFAULT_BLOCK,\n  blockquote: {...DEFAULT_BLOCK, style: 'blockquote'} as PartialBlock,\n}\n\nexport const HTML_SPAN_TAGS = {\n  span: {object: 'text'},\n}\n\nexport const HTML_LIST_CONTAINER_TAGS: Record<string, {object: null} | undefined> = {\n  ol: {object: null},\n  ul: {object: null},\n}\n\nexport const HTML_HEADER_TAGS: Record<string, PartialBlock | undefined> = {\n  h1: {...DEFAULT_BLOCK, style: 'h1'},\n  h2: {...DEFAULT_BLOCK, style: 'h2'},\n  h3: {...DEFAULT_BLOCK, style: 'h3'},\n  h4: {...DEFAULT_BLOCK, style: 'h4'},\n  h5: {...DEFAULT_BLOCK, style: 'h5'},\n  h6: {...DEFAULT_BLOCK, style: 'h6'},\n}\n\nexport const HTML_MISC_TAGS = {\n  br: {...DEFAULT_BLOCK, style: BLOCK_DEFAULT_STYLE} as PartialBlock,\n}\n\nexport const HTML_DECORATOR_TAGS: Record<string, string | undefined> = {\n  b: 'strong',\n  strong: 'strong',\n\n  i: 'em',\n  em: 'em',\n\n  u: 'underline',\n  s: 'strike-through',\n  strike: 'strike-through',\n  del: 'strike-through',\n\n  code: 'code',\n  sup: 'sup',\n  sub: 'sub',\n  ins: 'ins',\n  mark: 'mark',\n  small: 'small',\n}\n\nexport const HTML_LIST_ITEM_TAGS: Record<string, PartialBlock | undefined> = {\n  li: {\n    ...DEFAULT_BLOCK,\n    style: BLOCK_DEFAULT_STYLE,\n    level: 1,\n    listItem: 'bullet',\n  },\n}\n\nexport const ELEMENT_MAP = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_SPAN_TAGS,\n  ...HTML_LIST_CONTAINER_TAGS,\n  ...HTML_LIST_ITEM_TAGS,\n  ...HTML_HEADER_TAGS,\n  ...HTML_MISC_TAGS,\n}\n\nexport const DEFAULT_SUPPORTED_STYLES = uniq(\n  Object.values(ELEMENT_MAP)\n    .filter((tag): tag is PartialBlock => 'style' in tag)\n    .map((tag) => tag.style),\n)\n\nexport const DEFAULT_SUPPORTED_DECORATORS = uniq(Object.values(HTML_DECORATOR_TAGS))\n\nexport const DEFAULT_SUPPORTED_ANNOTATIONS = ['link']\n","import {\n  type ArraySchemaType,\n  type BlockSchemaType,\n  type EnumListProps,\n  type I18nTitledListValue,\n  isBlockChildrenObjectField,\n  isBlockListObjectField,\n  isBlockSchemaType,\n  isBlockStyleObjectField,\n  isObjectSchemaType,\n  isTitledListValue,\n  type ObjectSchemaType,\n  type SpanSchemaType,\n  type TitledListValue,\n} from '@sanity/types'\n\nimport {type BlockContentFeatures, type ResolvedAnnotationType} from '../types'\nimport {findBlockType} from './findBlockType'\n\n// Helper method for describing a blockContentType's feature set\nexport default function blockContentFeatures(\n  blockContentType: ArraySchemaType,\n): BlockContentFeatures {\n  if (!blockContentType) {\n    throw new Error(\"Parameter 'blockContentType' required\")\n  }\n\n  const blockType = blockContentType.of.find(findBlockType)\n  if (!isBlockSchemaType(blockType)) {\n    throw new Error(\"'block' type is not defined in this schema (required).\")\n  }\n\n  const ofType = blockType.fields.find(isBlockChildrenObjectField)?.type?.of\n  if (!ofType) {\n    throw new Error('No `of` declaration found for blocks `children` field')\n  }\n\n  const spanType = ofType.find((member): member is SpanSchemaType => member.name === 'span')\n  if (!spanType) {\n    throw new Error('No `span` type found in `block` schema type `children` definition')\n  }\n\n  const inlineObjectTypes = ofType.filter(\n    (inlineType): inlineType is ObjectSchemaType =>\n      inlineType.name !== 'span' && isObjectSchemaType(inlineType),\n  )\n\n  const blockObjectTypes = blockContentType.of.filter(\n    (memberType): memberType is ObjectSchemaType =>\n      memberType.name !== blockType.name && isObjectSchemaType(memberType),\n  )\n\n  return {\n    styles: resolveEnabledStyles(blockType),\n    decorators: resolveEnabledDecorators(spanType),\n    annotations: resolveEnabledAnnotationTypes(spanType),\n    lists: resolveEnabledListItems(blockType),\n    types: {\n      block: blockContentType,\n      span: spanType,\n      inlineObjects: inlineObjectTypes,\n      blockObjects: blockObjectTypes,\n    },\n  }\n}\n\nfunction resolveEnabledStyles(blockType: BlockSchemaType): TitledListValue<string>[] {\n  const styleField = blockType.fields.find(isBlockStyleObjectField)\n  if (!styleField) {\n    throw new Error(\"A field with name 'style' is not defined in the block type (required).\")\n  }\n\n  const textStyles = getTitledListValuesFromEnumListOptions(styleField.type.options)\n  if (textStyles.length === 0) {\n    throw new Error(\n      'The style fields need at least one style ' +\n        \"defined. I.e: {title: 'Normal', value: 'normal'}.\",\n    )\n  }\n\n  return textStyles\n}\n\nfunction resolveEnabledAnnotationTypes(spanType: SpanSchemaType): ResolvedAnnotationType[] {\n  return spanType.annotations.map((annotation) => ({\n    title: annotation.title,\n    type: annotation,\n    value: annotation.name,\n    icon: annotation.icon,\n  }))\n}\n\nfunction resolveEnabledDecorators(spanType: SpanSchemaType): TitledListValue<string>[] {\n  return spanType.decorators\n}\n\nfunction resolveEnabledListItems(blockType: BlockSchemaType): I18nTitledListValue<string>[] {\n  const listField = blockType.fields.find(isBlockListObjectField)\n  if (!listField) {\n    throw new Error(\"A field with name 'list' is not defined in the block type (required).\")\n  }\n\n  const listItems = getTitledListValuesFromEnumListOptions(listField.type.options)\n  if (!listItems) {\n    throw new Error('The list field need at least to be an empty array')\n  }\n\n  return listItems\n}\n\nfunction getTitledListValuesFromEnumListOptions(\n  options: EnumListProps<string> | undefined,\n): I18nTitledListValue<string>[] {\n  const list = options ? options.list : undefined\n  if (!Array.isArray(list)) {\n    return []\n  }\n\n  return list.map((item) => (isTitledListValue(item) ? item : {title: item, value: item}))\n}\n","// We need this here if run server side\nexport const _XPathResult = {\n  ANY_TYPE: 0,\n  NUMBER_TYPE: 1,\n  STRING_TYPE: 2,\n  BOOLEAN_TYPE: 3,\n  UNORDERED_NODE_ITERATOR_TYPE: 4,\n  ORDERED_NODE_ITERATOR_TYPE: 5,\n  UNORDERED_NODE_SNAPSHOT_TYPE: 6,\n  ORDERED_NODE_SNAPSHOT_TYPE: 7,\n  ANY_UNORDERED_NODE_TYPE: 8,\n  FIRST_ORDERED_NODE_TYPE: 9,\n}\n","import {type HtmlPreprocessorOptions} from '../../types'\nimport {normalizeWhitespace, removeAllWhitespace, tagName} from '../helpers'\nimport {_XPathResult} from './xpathResult'\n\nexport default (html: string, doc: Document, options: HtmlPreprocessorOptions): Document => {\n  const whitespaceOnPasteMode = options?.unstable_whitespaceOnPasteMode || 'preserve'\n  let gDocsRootOrSiblingNode = doc\n    .evaluate(\n      '//*[@id and contains(@id, \"docs-internal-guid\")]',\n      doc,\n      null,\n      _XPathResult.ORDERED_NODE_ITERATOR_TYPE,\n      null,\n    )\n    .iterateNext()\n\n  if (gDocsRootOrSiblingNode) {\n    const isWrappedRootTag = tagName(gDocsRootOrSiblingNode) === 'b'\n\n    // If this document isn't wrapped in a 'b' tag, then assume all siblings live on the root level\n    if (!isWrappedRootTag) {\n      gDocsRootOrSiblingNode = doc.body\n    }\n\n    switch (whitespaceOnPasteMode) {\n      case 'normalize':\n        // Keep only 1 empty block between content nodes\n        normalizeWhitespace(gDocsRootOrSiblingNode)\n        break\n      case 'remove':\n        // Remove all whitespace nodes\n        removeAllWhitespace(gDocsRootOrSiblingNode)\n        break\n      default:\n        break\n    }\n\n    // Tag every child with attribute 'is-google-docs' so that the GDocs rule-set can\n    // work exclusivly on these children\n    const childNodes = doc.evaluate(\n      '//*',\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null,\n    )\n\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i) as HTMLElement\n      elm?.setAttribute('data-is-google-docs', 'true')\n\n      if (\n        elm?.parentElement === gDocsRootOrSiblingNode ||\n        (!isWrappedRootTag && elm.parentElement === doc.body)\n      ) {\n        elm?.setAttribute('data-is-root-node', 'true')\n        tagName(elm)\n      }\n\n      // Handle checkmark lists - The first child of a list item is an image with a checkmark, and the serializer\n      // expects the first child to be the text node\n      if (tagName(elm) === 'li' && elm.firstChild && tagName(elm?.firstChild) === 'img') {\n        elm.removeChild(elm.firstChild)\n      }\n    }\n\n    // Remove that 'b' which Google Docs wraps the HTML content in\n    if (isWrappedRootTag) {\n      doc.body.firstElementChild?.replaceWith(...Array.from(gDocsRootOrSiblingNode.childNodes))\n    }\n\n    return doc\n  }\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\n// Remove this cruft from the document\nconst unwantedWordDocumentPaths = [\n  '/html/text()',\n  '/html/head/text()',\n  '/html/body/text()',\n  '/html/body/ul/text()',\n  '/html/body/ol/text()',\n  '//comment()',\n  '//style',\n  '//xml',\n  '//script',\n  '//meta',\n  '//link',\n]\n\nexport default (html: string, doc: Document): Document => {\n  // Make sure text directly on the body is wrapped in spans.\n  // This mimics what the browser does before putting html on the clipboard,\n  // when used in a script context with JSDOM\n  const bodyTextNodes = doc.evaluate(\n    '/html/body/text()',\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n\n  for (let i = bodyTextNodes.snapshotLength - 1; i >= 0; i--) {\n    const node = bodyTextNodes.snapshotItem(i) as HTMLElement\n    const text = node.textContent || ''\n    if (text.replace(/[^\\S\\n]+$/g, '')) {\n      const newNode = doc.createElement('span')\n      newNode.appendChild(doc.createTextNode(text))\n      node.parentNode?.replaceChild(newNode, node)\n    } else {\n      node.parentNode?.removeChild(node)\n    }\n  }\n\n  const unwantedNodes = doc.evaluate(\n    unwantedWordDocumentPaths.join('|'),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i)\n    if (!unwanted) {\n      continue\n    }\n    unwanted.parentNode?.removeChild(unwanted)\n  }\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\nexport default (html: string, doc: Document): Document => {\n  const NOTION_REGEX = /<!-- notionvc:.*?-->/g\n\n  if (html.match(NOTION_REGEX)) {\n    // Tag every child with attribute 'is-notion' so that the Notion rule-set can\n    // work exclusivly on these children\n    const childNodes = doc.evaluate(\n      '//*',\n      doc,\n      null,\n      _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n      null,\n    )\n\n    for (let i = childNodes.snapshotLength - 1; i >= 0; i--) {\n      const elm = childNodes.snapshotItem(i) as HTMLElement\n      elm?.setAttribute('data-is-notion', 'true')\n    }\n\n    return doc\n  }\n  return doc\n}\n","import {PRESERVE_WHITESPACE_TAGS} from '../../constants'\nimport {_XPathResult} from './xpathResult'\n\nexport default (_: string, doc: Document): Document => {\n  // Recursively process all nodes.\n  function processNode(node: Node) {\n    // If this is a text node and not inside a tag where whitespace should be preserved, process it.\n    if (\n      node.nodeType === _XPathResult.BOOLEAN_TYPE &&\n      !PRESERVE_WHITESPACE_TAGS.includes(node.parentElement?.tagName.toLowerCase() || '')\n    ) {\n      node.textContent =\n        node.textContent\n          ?.replace(/\\s\\s+/g, ' ') // Remove multiple whitespace\n          .replace(/[\\r\\n]+/g, ' ') || '' // Replace newlines with spaces\n    }\n    // Otherwise, if this node has children, process them.\n    else {\n      for (let i = 0; i < node.childNodes.length; i++) {\n        processNode(node.childNodes[i])\n      }\n    }\n  }\n\n  // Process all nodes starting from the root.\n  processNode(doc.body)\n\n  return doc\n}\n","import {_XPathResult} from './xpathResult'\n\nconst WORD_HTML_REGEX = /(class=\"?Mso|style=(?:\"|')[^\"]*?\\bmso-|w:WordDocument|<o:\\w+>|<\\/font>)/\n\n// xPaths for elements that will be removed from the document\nconst unwantedPaths = [\n  '//o:p',\n  \"//span[@style='mso-list:Ignore']\",\n  \"//span[@style='mso-list: Ignore']\",\n]\n\n// xPaths for elements that needs to be remapped into other tags\nconst mappedPaths = [\n  \"//p[@class='MsoTocHeading']\",\n  \"//p[@class='MsoTitle']\",\n  \"//p[@class='MsoToaHeading']\",\n  \"//p[@class='MsoSubtitle']\",\n  \"//span[@class='MsoSubtleEmphasis']\",\n  \"//span[@class='MsoIntenseEmphasis']\",\n]\n\n// Which HTML element(s) to map the elements matching mappedPaths into\nconst elementMap: Record<string, string[] | undefined> = {\n  MsoTocHeading: ['h3'],\n  MsoTitle: ['h1'],\n  MsoToaHeading: ['h2'],\n  MsoSubtitle: ['h5'],\n  MsoSubtleEmphasis: ['span', 'em'],\n  MsoIntenseEmphasis: ['span', 'em', 'strong'],\n  // Remove cruft\n}\n\nfunction isWordHtml(html: string) {\n  return WORD_HTML_REGEX.test(html)\n}\n\nexport default (html: string, doc: Document): Document => {\n  if (!isWordHtml(html)) {\n    return doc\n  }\n\n  const unwantedNodes = doc.evaluate(\n    unwantedPaths.join('|'),\n    doc,\n    (prefix) => {\n      if (prefix === 'o') {\n        return 'urn:schemas-microsoft-com:office:office'\n      }\n      return null\n    },\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n\n  for (let i = unwantedNodes.snapshotLength - 1; i >= 0; i--) {\n    const unwanted = unwantedNodes.snapshotItem(i)\n    if (unwanted?.parentNode) {\n      unwanted.parentNode.removeChild(unwanted)\n    }\n  }\n\n  // Transform mapped elements into what they should be mapped to\n  const mappedElements = doc.evaluate(\n    mappedPaths.join('|'),\n    doc,\n    null,\n    _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null,\n  )\n  for (let i = mappedElements.snapshotLength - 1; i >= 0; i--) {\n    const mappedElm = mappedElements.snapshotItem(i) as HTMLElement\n    const tags = elementMap[mappedElm.className]\n    const text = doc.createTextNode(mappedElm.textContent || '')\n    if (!tags) {\n      continue\n    }\n\n    const parentElement = doc.createElement(tags[0])\n    let parent = parentElement\n    let child = parentElement\n    tags.slice(1).forEach((tag) => {\n      child = doc.createElement(tag)\n      parent.appendChild(child)\n      parent = child\n    })\n    child.appendChild(text)\n    mappedElm?.parentNode?.replaceChild(parentElement, mappedElm)\n  }\n\n  return doc\n}\n","import preprocessGDocs from './gdocs'\nimport preprocessHTML from './html'\nimport preprocessNotion from './notion'\nimport preprocessWhitespace from './whitespace'\nimport preprocessWord from './word'\n\nexport default [\n  preprocessWhitespace,\n  preprocessNotion,\n  preprocessWord,\n  preprocessGDocs,\n  preprocessHTML,\n]\n","import {\n  type ArraySchemaType,\n  isPortableTextTextBlock,\n  type PortableTextTextBlock,\n} from '@sanity/types'\nimport {vercelStegaClean} from '@vercel/stega'\nimport {isEqual} from 'lodash'\n\nimport {DEFAULT_BLOCK} from '../constants'\nimport {\n  type BlockEnabledFeatures,\n  type HtmlParser,\n  type HtmlPreprocessorOptions,\n  type MinimalBlock,\n  type MinimalSpan,\n  type PlaceholderAnnotation,\n  type PlaceholderDecorator,\n  type TypedObject,\n} from '../types'\nimport blockContentTypeFeatures from '../util/blockContentTypeFeatures'\nimport {resolveJsType} from '../util/resolveJsType'\nimport preprocessors from './preprocessors'\n\n/**\n * A utility function to create the options needed for the various rule sets,\n * based on the structure of the blockContentType\n *\n * @param blockContentType - Schema type for array containing _at least_ a block child type\n * @returns\n */\nexport function createRuleOptions(blockContentType: ArraySchemaType): BlockEnabledFeatures {\n  const features = blockContentTypeFeatures(blockContentType)\n  const enabledBlockStyles = features.styles.map((item) => item.value || item.title)\n  const enabledSpanDecorators = features.decorators.map((item) => item.value || item.title)\n  const enabledBlockAnnotations = features.annotations.map((item) => item.value || item.title || '')\n  const enabledListTypes = features.lists.map((item) => item.value || item.title || '')\n  return {\n    enabledBlockStyles,\n    enabledSpanDecorators,\n    enabledBlockAnnotations,\n    enabledListTypes,\n  }\n}\n\n/**\n * Utility function that always return a lowerCase version of the element.tagName\n *\n * @param el - Element to get tag name for\n * @returns Lowercase tagName for that element, or undefined if not an element\n */\nexport function tagName(el: HTMLElement | Node | null): string | undefined {\n  if (el && 'tagName' in el) {\n    return el.tagName.toLowerCase()\n  }\n\n  return undefined\n}\n\n// TODO: make this plugin-style\nexport function preprocess(\n  html: string,\n  parseHtml: HtmlParser,\n  options: HtmlPreprocessorOptions,\n): Document {\n  const cleanHTML = vercelStegaClean(html)\n  const doc = parseHtml(normalizeHtmlBeforePreprocess(cleanHTML))\n  preprocessors.forEach((processor) => {\n    processor(cleanHTML, doc, options)\n  })\n  return doc\n}\n\nfunction normalizeHtmlBeforePreprocess(html: string): string {\n  return html.trim()\n}\n\n/**\n * A default `parseHtml` function that returns the html using `DOMParser`.\n *\n * @returns HTML Parser based on `DOMParser`\n */\nexport function defaultParseHtml(): HtmlParser {\n  if (resolveJsType(DOMParser) === 'undefined') {\n    throw new Error(\n      'The native `DOMParser` global which the `Html` deserializer uses by ' +\n        'default is not present in this environment. ' +\n        'You must supply the `options.parseHtml` function instead.',\n    )\n  }\n  return (html) => {\n    return new DOMParser().parseFromString(html, 'text/html')\n  }\n}\n\nexport function flattenNestedBlocks(blocks: TypedObject[]): TypedObject[] {\n  let depth = 0\n  const flattened: TypedObject[] = []\n  const traverse = (nodes: TypedObject[]) => {\n    const toRemove: TypedObject[] = []\n    nodes.forEach((node) => {\n      if (depth === 0) {\n        flattened.push(node)\n      }\n      if (isPortableTextTextBlock(node)) {\n        if (depth > 0) {\n          toRemove.push(node)\n          flattened.push(node)\n        }\n        depth++\n        traverse(node.children)\n      }\n      if (node._type === '__block') {\n        toRemove.push(node)\n        flattened.push((node as any).block)\n      }\n    })\n    toRemove.forEach((node) => {\n      nodes.splice(nodes.indexOf(node), 1)\n    })\n    depth--\n  }\n  traverse(blocks)\n  return flattened\n}\n\nfunction nextSpan(block: PortableTextTextBlock, index: number) {\n  const next = block.children[index + 1]\n  return next && next._type === 'span' ? next : null\n}\n\nfunction prevSpan(block: PortableTextTextBlock, index: number) {\n  const prev = block.children[index - 1]\n  return prev && prev._type === 'span' ? prev : null\n}\n\nfunction isWhiteSpaceChar(text: string) {\n  return ['\\xa0', ' '].includes(text)\n}\n\n/**\n * NOTE: _mutates_ passed blocks!\n *\n * @param blocks - Array of blocks to trim whitespace for\n * @returns\n */\nexport function trimWhitespace(blocks: TypedObject[]): TypedObject[] {\n  blocks.forEach((block) => {\n    if (!isPortableTextTextBlock(block)) {\n      return\n    }\n\n    // eslint-disable-next-line complexity\n    block.children.forEach((child, index) => {\n      if (!isMinimalSpan(child)) {\n        return\n      }\n      const nextChild = nextSpan(block, index)\n      const prevChild = prevSpan(block, index)\n      if (index === 0) {\n        child.text = child.text.replace(/^[^\\S\\n]+/g, '')\n      }\n      if (index === block.children.length - 1) {\n        child.text = child.text.replace(/[^\\S\\n]+$/g, '')\n      }\n      if (\n        /\\s/.test(child.text.slice(Math.max(0, child.text.length - 1))) &&\n        nextChild &&\n        isMinimalSpan(nextChild) &&\n        /\\s/.test(nextChild.text.slice(0, 1))\n      ) {\n        child.text = child.text.replace(/[^\\S\\n]+$/g, '')\n      }\n      if (\n        /\\s/.test(child.text.slice(0, 1)) &&\n        prevChild &&\n        isMinimalSpan(prevChild) &&\n        /\\s/.test(prevChild.text.slice(Math.max(0, prevChild.text.length - 1)))\n      ) {\n        child.text = child.text.replace(/^[^\\S\\n]+/g, '')\n      }\n      if (!child.text) {\n        block.children.splice(index, 1)\n      }\n      if (prevChild && isEqual(prevChild.marks, child.marks) && isWhiteSpaceChar(child.text)) {\n        prevChild.text += ' '\n        block.children.splice(index, 1)\n      } else if (\n        nextChild &&\n        isEqual(nextChild.marks, child.marks) &&\n        isWhiteSpaceChar(child.text)\n      ) {\n        nextChild.text = ` ${nextChild.text}`\n        block.children.splice(index, 1)\n      }\n    })\n  })\n\n  return blocks\n}\n\nexport function ensureRootIsBlocks(blocks: TypedObject[]): TypedObject[] {\n  return blocks.reduce((memo, node, i, original) => {\n    if (node._type === 'block') {\n      memo.push(node)\n      return memo\n    }\n\n    if (node._type === '__block') {\n      memo.push((node as any).block)\n      return memo\n    }\n\n    const lastBlock = memo[memo.length - 1]\n    if (\n      i > 0 &&\n      !isPortableTextTextBlock(original[i - 1]) &&\n      isPortableTextTextBlock<TypedObject>(lastBlock)\n    ) {\n      lastBlock.children.push(node)\n      return memo\n    }\n\n    const block = {\n      ...DEFAULT_BLOCK,\n      children: [node],\n    }\n\n    memo.push(block)\n    return memo\n  }, [] as TypedObject[])\n}\n\nexport function isNodeList(node: unknown): node is NodeList {\n  return Object.prototype.toString.call(node) == '[object NodeList]'\n}\n\nexport function isMinimalSpan(node: TypedObject): node is MinimalSpan {\n  return node._type === 'span'\n}\n\nexport function isMinimalBlock(node: TypedObject): node is MinimalBlock {\n  return node._type === 'block'\n}\n\nexport function isPlaceholderDecorator(node: TypedObject): node is PlaceholderDecorator {\n  return node._type === '__decorator'\n}\n\nexport function isPlaceholderAnnotation(node: TypedObject): node is PlaceholderAnnotation {\n  return node._type === '__annotation'\n}\n\nexport function isElement(node: Node): node is Element {\n  return node.nodeType === 1\n}\n\n/**\n * Helper to normalize whitespace to only 1 empty block between content nodes\n * @param node - Root node to process\n */\nexport function normalizeWhitespace(rootNode: Node) {\n  let emptyBlockCount = 0\n  let lastParent = null\n  const nodesToRemove: Node[] = []\n\n  for (let child = rootNode.firstChild; child; child = child.nextSibling) {\n    if (!isElement(child)) {\n      normalizeWhitespace(child)\n      emptyBlockCount = 0\n      continue\n    }\n\n    const elm = child as HTMLElement\n\n    if (isWhitespaceBlock(elm)) {\n      if (lastParent && elm.parentElement === lastParent) {\n        emptyBlockCount++\n        if (emptyBlockCount > 1) {\n          nodesToRemove.push(elm)\n        }\n      } else {\n        // Different parent, reset counter\n        emptyBlockCount = 1\n      }\n\n      lastParent = elm.parentElement\n    } else {\n      // Recurse into child nodes\n      normalizeWhitespace(child)\n      // Reset counter for siblings\n      emptyBlockCount = 0\n    }\n  }\n\n  // Remove marked nodes\n  nodesToRemove.forEach((node) => node.parentElement?.removeChild(node))\n}\n\n/**\n * Helper to remove all whitespace nodes\n * @param node - Root node to process\n */\nexport function removeAllWhitespace(rootNode: Node) {\n  const nodesToRemove: Node[] = []\n\n  function collectNodesToRemove(currentNode: Node) {\n    if (isElement(currentNode)) {\n      const elm = currentNode as HTMLElement\n\n      // Handle <br> tags that is between <p> tags\n      if (\n        tagName(elm) === 'br' &&\n        (tagName(elm.nextElementSibling) === 'p' || tagName(elm.previousElementSibling) === 'p')\n      ) {\n        nodesToRemove.push(elm)\n\n        return\n      }\n\n      // Handle empty blocks\n      if (\n        (tagName(elm) === 'p' || tagName(elm) === 'br') &&\n        elm?.firstChild?.textContent?.trim() === ''\n      ) {\n        nodesToRemove.push(elm)\n\n        return\n      }\n\n      // Recursively process child nodes\n      for (let child = elm.firstChild; child; child = child.nextSibling) {\n        collectNodesToRemove(child)\n      }\n    }\n  }\n\n  collectNodesToRemove(rootNode)\n\n  // Remove the collected nodes\n  nodesToRemove.forEach((node) => node.parentElement?.removeChild(node))\n}\n\nfunction isWhitespaceBlock(elm: HTMLElement): boolean {\n  return ['p', 'br'].includes(tagName(elm) || '') && !elm.textContent?.trim()\n}\n","import {type ArraySchemaType} from '@sanity/types'\n\nimport {\n  BLOCK_DEFAULT_STYLE,\n  DEFAULT_BLOCK,\n  DEFAULT_SPAN,\n  HTML_BLOCK_TAGS,\n  HTML_HEADER_TAGS,\n  HTML_LIST_CONTAINER_TAGS,\n} from '../../constants'\nimport {type BlockEnabledFeatures, type DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\nconst LIST_CONTAINER_TAGS = Object.keys(HTML_LIST_CONTAINER_TAGS)\n\n// font-style:italic seems like the most important rule for italic / emphasis in their html\nfunction isEmphasis(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-style\\s*:\\s*italic/.test(style || '')\n}\n\n// font-weight:700 seems like the most important rule for bold in their html\nfunction isStrong(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-weight\\s*:\\s*700/.test(style || '')\n}\n\n// text-decoration seems like the most important rule for underline in their html\nfunction isUnderline(el: Node): boolean {\n  if (!isElement(el) || tagName(el.parentNode) === 'a') {\n    return false\n  }\n\n  const style = isElement(el) && el.getAttribute('style')\n\n  return /text-decoration\\s*:\\s*underline/.test(style || '')\n}\n\n// text-decoration seems like the most important rule for strike-through in their html\n// allows for line-through regex to be more lineient to allow for other text-decoration before or after\nfunction isStrikethrough(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /text-decoration\\s*:\\s*(?:.*line-through.*;)/.test(style || '')\n}\n\n// Check for attribute given by the gdocs preprocessor\nfunction isGoogleDocs(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-google-docs'))\n}\n\nfunction isRootNode(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-root-node'))\n}\n\nfunction getListItemStyle(el: Node): 'bullet' | 'number' | undefined {\n  const parentTag = tagName(el.parentNode)\n  if (parentTag && !LIST_CONTAINER_TAGS.includes(parentTag)) {\n    return undefined\n  }\n  return tagName(el.parentNode) === 'ul' ? 'bullet' : 'number'\n}\n\nfunction getListItemLevel(el: Node): number {\n  let level = 0\n  if (tagName(el) === 'li') {\n    let parentNode = el.parentNode\n    while (parentNode) {\n      const parentTag = tagName(parentNode)\n      if (parentTag && LIST_CONTAINER_TAGS.includes(parentTag)) {\n        level++\n      }\n      parentNode = parentNode.parentNode\n    }\n  } else {\n    level = 1\n  }\n  return level\n}\n\nconst blocks: Record<string, {style: string} | undefined> = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_HEADER_TAGS,\n}\n\nfunction getBlockStyle(el: Node, enabledBlockStyles: string[]): string {\n  const childTag = tagName(el.firstChild)\n  const block = childTag && blocks[childTag]\n  if (!block) {\n    return BLOCK_DEFAULT_STYLE\n  }\n  if (!enabledBlockStyles.includes(block.style)) {\n    return BLOCK_DEFAULT_STYLE\n  }\n  return block.style\n}\n\nexport default function createGDocsRules(\n  _blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures,\n): DeserializerRule[] {\n  return [\n    {\n      deserialize(el) {\n        if (isElement(el) && tagName(el) === 'span' && isGoogleDocs(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [] as string[],\n            text: el.textContent,\n          }\n          if (isStrong(el)) {\n            span.marks.push('strong')\n          }\n          if (isUnderline(el)) {\n            span.marks.push('underline')\n          }\n          if (isStrikethrough(el)) {\n            span.marks.push('strike-through')\n          }\n          if (isEmphasis(el)) {\n            span.marks.push('em')\n          }\n          return span\n        }\n        return undefined\n      },\n    },\n    {\n      deserialize(el, next) {\n        if (tagName(el) === 'li' && isGoogleDocs(el)) {\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle(el),\n            level: getListItemLevel(el),\n            style: getBlockStyle(el, options.enabledBlockStyles),\n            children: next(el.firstChild?.childNodes || []),\n          }\n        }\n        return undefined\n      },\n    },\n    {\n      deserialize(el) {\n        if (\n          tagName(el) === 'br' &&\n          isGoogleDocs(el) &&\n          isElement(el) &&\n          el.classList.contains('apple-interchange-newline')\n        ) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n\n        // BRs inside empty paragraphs\n        if (\n          tagName(el) === 'br' &&\n          isGoogleDocs(el) &&\n          isElement(el) &&\n          el?.parentNode?.textContent === ''\n        ) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n\n        // BRs on the root\n        if (tagName(el) === 'br' && isGoogleDocs(el) && isElement(el) && isRootNode(el)) {\n          return {\n            ...DEFAULT_SPAN,\n            text: '',\n          }\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import getRandomValues from 'get-random-values-esm'\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nconst byteToHex: string[] = []\nfor (let i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).slice(1)\n}\n\n/**\n * Generate a random key of the given length\n *\n * @param length - Length of string to generate\n * @returns A string of the given length\n * @public\n */\nexport function randomKey(length: number): string {\n  return whatwgRNG(length)\n    .reduce((str, n) => str + byteToHex[n], '')\n    .slice(0, length)\n}\n","import {type ArraySchemaType} from '@sanity/types'\n\nimport {\n  DEFAULT_BLOCK,\n  DEFAULT_SPAN,\n  HTML_BLOCK_TAGS,\n  HTML_DECORATOR_TAGS,\n  HTML_HEADER_TAGS,\n  HTML_LIST_CONTAINER_TAGS,\n  HTML_LIST_ITEM_TAGS,\n  HTML_SPAN_TAGS,\n  type PartialBlock,\n} from '../../constants'\nimport {type BlockEnabledFeatures, type DeserializerRule} from '../../types'\nimport {randomKey} from '../../util/randomKey'\nimport {isElement, tagName} from '../helpers'\n\nexport function resolveListItem(\n  listNodeTagName: string,\n  enabledListTypes: string[],\n): string | undefined {\n  if (listNodeTagName === 'ul' && enabledListTypes.includes('bullet')) {\n    return 'bullet'\n  }\n  if (listNodeTagName === 'ol' && enabledListTypes.includes('number')) {\n    return 'number'\n  }\n  return undefined\n}\n\nexport default function createHTMLRules(\n  blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures,\n): DeserializerRule[] {\n  return [\n    // Text nodes\n    {\n      deserialize(el) {\n        if (tagName(el) === 'pre') {\n          return undefined\n        }\n        const isValidWhiteSpace =\n          el.nodeType === 3 &&\n          (el.textContent || '').replace(/[\\r\\n]/g, ' ').replace(/\\s\\s+/g, ' ') === ' ' &&\n          el.nextSibling &&\n          el.nextSibling.nodeType !== 3 &&\n          el.previousSibling &&\n          el.previousSibling.nodeType !== 3\n        const isValidText =\n          (isValidWhiteSpace || el.textContent !== ' ') && tagName(el.parentNode) !== 'body'\n        if (el.nodeName === '#text' && isValidText) {\n          return {\n            ...DEFAULT_SPAN,\n            marks: [],\n            text: (el.textContent || '').replace(/\\s\\s+/g, ' '),\n          }\n        }\n        return undefined\n      },\n    }, // Pre element\n    {\n      deserialize(el) {\n        if (tagName(el) !== 'pre') {\n          return undefined\n        }\n\n        const isCodeEnabled = options.enabledBlockStyles.includes('code')\n\n        return {\n          _type: 'block',\n          style: 'normal',\n          markDefs: [],\n          children: [\n            {\n              ...DEFAULT_SPAN,\n              marks: isCodeEnabled ? ['code'] : [],\n              text: el.textContent || '',\n            },\n          ],\n        }\n      },\n    }, // Blockquote element\n    {\n      deserialize(el, next) {\n        if (tagName(el) !== 'blockquote') {\n          return undefined\n        }\n        const blocks: Record<string, PartialBlock | undefined> = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS,\n        }\n        delete blocks.blockquote\n\n        const children: HTMLElement[] = []\n        el.childNodes.forEach((node, index) => {\n          if (\n            node.nodeType === 1 &&\n            Object.keys(blocks).includes((node as Element).localName.toLowerCase())\n          ) {\n            if (!el.ownerDocument) {\n              return\n            }\n\n            const span = el.ownerDocument.createElement('span')\n            span.appendChild(el.ownerDocument.createTextNode('\\r'))\n            node.childNodes.forEach((cn) => {\n              span.appendChild(cn.cloneNode(true))\n            })\n            if (index !== el.childNodes.length) {\n              span.appendChild(el.ownerDocument.createTextNode('\\r'))\n            }\n            children.push(span)\n          } else {\n            children.push(node as HTMLElement)\n          }\n        })\n\n        return {\n          _type: 'block',\n          style: 'blockquote',\n          markDefs: [],\n          children: next(children),\n        }\n      },\n    }, // Block elements\n    {\n      deserialize(el, next) {\n        const blocks: Record<string, PartialBlock | undefined> = {\n          ...HTML_BLOCK_TAGS,\n          ...HTML_HEADER_TAGS,\n        }\n        const tag = tagName(el)\n        let block = tag ? blocks[tag] : undefined\n        if (!block) {\n          return undefined\n        }\n        // Don't add blocks into list items\n        if (el.parentNode && tagName(el.parentNode) === 'li') {\n          return next(el.childNodes)\n        }\n        // If style is not supported, return a defaultBlockType\n        if (!options.enabledBlockStyles.includes(block.style)) {\n          block = DEFAULT_BLOCK\n        }\n        return {\n          ...block,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Ignore span tags\n    {\n      deserialize(el, next) {\n        const tag = tagName(el)\n        if (!tag || !(tag in HTML_SPAN_TAGS)) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Ignore div tags\n    {\n      deserialize(el, next) {\n        const div = tagName(el) === 'div'\n        if (!div) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Ignore list containers\n    {\n      deserialize(el, next) {\n        const tag = tagName(el)\n        if (!tag || !(tag in HTML_LIST_CONTAINER_TAGS)) {\n          return undefined\n        }\n        return next(el.childNodes)\n      },\n    }, // Deal with br's\n    {\n      deserialize(el) {\n        if (tagName(el) === 'br') {\n          return {\n            ...DEFAULT_SPAN,\n            text: '\\n',\n          }\n        }\n        return undefined\n      },\n    }, // Deal with list items\n    {\n      deserialize(el, next, block) {\n        const tag = tagName(el)\n        const listItem = tag ? HTML_LIST_ITEM_TAGS[tag] : undefined\n        const parentTag = tagName(el.parentNode) || ''\n        if (!listItem || !el.parentNode || !HTML_LIST_CONTAINER_TAGS[parentTag]) {\n          return undefined\n        }\n        const enabledListItem = resolveListItem(parentTag, options.enabledListTypes)\n        // If the list item style is not supported, return a new default block\n        if (!enabledListItem) {\n          return block({_type: 'block', children: next(el.childNodes)})\n        }\n        listItem.listItem = enabledListItem\n        return {\n          ...listItem,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Deal with decorators - this is a limited set of known html elements that we know how to deserialize\n    {\n      deserialize(el, next) {\n        const decorator = HTML_DECORATOR_TAGS[tagName(el) || '']\n        if (!decorator || !options.enabledSpanDecorators.includes(decorator)) {\n          return undefined\n        }\n        return {\n          _type: '__decorator',\n          name: decorator,\n          children: next(el.childNodes),\n        }\n      },\n    }, // Special case for hyperlinks, add annotation (if allowed by schema),\n    // If not supported just write out the link text and href in plain text.\n    {\n      deserialize(el, next) {\n        if (tagName(el) != 'a') {\n          return undefined\n        }\n        const linkEnabled = options.enabledBlockAnnotations.includes('link')\n        const href = isElement(el) && el.getAttribute('href')\n        if (!href) {\n          return next(el.childNodes)\n        }\n        let markDef\n        if (linkEnabled) {\n          markDef = {\n            _key: randomKey(12),\n            _type: 'link',\n            href: href,\n          }\n          return {\n            _type: '__annotation',\n            markDef: markDef,\n            children: next(el.childNodes),\n          }\n        }\n        return el.appendChild(el.ownerDocument.createTextNode(` (${href})`)) && next(el.childNodes)\n      },\n    },\n  ]\n}\n","import {type ArraySchemaType} from '@sanity/types'\n\nimport {DEFAULT_SPAN, HTML_BLOCK_TAGS, HTML_HEADER_TAGS} from '../../constants'\nimport {type DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\n// font-style:italic seems like the most important rule for italic / emphasis in their html\nfunction isEmphasis(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-style:italic/.test(style || '')\n}\n\n// font-weight:700 or 600 seems like the most important rule for bold in their html\nfunction isStrong(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /font-weight:700/.test(style || '') || /font-weight:600/.test(style || '')\n}\n\n// text-decoration seems like the most important rule for underline in their html\nfunction isUnderline(el: Node): boolean {\n  const style = isElement(el) && el.getAttribute('style')\n  return /text-decoration:underline/.test(style || '')\n}\n\n// Check for attribute given by the Notion preprocessor\nfunction isNotion(el: Node): boolean {\n  return isElement(el) && Boolean(el.getAttribute('data-is-notion'))\n}\n\nconst blocks: Record<string, {style: string} | undefined> = {\n  ...HTML_BLOCK_TAGS,\n  ...HTML_HEADER_TAGS,\n}\n\nexport default function createNotionRules(_blockContentType: ArraySchemaType): DeserializerRule[] {\n  return [\n    {\n      deserialize(el) {\n        // Notion normally exports semantic HTML. However, if you copy a single block, the formatting will be inline styles\n        // This handles a limited set of styles\n        if (isElement(el) && tagName(el) === 'span' && isNotion(el)) {\n          const span = {\n            ...DEFAULT_SPAN,\n            marks: [] as string[],\n            text: el.textContent,\n          }\n          if (isStrong(el)) {\n            span.marks.push('strong')\n          }\n          if (isUnderline(el)) {\n            span.marks.push('underline')\n          }\n          if (isEmphasis(el)) {\n            span.marks.push('em')\n          }\n          return span\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import {BLOCK_DEFAULT_STYLE, DEFAULT_BLOCK} from '../../constants'\nimport {type DeserializerRule} from '../../types'\nimport {isElement, tagName} from '../helpers'\n\nfunction getListItemStyle(el: Node): string | undefined {\n  const style = isElement(el) && el.getAttribute('style')\n  if (!style) {\n    return undefined\n  }\n\n  if (!style.match(/lfo\\d+/)) {\n    return undefined\n  }\n\n  return style.match('lfo1') ? 'bullet' : 'number'\n}\n\nfunction getListItemLevel(el: Node): number | undefined {\n  const style = isElement(el) && el.getAttribute('style')\n  if (!style) {\n    return undefined\n  }\n\n  const levelMatch = style.match(/level\\d+/)\n  if (!levelMatch) {\n    return undefined\n  }\n\n  const [level] = levelMatch[0].match(/\\d/) || []\n  const levelNum = level ? parseInt(level, 10) : 1\n  return levelNum || 1\n}\n\nfunction isWordListElement(el: Node): boolean {\n  return isElement(el) && el.className\n    ? el.className === 'MsoListParagraphCxSpFirst' ||\n        el.className === 'MsoListParagraphCxSpMiddle' ||\n        el.className === 'MsoListParagraphCxSpLast'\n    : false\n}\n\nexport default function createWordRules(): DeserializerRule[] {\n  return [\n    {\n      deserialize(el, next) {\n        if (tagName(el) === 'p' && isWordListElement(el)) {\n          return {\n            ...DEFAULT_BLOCK,\n            listItem: getListItemStyle(el),\n            level: getListItemLevel(el),\n            style: BLOCK_DEFAULT_STYLE,\n            children: next(el.childNodes),\n          }\n        }\n        return undefined\n      },\n    },\n  ]\n}\n","import {type ArraySchemaType} from '@sanity/types'\n\nimport {type BlockEnabledFeatures, type DeserializerRule} from '../../types'\nimport createGDocsRules from './gdocs'\nimport createHTMLRules from './html'\nimport createNotionRules from './notion'\nimport createWordRules from './word'\n\nexport function createRules(\n  blockContentType: ArraySchemaType,\n  options: BlockEnabledFeatures,\n): DeserializerRule[] {\n  return [\n    ...createWordRules(),\n    ...createNotionRules(blockContentType),\n    ...createGDocsRules(blockContentType, options),\n    ...createHTMLRules(blockContentType, options),\n  ]\n}\n","import {\n  type ArraySchemaType,\n  type PortableTextBlock,\n  type PortableTextObject,\n  type PortableTextTextBlock,\n} from '@sanity/types'\nimport {flatten} from 'lodash'\n\nimport {\n  type ArbitraryTypedObject,\n  type DeserializerRule,\n  type HtmlDeserializerOptions,\n  type PlaceholderAnnotation,\n  type PlaceholderDecorator,\n  type TypedObject,\n} from '../types'\nimport {findBlockType} from '../util/findBlockType'\nimport {resolveJsType} from '../util/resolveJsType'\nimport {\n  createRuleOptions,\n  defaultParseHtml,\n  ensureRootIsBlocks,\n  flattenNestedBlocks,\n  isMinimalBlock,\n  isMinimalSpan,\n  isNodeList,\n  isPlaceholderAnnotation,\n  isPlaceholderDecorator,\n  preprocess,\n  tagName,\n  trimWhitespace,\n} from './helpers'\nimport {createRules} from './rules'\n\n/**\n * HTML Deserializer\n *\n */\nexport default class HtmlDeserializer {\n  blockContentType: ArraySchemaType\n  rules: DeserializerRule[]\n  parseHtml: (html: string) => HTMLElement\n  _markDefs: PortableTextObject[] = []\n\n  /**\n   * Create a new serializer respecting a Sanity block content type's schema\n   *\n   * @param blockContentType - Schema type for array containing _at least_ a block child type\n   * @param options - Options for the deserialization process\n   */\n  constructor(blockContentType: ArraySchemaType, options: HtmlDeserializerOptions = {}) {\n    const {rules = [], unstable_whitespaceOnPasteMode = 'preserve'} = options\n    if (!blockContentType) {\n      throw new Error(\"Parameter 'blockContentType' is required\")\n    }\n    const standardRules = createRules(blockContentType, createRuleOptions(blockContentType))\n    this.rules = [...rules, ...standardRules]\n    const parseHtml = options.parseHtml || defaultParseHtml()\n    this.blockContentType = blockContentType\n    this.parseHtml = (html) => {\n      const doc = preprocess(html, parseHtml, {unstable_whitespaceOnPasteMode})\n      return doc.body\n    }\n  }\n\n  /**\n   * Deserialize HTML.\n   *\n   * @param html - The HTML to deserialize, as a string\n   * @returns Array of blocks - either portable text blocks or other allowed blocks\n   */\n  deserialize = (html: string): TypedObject[] => {\n    this._markDefs = []\n    const {parseHtml} = this\n    const fragment = parseHtml(html)\n    const children = Array.from(fragment.childNodes) as HTMLElement[]\n    // Ensure that there are no blocks within blocks, and trim whitespace\n    const blocks = trimWhitespace(\n      flattenNestedBlocks(ensureRootIsBlocks(this.deserializeElements(children))),\n    )\n\n    if (this._markDefs.length > 0) {\n      blocks\n        .filter((block): block is PortableTextTextBlock => block._type === 'block')\n        .forEach((block) => {\n          block.markDefs = block.markDefs || []\n          block.markDefs = block.markDefs.concat(\n            this._markDefs.filter((def) => {\n              return flatten(block.children.map((child) => child.marks || [])).includes(def._key)\n            }),\n          )\n        })\n    }\n\n    // Set back the potentially hoisted block type\n    const type = this.blockContentType.of.find(findBlockType)\n    if (!type) {\n      return blocks\n    }\n\n    return blocks.map((block) => {\n      if (block._type === 'block') {\n        block._type = type.name\n      }\n      return block\n    })\n  }\n\n  /**\n   * Deserialize an array of DOM elements.\n   *\n   * @param elements - Array of DOM elements to deserialize\n   * @returns\n   */\n  deserializeElements = (elements: Node[] = []): TypedObject[] => {\n    let nodes: TypedObject[] = []\n    elements.forEach((element) => {\n      nodes = nodes.concat(this.deserializeElement(element))\n    })\n    return nodes\n  }\n\n  /**\n   * Deserialize a DOM element\n   *\n   * @param element - Deserialize a DOM element\n   * @returns\n   */\n  deserializeElement = (element: Node): TypedObject | TypedObject[] => {\n    const next = (elements: Node | Node[] | NodeList): TypedObject | TypedObject[] | undefined => {\n      if (isNodeList(elements)) {\n        return this.deserializeElements(Array.from(elements))\n      }\n\n      if (Array.isArray(elements)) {\n        return this.deserializeElements(elements)\n      }\n\n      if (!elements) {\n        return undefined\n      }\n\n      return this.deserializeElement(elements)\n    }\n\n    const block = (props: ArbitraryTypedObject) => {\n      return {\n        _type: '__block',\n        block: props,\n      }\n    }\n\n    let node\n    for (let i = 0; i < this.rules.length; i++) {\n      const rule = this.rules[i]\n      if (!rule.deserialize) {\n        continue\n      }\n\n      const ret = rule.deserialize(element, next, block)\n      const type = resolveJsType(ret)\n\n      if (type !== 'array' && type !== 'object' && type !== 'null' && type !== 'undefined') {\n        throw new Error(`A rule returned an invalid deserialized representation: \"${node}\".`)\n      }\n\n      if (ret === undefined) {\n        continue\n      } else if (ret === null) {\n        throw new Error('Deserializer rule returned `null`')\n      } else if (Array.isArray(ret)) {\n        node = ret\n      } else if (isPlaceholderDecorator(ret)) {\n        node = this.deserializeDecorator(ret)\n      } else if (isPlaceholderAnnotation(ret)) {\n        node = this.deserializeAnnotation(ret)\n      } else {\n        node = ret\n      }\n\n      // Set list level on list item\n      if (ret && !Array.isArray(ret) && isMinimalBlock(ret) && 'listItem' in ret) {\n        let parent = element.parentNode?.parentNode\n        while (parent && tagName(parent) === 'li') {\n          parent = parent.parentNode?.parentNode\n          ret.level = ret.level ? ret.level + 1 : 1\n        }\n      }\n\n      // Set newlines on spans orginating from a block element within a blockquote\n      if (ret && !Array.isArray(ret) && isMinimalBlock(ret) && ret.style === 'blockquote') {\n        ret.children.forEach((child, index) => {\n          if (isMinimalSpan(child) && child.text === '\\r') {\n            child.text = '\\n\\n'\n            if (index === 0 || index === ret.children.length - 1) {\n              ret.children.splice(index, 1)\n            }\n          }\n        })\n      }\n      break\n    }\n\n    return node || next(element.childNodes) || []\n  }\n\n  /**\n   * Deserialize a `__decorator` type\n   * (an internal made up type to process decorators exclusively)\n   *\n   * @param decorator -\n   * @returns array of ...\n   */\n  deserializeDecorator = (decorator: PlaceholderDecorator): TypedObject[] => {\n    const {name} = decorator\n    const applyDecorator = (node: TypedObject) => {\n      if (isPlaceholderDecorator(node)) {\n        return this.deserializeDecorator(node)\n      } else if (isMinimalSpan(node)) {\n        node.marks = node.marks || []\n        if (node.text.trim()) {\n          // Only apply marks if this is an actual text\n          node.marks.unshift(name)\n        }\n      } else if ('children' in node && Array.isArray((node as PortableTextBlock).children)) {\n        const block = node as any\n        block.children = block.children.map(applyDecorator)\n      }\n      return node\n    }\n    return decorator.children.reduce((children, node) => {\n      const ret = applyDecorator(node)\n      if (Array.isArray(ret)) {\n        return children.concat(ret)\n      }\n      children.push(ret)\n      return children\n    }, [] as TypedObject[])\n  }\n\n  /**\n   * Deserialize a `__annotation` object.\n   * (an internal made up type to process annotations exclusively)\n   *\n   * @param annotation -\n   * @returns Array of...\n   */\n  deserializeAnnotation = (annotation: PlaceholderAnnotation): TypedObject[] => {\n    const {markDef} = annotation\n    this._markDefs.push(markDef)\n    const applyAnnotation = (node: TypedObject) => {\n      if (isPlaceholderAnnotation(node)) {\n        return this.deserializeAnnotation(node)\n      } else if (isMinimalSpan(node)) {\n        node.marks = node.marks || []\n        if (node.text.trim()) {\n          // Only apply marks if this is an actual text\n          node.marks.unshift(markDef._key)\n        }\n      } else if ('children' in node && Array.isArray((node as PortableTextBlock).children)) {\n        const block = node as any\n        block.children = block.children.map(applyAnnotation)\n      }\n      return node\n    }\n    return annotation.children.reduce((children, node) => {\n      const ret = applyAnnotation(node)\n      if (Array.isArray(ret)) {\n        return children.concat(ret)\n      }\n      children.push(ret)\n      return children\n    }, [] as TypedObject[])\n  }\n}\n","import {isPortableTextSpan, type PortableTextSpan, type PortableTextTextBlock} from '@sanity/types'\nimport {isEqual} from 'lodash'\n\nimport {type TypedObject} from '../types'\nimport {randomKey} from './randomKey'\n\n/**\n * Block normalization options\n *\n * @public\n */\nexport interface BlockNormalizationOptions {\n  /**\n   * Decorator names that are allowed within portable text blocks, eg `em`, `strong`\n   */\n  allowedDecorators?: string[]\n\n  /**\n   * Name of the portable text block type, if not `block`\n   */\n  blockTypeName?: string\n}\n\n/**\n * Normalizes a block by ensuring it has a `_key` property. If the block is a\n * portable text block, additional normalization is applied:\n *\n * - Ensures it has `children` and `markDefs` properties\n * - Ensures it has at least one child (adds an empty span if empty)\n * - Joins sibling spans that has the same marks\n * - Removes decorators that are not allowed according to the schema\n * - Removes marks that have no annotation definition\n *\n * @param node - The block to normalize\n * @param options - Options for normalization process. See {@link BlockNormalizationOptions}\n * @returns Normalized block\n * @public\n */\nexport function normalizeBlock(\n  node: TypedObject,\n  options: BlockNormalizationOptions = {},\n): Omit<TypedObject | PortableTextTextBlock<TypedObject | PortableTextSpan>, '_key'> & {\n  _key: string\n} {\n  if (node._type !== (options.blockTypeName || 'block')) {\n    return '_key' in node ? (node as TypedObject & {_key: string}) : {...node, _key: randomKey(12)}\n  }\n\n  const block: Omit<PortableTextTextBlock<TypedObject | PortableTextSpan>, 'style'> = {\n    _key: randomKey(12),\n    children: [],\n    markDefs: [],\n    ...node,\n  }\n\n  const lastChild = block.children[block.children.length - 1]\n  if (!lastChild) {\n    // A block must at least have an empty span type child\n    block.children = [\n      {\n        _type: 'span',\n        _key: `${block._key}${0}`,\n        text: '',\n        marks: [],\n      },\n    ]\n    return block\n  }\n\n  const usedMarkDefs: string[] = []\n  const allowedDecorators =\n    options.allowedDecorators && Array.isArray(options.allowedDecorators)\n      ? options.allowedDecorators\n      : false\n\n  block.children = block.children\n    .reduce(\n      (acc, child) => {\n        const previousChild = acc[acc.length - 1]\n        if (\n          previousChild &&\n          isPortableTextSpan(child) &&\n          isPortableTextSpan(previousChild) &&\n          isEqual(previousChild.marks, child.marks)\n        ) {\n          if (lastChild && lastChild === child && child.text === '' && block.children.length > 1) {\n            return acc\n          }\n\n          previousChild.text += child.text\n          return acc\n        }\n        acc.push(child)\n        return acc\n      },\n      [] as (TypedObject | PortableTextSpan)[],\n    )\n    .map((child, index) => {\n      if (!child) {\n        throw new Error('missing child')\n      }\n\n      child._key = `${block._key}${index}`\n      if (isPortableTextSpan(child)) {\n        if (!child.marks) {\n          child.marks = []\n        } else if (allowedDecorators) {\n          child.marks = child.marks.filter((mark) => {\n            const isAllowed = allowedDecorators.includes(mark)\n            const isUsed = block.markDefs?.some((def) => def._key === mark)\n            return isAllowed || isUsed\n          })\n        }\n\n        usedMarkDefs.push(...child.marks)\n      }\n\n      return child\n    })\n\n  // Remove leftover (unused) markDefs\n  block.markDefs = (block.markDefs || []).filter((markDef) => usedMarkDefs.includes(markDef._key))\n  return block\n}\n","import {type ArraySchemaType, type PortableTextTextBlock} from '@sanity/types'\n\nimport HtmlDeserializer from './HtmlDeserializer'\nimport {type BlockContentFeatures, type HtmlDeserializerOptions, type TypedObject} from './types'\nimport blockContentTypeFeatures from './util/blockContentTypeFeatures'\nimport {normalizeBlock} from './util/normalizeBlock'\n\n/**\n * Convert HTML to blocks respecting the block content type's schema\n *\n * @param html - The HTML to convert to blocks\n * @param blockContentType - A compiled version of the schema type for the block content\n * @param options - Options for deserializing HTML to blocks\n * @returns Array of blocks\n * @public\n */\nexport function htmlToBlocks(\n  html: string,\n  blockContentType: ArraySchemaType,\n  options: HtmlDeserializerOptions = {},\n): (TypedObject | PortableTextTextBlock)[] {\n  const deserializer = new HtmlDeserializer(blockContentType, options)\n  return deserializer.deserialize(html).map((block) => normalizeBlock(block))\n}\n\n/**\n * Normalize and extract features of an schema type containing a block type\n *\n * @param blockContentType - Schema type for the block type\n * @returns Returns the featureset of a compiled block content type.\n * @public\n */\nexport function getBlockContentFeatures(blockContentType: ArraySchemaType): BlockContentFeatures {\n  return blockContentTypeFeatures(blockContentType)\n}\n\nexport {normalizeBlock}\nexport {randomKey} from './util/randomKey'\nexport type {BlockContentFeatures, HtmlDeserializerOptions, TypedObject}\nexport type {\n  ArbitraryTypedObject,\n  BlockEditorSchemaProps,\n  DeserializerRule,\n  HtmlParser,\n  ResolvedAnnotationType,\n} from './types'\nexport type {BlockNormalizationOptions} from './util/normalizeBlock'\n"],"names":["_","blockContentTypeFeatures","vercelStegaClean","blocks","isEmphasis","isStrong","isUnderline","getListItemStyle","getListItemLevel"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}},
    {"offset": {"line": 8184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8190, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/uuid/node_modules/uuid/dist/esm-node/rng.js"],"sourcesContent":["import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW,MAAM,qCAAqC;AAE5E,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACtB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACnC,qGAAA,CAAA,UAAM,CAAC,cAAc,CAAC;QACtB,UAAU;IACZ;IAEA,OAAO,UAAU,KAAK,CAAC,SAAS,WAAW;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 8204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8210, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/uuid/node_modules/uuid/dist/esm-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":[],"mappings":";;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 8214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8220, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/uuid/node_modules/uuid/dist/esm-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,wLAAA,CAAA,UAAK,CAAC,IAAI,CAAC;AAChD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 8229, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8235, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/uuid/node_modules/uuid/dist/esm-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;"],"names":[],"mappings":";;;AAAA;;AACA;;;CAGC,GAED,MAAM,YAAY,EAAE;AAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,MAAM,CAAC;AACjD;AAEA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,uEAAuE;IACvE,oFAAoF;IACpF,MAAM,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,WAAW,IAAI,4EAA4E;IACtlB,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IAEnE,IAAI,CAAC,CAAA,GAAA,2LAAA,CAAA,UAAQ,AAAD,EAAE,OAAO;QACnB,MAAM,UAAU;IAClB;IAEA,OAAO;AACT;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 8261, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8267, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/uuid/node_modules/uuid/dist/esm-node/v4.js"],"sourcesContent":["import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,sLAAA,CAAA,UAAG,KAAK,gEAAgE;IAEvH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;IAC3B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,oCAAoC;IAErE,IAAI,KAAK;QACP,SAAS,UAAU;QAEnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YAC3B,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC3B;QAEA,OAAO;IACT;IAEA,OAAO,CAAA,GAAA,4LAAA,CAAA,UAAS,AAAD,EAAE;AACnB;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 8289, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8305, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/insert-menu/src/getSchemaTypeIcon.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/insert-menu/src/InsertMenu.tsx"],"sourcesContent":["import {type ReferenceSchemaType, type SchemaType} from '@sanity/types'\nimport {type ComponentType} from 'react'\n\n/** @internal */\nexport function getSchemaTypeIcon(schemaType: SchemaType): ComponentType | undefined {\n  // Use reference icon if reference is to one schemaType only\n  const referenceIcon =\n    isReferenceSchemaType(schemaType) && (schemaType.to ?? []).length === 1\n      ? schemaType.to[0].icon\n      : undefined\n\n  return schemaType.icon ?? schemaType.type?.icon ?? referenceIcon\n}\n\nfunction isReferenceSchemaType(type: unknown): type is ReferenceSchemaType {\n  return isRecord(type) && (type['name'] === 'reference' || isReferenceSchemaType(type['type']))\n}\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return !!value && (typeof value == 'object' || typeof value == 'function')\n}\n","import {SearchIcon, ThLargeIcon, UlistIcon} from '@sanity/icons'\nimport {type SchemaType} from '@sanity/types'\nimport {\n  Box,\n  Button,\n  Flex,\n  Grid,\n  Menu,\n  MenuItem,\n  Stack,\n  Tab,\n  TabList,\n  Text,\n  TextInput,\n  Tooltip,\n  type MenuItemProps,\n} from '@sanity/ui'\nimport {startCase} from 'lodash'\nimport {createElement, useReducer, useState, type ChangeEvent, type CSSProperties} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {getSchemaTypeIcon} from './getSchemaTypeIcon'\nimport type {InsertMenuOptions} from './InsertMenuOptions'\n\ntype InsertMenuGroup = NonNullable<InsertMenuOptions['groups']>[number] & {selected: boolean}\ntype InsertMenuViews = NonNullable<InsertMenuOptions['views']>\ntype InsertMenuView = InsertMenuViews[number]\n\ntype InsertMenuEvent =\n  | {type: 'toggle view'; name: InsertMenuView['name']}\n  | {type: 'change query'; query: string}\n  | {type: 'select group'; name: string | undefined}\n\ntype InsertMenuState = {\n  query: string\n  groups: Array<InsertMenuGroup>\n  views: Array<InsertMenuViews[number] & {selected: boolean}>\n}\n\nfunction fullInsertMenuReducer(state: InsertMenuState, event: InsertMenuEvent): InsertMenuState {\n  return {\n    query: event.type === 'change query' ? event.query : state.query,\n    groups:\n      event.type === 'select group'\n        ? state.groups.map((group) => ({...group, selected: event.name === group.name}))\n        : state.groups,\n    views:\n      event.type === 'toggle view'\n        ? state.views.map((view) => ({...view, selected: event.name === view.name}))\n        : state.views,\n  }\n}\n\nconst ALL_ITEMS_GROUP_NAME = 'all-items'\n\nconst gridStyle: CSSProperties = {\n  gridTemplateColumns: 'repeat(auto-fill, minmax(118px, 1fr))',\n}\n\n/** @alpha */\nexport type InsertMenuProps = InsertMenuOptions & {\n  schemaTypes: Array<SchemaType>\n  onSelect: (schemaType: SchemaType) => void\n  labels: {\n    'insert-menu.filter.all-items': string\n    'insert-menu.search.no-results': string\n    'insert-menu.search.placeholder': string\n    'insert-menu.toggle-grid-view.tooltip': string\n    'insert-menu.toggle-list-view.tooltip': string\n  }\n}\n\n/** @alpha */\nexport function InsertMenu(props: InsertMenuProps): React.JSX.Element {\n  const showIcons = props.showIcons === undefined ? true : props.showIcons\n  const showFilter =\n    props.filter === undefined || props.filter === 'auto'\n      ? props.schemaTypes.length > 5\n      : props.filter\n  const [state, send] = useReducer(fullInsertMenuReducer, {\n    query: '',\n    groups: props.groups\n      ? [\n          {\n            name: ALL_ITEMS_GROUP_NAME,\n            title: props.labels['insert-menu.filter.all-items'],\n            selected: true,\n          },\n          ...props.groups.map((group) => ({...group, selected: false})),\n        ]\n      : [],\n    views: (props.views ?? [{name: 'list'}]).map((view, index) => ({\n      ...view,\n      selected: index === 0,\n    })),\n  })\n  const filteredSchemaTypes = filterSchemaTypes(props.schemaTypes, state.query, state.groups)\n  const selectedView = state.views.find((view) => view.selected)\n  const showingFilterOrViews = showFilter || state.views.length > 1\n  const showingTabs = state.groups && state.groups.length > 0\n  const showingAnyOptions = showingFilterOrViews || showingTabs\n\n  return (\n    <Menu padding={0}>\n      <Flex direction=\"column\" height=\"fill\">\n        <Box\n          {...(showingAnyOptions\n            ? {\n                style: {borderBottom: '1px solid var(--card-border-color)'},\n                paddingBottom: 1,\n              }\n            : {})}\n        >\n          {/* filter and views button */}\n          {showingFilterOrViews ? (\n            <Flex flex=\"none\" align=\"center\" paddingTop={1} paddingX={1} gap={1}>\n              {showFilter ? (\n                <Box flex={1}>\n                  <TextInput\n                    autoFocus\n                    border={false}\n                    fontSize={1}\n                    icon={SearchIcon}\n                    onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                      send({type: 'change query', query: event.target.value})\n                    }}\n                    placeholder={props.labels['insert-menu.search.placeholder']}\n                    value={state.query}\n                  />\n                </Box>\n              ) : null}\n              {state.views.length > 1 ? (\n                <Box flex=\"none\">\n                  <ViewToggle\n                    views={state.views}\n                    onToggle={(name) => {\n                      send({type: 'toggle view', name})\n                    }}\n                    labels={props.labels}\n                  />\n                </Box>\n              ) : null}\n            </Flex>\n          ) : null}\n\n          {/* tabs */}\n          {showingTabs ? (\n            <Box paddingTop={1} paddingX={1}>\n              <TabList space={1}>\n                {state.groups.map((group) => (\n                  <Tab\n                    id={`${group.name}-tab`}\n                    aria-controls={`${group.name}-panel`}\n                    key={group.name}\n                    label={group.title ?? startCase(group.name)}\n                    selected={group.selected}\n                    onClick={() => {\n                      send({type: 'select group', name: group.name})\n                    }}\n                  />\n                ))}\n              </TabList>\n            </Box>\n          ) : null}\n        </Box>\n\n        {/* results */}\n        <Box padding={1}>\n          {filteredSchemaTypes.length === 0 ? (\n            <Box padding={2}>\n              <Text muted size={1}>\n                {props.labels['insert-menu.search.no-results']}\n              </Text>\n            </Box>\n          ) : !selectedView ? null : selectedView.name === 'grid' ? (\n            <Grid autoRows=\"auto\" flex={1} gap={1} style={gridStyle}>\n              {filteredSchemaTypes.map((schemaType) => (\n                <GridMenuItem\n                  key={schemaType.name}\n                  icon={showIcons ? getSchemaTypeIcon(schemaType) : undefined}\n                  onClick={() => {\n                    props.onSelect(schemaType)\n                  }}\n                  previewImageUrl={selectedView.previewImageUrl?.(schemaType.name)}\n                  schemaType={schemaType}\n                />\n              ))}\n            </Grid>\n          ) : (\n            <Stack flex={1} space={1}>\n              {filteredSchemaTypes.map((schemaType) => (\n                <MenuItem\n                  key={schemaType.name}\n                  icon={showIcons ? getSchemaTypeIcon(schemaType) : undefined}\n                  onClick={() => {\n                    props.onSelect(schemaType)\n                  }}\n                  text={schemaType.title ?? startCase(schemaType.name)}\n                />\n              ))}\n            </Stack>\n          )}\n        </Box>\n      </Flex>\n    </Menu>\n  )\n}\n\nconst viewToggleIcon: Record<InsertMenuView['name'], React.ElementType> = {\n  grid: ThLargeIcon,\n  list: UlistIcon,\n}\n\nconst viewToggleTooltip: Record<InsertMenuView['name'], keyof ViewToggleProps['labels']> = {\n  grid: 'insert-menu.toggle-grid-view.tooltip',\n  list: 'insert-menu.toggle-list-view.tooltip',\n}\n\ntype ViewToggleProps = {\n  views: InsertMenuState['views']\n  onToggle: (viewName: InsertMenuView['name']) => void\n  labels: Pick<\n    InsertMenuProps['labels'],\n    'insert-menu.toggle-grid-view.tooltip' | 'insert-menu.toggle-list-view.tooltip'\n  >\n}\n\nfunction ViewToggle(props: ViewToggleProps) {\n  const viewIndex = props.views.findIndex((view) => view.selected)\n  const nextView = props.views[viewIndex + 1] ?? props.views[0]\n\n  return (\n    <Tooltip\n      content={<Text size={1}>{props.labels[viewToggleTooltip[nextView.name]]}</Text>}\n      placement=\"top\"\n      portal\n    >\n      <Button\n        mode=\"bleed\"\n        icon={viewToggleIcon[nextView.name]}\n        onClick={() => {\n          props.onToggle(nextView.name)\n        }}\n      />\n    </Tooltip>\n  )\n}\n\ntype GridMenuItemProps = {\n  onClick: () => void\n  schemaType: SchemaType\n  icon: MenuItemProps['icon']\n  previewImageUrl: ReturnType<\n    NonNullable<\n      Extract<NonNullable<InsertMenuOptions['views']>[number], {name: 'grid'}>['previewImageUrl']\n    >\n  >\n}\n\nfunction GridMenuItem(props: GridMenuItemProps) {\n  const [failedToLoad, setFailedToLoad] = useState(false)\n\n  return (\n    <MenuItem padding={0} radius={2} onClick={props.onClick} style={{overflow: 'hidden'}}>\n      <Flex direction=\"column\" gap={1} padding={1}>\n        <Box\n          flex=\"none\"\n          style={{\n            backgroundColor: 'var(--card-muted-bg-color)',\n            paddingBottom: '66.6%',\n            position: 'relative',\n          }}\n        >\n          {isValidElementType(props.icon) ? (\n            <Flex\n              align=\"center\"\n              justify=\"center\"\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                width: '100%',\n                height: '100%',\n              }}\n            >\n              <Text size={1}>{createElement(props.icon)}</Text>\n            </Flex>\n          ) : null}\n          {!props.previewImageUrl || failedToLoad ? null : (\n            <img\n              src={props.previewImageUrl}\n              style={{\n                objectFit: 'contain',\n                width: '100%',\n                height: '100%',\n                position: 'absolute',\n                inset: 0,\n              }}\n              onError={() => {\n                setFailedToLoad(true)\n              }}\n            />\n          )}\n\n          <div\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              boxShadow: 'inset 0 0 0 0.5px var(--card-fg-color)',\n              opacity: 0.1,\n            }}\n          />\n        </Box>\n        <Box flex={1} padding={2}>\n          <Text size={1} weight=\"medium\">\n            {props.schemaType.title ?? props.schemaType.name}\n          </Text>\n        </Box>\n      </Flex>\n    </MenuItem>\n  )\n}\n\nfunction filterSchemaTypes(\n  schemaTypes: Array<SchemaType>,\n  query: string,\n  groups: Array<InsertMenuGroup>,\n) {\n  return schemaTypes.filter(\n    (schemaType) => passesGroupFilter(schemaType, groups) && passesQueryFilter(schemaType, query),\n  )\n}\n\nfunction passesQueryFilter(schemaType: SchemaType, query: string) {\n  const sanitizedQuery = query.trim().toLowerCase()\n\n  return schemaType.title\n    ? schemaType.title?.toLowerCase().includes(sanitizedQuery)\n    : schemaType.name.includes(sanitizedQuery)\n}\n\nfunction passesGroupFilter(schemaType: SchemaType, groups: Array<InsertMenuGroup>) {\n  const selectedGroup = groups.find((group) => group.selected)\n\n  return selectedGroup\n    ? selectedGroup.name === ALL_ITEMS_GROUP_NAME\n      ? true\n      : selectedGroup.of?.includes(schemaType.name)\n    : true\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}},
    {"offset": {"line": 8595, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8601, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/constants.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/errors.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/utils.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/asserters.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/hotspotCrop.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/paths.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/parse.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/resolve.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/asset-utils/src/urls.ts"],"sourcesContent":["/**\n * @internal\n */\nexport const cdnUrl = 'https://cdn.sanity.io'\n\n/**\n * @internal\n */\nexport const cdnUrlPattern = /^https:\\/\\/cdn\\.sanity\\./\n\n/**\n * @internal\n */\nexport const customCdnUrlPattern =\n  /^https:\\/\\/cdn\\.[^/]+\\/(images|files)\\/[^/]+\\/.*?[a-zA-Z0-9_]{24,40}.*$/\n\n/**\n * @internal\n */\nexport const fileAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\\.[a-z0-9]+$/\n\n/**\n * @internal\n */\nexport const fileAssetIdPattern = /^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/\n\n/**\n * @internal\n */\nexport const imageAssetFilenamePattern = /^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\\d+x\\d+\\.[a-z0-9]+$/\n\n/**\n * @internal\n */\nexport const imageAssetIdPattern = /^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+$/\n\n/**\n * @internal\n */\nexport const assetFilenamePattern =\n  /^(([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+|([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+\\.[a-z0-9]+)$/\n\n/**\n * @internal\n */\nexport const pathPattern = /^(images|files)\\/([a-z0-9]+)\\/([a-z0-9][-\\w]*)\\//\n\n/**\n * @internal\n */\nexport const idPattern =\n  /^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\\d+x\\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/\n\n/**\n * For use in cases where the project and dataset doesn't really matter\n *\n * @internal\n */\nexport const dummyProject = {projectId: 'a', dataset: 'b'}\n","/**\n * Error type thrown when the library fails to resolve a value, such as an asset ID,\n * filename or project ID/dataset information.\n *\n * The `input` property holds the value passed as the input, which failed to be\n * resolved to something meaningful.\n *\n * @public\n */\nexport class UnresolvableError extends Error {\n  unresolvable = true\n\n  // The input may not be a valid source, so let's not type it as one\n  input?: unknown\n\n  constructor(inputSource: unknown, message = 'Failed to resolve asset ID from source') {\n    super(message)\n    this.input = inputSource\n  }\n}\n\n/**\n * Checks whether or not an error instance is of type UnresolvableError\n *\n * @param err - Error to check for unresolvable error type\n * @returns True if the passed error instance appears to be an unresolvable error\n * @public\n */\nexport function isUnresolvableError(err: unknown): err is UnresolvableError {\n  const error = err as UnresolvableError\n  return Boolean(error.unresolvable && 'input' in error)\n}\n","import {isUnresolvableError} from './errors'\nimport type {SafeFunction} from './types'\n\n/**\n * Returns a getter which returns `undefined` instead of throwing,\n * if encountering an `UnresolvableError`\n *\n * @param method - Function to use as resolver\n * @returns Function that returns `undefined` if passed resolver throws UnresolvableError\n * @internal\n */\nexport function getForgivingResolver<Args extends unknown[], Return>(\n  method: (...args: Args) => Return,\n): SafeFunction<Args, Return> {\n  return (...args: Args): Return | undefined => {\n    try {\n      return method(...args)\n    } catch (err) {\n      if (isUnresolvableError(err)) {\n        return undefined\n      }\n\n      throw err\n    }\n  }\n}\n\n/**\n * Checks whether or not the passed object is an object (and not `null`)\n *\n * @param obj Item to check whether or not is an object\n * @returns Whether or not `obj` is an object\n * @internal\n */\nexport function isObject(obj: unknown): obj is object {\n  return obj !== null && !Array.isArray(obj) && typeof obj === 'object'\n}\n","import {\n  cdnUrlPattern,\n  customCdnUrlPattern,\n  fileAssetIdPattern,\n  imageAssetIdPattern,\n} from './constants.js'\nimport type {\n  SanityAssetIdStub,\n  SanityAssetObjectStub,\n  SanityAssetPathStub,\n  SanityAssetUrlStub,\n  SanityFileAsset,\n  SanityImageAsset,\n  SanityReference,\n} from './types.js'\nimport {isObject} from './utils.js'\n\n/**\n * Checks whether or not the given source is a Sanity reference\n * (an object containing _ref string key)\n *\n * @param ref - Possible reference\n * @returns Whether or not the passed object is a reference\n * @public\n */\nexport function isReference(ref: unknown): ref is SanityReference {\n  return isObject(ref) && typeof (ref as SanityReference)._ref === 'string'\n}\n\n/**\n * Checks whether or not the given source is an asset ID stub\n * (an object containing an `_id` property)\n *\n * @param stub - Possible asset id stub\n * @returns Whether or not the passed object is an object id stub\n * @public\n */\nexport function isAssetIdStub(stub: unknown): stub is SanityAssetIdStub {\n  return isObject(stub) && typeof (stub as SanityAssetIdStub)._id === 'string'\n}\n\n/**\n * Checks whether or not the given source is an asset path stub\n * (an object containing a `path` property)\n *\n * @param stub - Possible asset path stub\n * @returns Whether or not the passed object is an object path stub\n * @public\n */\nexport function isAssetPathStub(stub: unknown): stub is SanityAssetPathStub {\n  return isObject(stub) && typeof (stub as SanityAssetPathStub).path === 'string'\n}\n\n/**\n * Checks whether or not the given source is an asset URL stub\n * (an object containing a `url` property)\n *\n * @param stub - Possible asset url stub\n * @returns Whether or not the passed object is an object url stub\n * @public\n */\nexport function isAssetUrlStub(stub: unknown): stub is SanityAssetUrlStub {\n  return isObject(stub) && typeof (stub as SanityAssetUrlStub).url === 'string'\n}\n\n/**\n * Checks whether or not the given source is a (partial) sanity file asset document.\n * Only checks the `_type` property, all other properties _may_ be missing\n *\n * @param src - Source to check\n * @returns Whether or not the given source is a file asset\n * @public\n */\nexport function isSanityFileAsset(src: unknown): src is SanityFileAsset {\n  return isObject(src) && (src as SanityFileAsset)._type === 'sanity.fileAsset'\n}\n\n/**\n * Checks whether or not the given source is a (partial) sanity image asset document.\n * Only checks the `_type` property, all other properties _may_ be missing\n *\n * @param src - Source to check\n * @returns Whether or not the given source is a file asset\n * @public\n */\nexport function isSanityImageAsset(src: unknown): src is SanityImageAsset {\n  return isObject(src) && (src as SanityImageAsset)._type === 'sanity.imageAsset'\n}\n\n/**\n * Checks whether or not the given document ID is a valid Sanity image asset document ID\n *\n * @param documentId - Document ID to check\n * @returns Whether or not the given document ID is a Sanity image asset document ID\n * @public\n */\nexport function isImageAssetId(documentId: string): boolean {\n  return imageAssetIdPattern.test(documentId)\n}\n\n/**\n * Checks whether or not the given document ID is a valid Sanity file asset document ID\n *\n * @param documentId - Document ID to check\n * @returns Whether or not the given document ID is a Sanity file asset document ID\n * @public\n */\nexport function isFileAssetId(documentId: string): boolean {\n  return fileAssetIdPattern.test(documentId)\n}\n\n/**\n * Checks whether or not the given document ID is a valid Sanity asset document ID (file or image)\n *\n * @param documentId - Document ID to check\n * @returns Whether or not the given document ID is a Sanity asset document ID (file or image)\n * @public\n */\nexport function isAssetId(documentId: string): boolean {\n  return isImageAssetId(documentId) || isFileAssetId(documentId)\n}\n\n/**\n * Checks whether or not the given source is an asset object stub\n *\n * @param stub - Possible asset object stub\n * @returns Whether or not the passed object is an object stub\n * @public\n */\nexport function isAssetObjectStub(stub: unknown): stub is SanityAssetObjectStub {\n  const item = stub as SanityAssetObjectStub\n  return isObject(item) && item.asset && typeof item.asset === 'object'\n}\n\n/**\n * Checks whether or not the given URL is a valid Sanity CDN URL or what appears to be a valid\n * custom CDN URL (has to be prefixed with `cdn.`, and follow the same path pattern as Sanity CDN )\n *\n * @param url - URL to check\n * @returns True if Sanity CDN URL/Custom CDN URL, false otherwise\n * @internal\n */\nexport function isCdnUrl(url: string): boolean {\n  return cdnUrlPattern.test(url) || customCdnUrlPattern.test(url)\n}\n","import type {SanityImageCrop, SanityImageHotspot} from './types.js'\n\n/**\n * Default crop (equals to \"whole image\")\n *\n * @public\n */\nexport const DEFAULT_CROP: Readonly<SanityImageCrop> = Object.freeze({\n  left: 0,\n  top: 0,\n  bottom: 0,\n  right: 0,\n})\n\n/**\n * Default hotspot (equals to horizontal/vertical center, full size of image)\n *\n * @public\n */\nexport const DEFAULT_HOTSPOT: Readonly<SanityImageHotspot> = Object.freeze({\n  x: 0.5,\n  y: 0.5,\n  height: 1,\n  width: 1,\n})\n\n/**\n * Returns cloned version of the default crop (prevents accidental mutations)\n *\n * @returns Default image crop object\n * @public\n */\nexport const getDefaultCrop = (): SanityImageCrop => ({...DEFAULT_CROP})\n\n/**\n * Returns cloned version of the default hotspot (prevents accidental mutations)\n *\n * @returns Default image hotspot object\n * @public\n */\nexport const getDefaultHotspot = (): SanityImageHotspot => ({...DEFAULT_HOTSPOT})\n\n/**\n * Returns whether or not the passed crop has the default values for a crop region\n *\n * @param crop - The crop to return whether or not is the default crop\n * @returns True if passed crop matches default, false otherwise\n * @public\n */\nexport const isDefaultCrop = (crop: SanityImageCrop): boolean => {\n  const {top, bottom, left, right} = crop\n  const {\n    top: defaultTop,\n    bottom: defaultBottom,\n    left: defaultLeft,\n    right: defaultRight,\n  } = DEFAULT_CROP\n\n  return (\n    top === defaultTop && bottom === defaultBottom && left === defaultLeft && right === defaultRight\n  )\n}\n\n/**\n * Returns whether or not the passed hotspot has the default values for a hotspot region\n *\n * @param hotspot - The hotspot to return whether or not is the default hotspot\n * @returns True if passed hotspot matches default, false otherwise\n * @public\n */\nexport const isDefaultHotspot = (hotspot: SanityImageHotspot): boolean => {\n  const {x, y, width, height} = hotspot\n  const {x: defaultX, y: defaultY, width: defaultWidth, height: defaultHeight} = DEFAULT_HOTSPOT\n\n  return x === defaultX && y === defaultY && width === defaultWidth && height === defaultHeight\n}\n","import {\n  isAssetObjectStub,\n  isAssetPathStub,\n  isAssetUrlStub,\n  isCdnUrl,\n  isReference,\n} from './asserters.js'\nimport {\n  cdnUrl,\n  fileAssetFilenamePattern,\n  imageAssetFilenamePattern,\n  pathPattern,\n} from './constants.js'\nimport {UnresolvableError} from './errors.js'\nimport type {\n  FileUrlBuilderOptions,\n  ImageUrlBuilderOptions,\n  PathBuilderOptions,\n  SanityAssetSource,\n  SanityFileUrlParts,\n  SanityImageUrlParts,\n} from './types.js'\nimport {getForgivingResolver} from './utils.js'\n\n/**\n * Builds the base image path from the minimal set of parts required to assemble it\n *\n * @param asset - An asset-like shape defining ID, dimensions and extension\n * @param options - Project ID and dataset the image belongs to, along with other options\n * @returns The path to the image\n * @public\n */\nexport function buildImagePath(\n  asset: ImageUrlBuilderOptions | SanityImageUrlParts,\n  options?: PathBuilderOptions,\n): string {\n  const projectId = options?.projectId || asset.projectId\n  const dataset = options?.dataset || asset.dataset\n  if (!projectId || !dataset) {\n    throw new Error('Project details (projectId and dataset) required to resolve path for image')\n  }\n\n  const dimensions =\n    'metadata' in asset ? asset.metadata.dimensions : {width: asset.width, height: asset.height}\n  const originalFilename = 'originalFilename' in asset ? asset.originalFilename : undefined\n  const {assetId, extension, vanityFilename} = asset\n  const {width, height} = dimensions\n  const vanity = getVanityStub(originalFilename, vanityFilename, options)\n\n  return `images/${projectId}/${dataset}/${assetId}-${width}x${height}.${extension}${vanity}`\n}\n\n/**\n * Builds the base image URL from the minimal set of parts required to assemble it\n *\n * @param asset - An asset-like shape defining ID, dimensions and extension\n * @param options - Project ID and dataset the image belongs to\n * @returns The URL to the image, as a string\n * @public\n */\nexport function buildImageUrl(\n  asset: ImageUrlBuilderOptions | SanityImageUrlParts,\n  options?: PathBuilderOptions,\n): string {\n  const baseUrl = options?.baseUrl || cdnUrl\n  return `${baseUrl}/${buildImagePath(asset, options)}`\n}\n\n/**\n * Builds the base file path from the minimal set of parts required to assemble it\n *\n * @param asset - An asset-like shape defining ID, dimensions and extension\n * @param options - Project ID and dataset the file belongs to, along with other options\n * @returns The path to the file\n * @public\n */\nexport function buildFilePath(\n  asset: FileUrlBuilderOptions | SanityFileUrlParts,\n  options?: PathBuilderOptions,\n): string {\n  const projectId = options?.projectId || asset.projectId\n  const dataset = options?.dataset || asset.dataset\n  if (!projectId || !dataset) {\n    throw new Error('Project details (projectId and dataset) required to resolve path for file')\n  }\n\n  const originalFilename = 'originalFilename' in asset ? asset.originalFilename : undefined\n  const {assetId, extension, vanityFilename} = asset\n  const vanity = getVanityStub(originalFilename, vanityFilename, options)\n\n  return `files/${projectId}/${dataset}/${assetId}.${extension}${vanity}`\n}\n\n/**\n * Builds the base file URL from the minimal set of parts required to assemble it\n *\n * @param asset - An asset-like shape defining ID and extension\n * @param options - Project ID and dataset the file belongs to, along with other options\n * @returns The URL to the file, as a string\n * @public\n */\nexport function buildFileUrl(asset: FileUrlBuilderOptions, options?: PathBuilderOptions): string {\n  const baseUrl = options?.baseUrl || cdnUrl\n  return `${baseUrl}/${buildFilePath(asset, options)}`\n}\n\n/**\n * Checks whether or not the given URL contains an asset path\n *\n * @param url - URL or path name\n * @returns Whether or not it contained an asset path\n * @public\n */\nfunction hasPath(urlOrPath: string): boolean {\n  return pathPattern.test(tryGetUrlPath(urlOrPath) || '')\n}\n\n/**\n * Tries to get the asset path from a given asset source\n *\n * @param src - The source image to infer an asset path from\n * @returns A path if resolvable, undefined otherwise\n * @public\n */\nexport function tryGetAssetPath(src: SanityAssetSource): string | undefined {\n  if (isAssetObjectStub(src)) {\n    return tryGetAssetPath(src.asset)\n  }\n\n  if (isReference(src)) {\n    return undefined\n  }\n\n  if (typeof src === 'string') {\n    return hasPath(src) ? getUrlPath(src) : undefined\n  }\n\n  if (isAssetPathStub(src)) {\n    return src.path\n  }\n\n  if (isAssetUrlStub(src)) {\n    return getUrlPath(src.url)\n  }\n\n  return undefined\n}\n\n/**\n * Strips the CDN URL and query params from a URL, eg:\n * `https://cdn.sanity.io/images/project/dataset/filename-200x200.jpg?foo=bar` →\n * `images/project/dataset/filename-200x200.jpg`\n *\n * @param url - URL to get path name from\n * @returns The path of a CDN URL\n * @public\n * @throws If URL is not a valid Sanity asset URL\n */\nexport function getUrlPath(url: string): string {\n  if (pathPattern.test(url)) {\n    // Already just a path\n    return url\n  }\n\n  if (!isCdnUrl(url)) {\n    throw new UnresolvableError(`Failed to resolve path from URL \"${url}\"`)\n  }\n\n  return new URL(url).pathname.replace(/^\\/+/, '')\n}\n\n/**\n * {@inheritDoc getUrlPath}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetUrlPath = getForgivingResolver(getUrlPath)\n\n/**\n * Strips the CDN URL, path and query params from a URL, eg:\n * `https://cdn.sanity.io/images/project/dataset/filename-200x200.jpg?foo=bar` →\n * `filename-200x200.jpg`\n *\n * @param url - URL to get filename from\n * @returns The filename of an URL, if URL matches the CDN URL\n * @public\n * @throws If URL is not a valid Sanity asset URL\n */\nexport function getUrlFilename(url: string): string {\n  const path = tryGetUrlPath(url) || url\n  const filename = path.replace(/^(images|files)\\/[a-z0-9]+\\/[a-z0-9][-\\w]\\/*/, '')\n  if (!isValidFilename(filename)) {\n    throw new UnresolvableError(`Failed to resolve filename from URL \"${url}\"`)\n  }\n\n  return filename\n}\n\n/**\n * {@inheritDoc getUrlFilename}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetUrlFilename = getForgivingResolver(getUrlFilename)\n\n/**\n * Checks whether or not a given filename matches the expected Sanity asset filename pattern\n *\n * @param filename - Filename to check for validity\n * @returns Whether or not the specified filename is valid\n * @public\n */\nexport function isValidFilename(filename: string): boolean {\n  return fileAssetFilenamePattern.test(filename) || imageAssetFilenamePattern.test(filename)\n}\n\n/**\n * Get the \"path stub\" at the end of the path, if the user hasn't explicitly opted out of this behavior\n *\n * @param originalFilename - The original filename of the asset\n * @param vanityFilename - The vanity filename of the asset\n * @param options - Options to control the behavior of the path builder\n * @returns The vanity stub, if any\n * @public\n */\nexport function getVanityStub(\n  originalFilename: string | undefined,\n  vanityFilename: string | undefined,\n  options?: PathBuilderOptions,\n): string {\n  const vanity = vanityFilename || originalFilename\n  return options?.useVanityName === false || !vanity ? '' : `/${vanity}`\n}\n","import {isCdnUrl} from './asserters.js'\nimport {\n  fileAssetIdPattern,\n  imageAssetFilenamePattern,\n  imageAssetIdPattern,\n  pathPattern,\n} from './constants.js'\nimport {isValidFilename, tryGetUrlFilename} from './paths.js'\nimport type {\n  SanityAssetIdParts,\n  SanityAssetUrlParts,\n  SanityFileAssetIdParts,\n  SanityFileUrlParts,\n  SanityImageAssetIdParts,\n  SanityImageUrlParts,\n} from './types.js'\n\n/**\n * @internal\n */\nconst exampleFileId = 'file-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-pdf'\n\n/**\n * @internal\n */\nconst exampleImageId = 'image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg'\n\n/**\n * Parses a Sanity asset document ID into individual parts (type, id, extension, width/height etc)\n *\n * @param documentId - Document ID to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If document ID is invalid\n */\nexport function parseAssetId(documentId: string): SanityAssetIdParts {\n  if (imageAssetIdPattern.test(documentId)) {\n    return parseImageAssetId(documentId)\n  }\n\n  if (fileAssetIdPattern.test(documentId)) {\n    return parseFileAssetId(documentId)\n  }\n\n  throw new Error(`Invalid image/file asset ID: ${documentId}`)\n}\n\n/**\n * Parses a Sanity file asset document ID into individual parts (type, id, extension)\n *\n * @param documentId - File asset document ID to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If document ID invalid\n */\nexport function parseFileAssetId(documentId: string): SanityFileAssetIdParts {\n  if (!fileAssetIdPattern.test(documentId)) {\n    throw new Error(\n      `Malformed file asset ID '${documentId}'. Expected an id like \"${exampleFileId}\"`,\n    )\n  }\n\n  const [, assetId, extension] = documentId.split('-')\n  return {type: 'file', assetId, extension}\n}\n\n/**\n * Parses a Sanity image asset document ID into individual parts (type, id, extension, width, height)\n *\n * @param documentId - Image asset document ID to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If document ID invalid\n */\nexport function parseImageAssetId(documentId: string): SanityImageAssetIdParts {\n  const [, assetId, dimensionString, extension] = documentId.split('-')\n  const [width, height] = (dimensionString || '').split('x').map(Number)\n\n  if (!assetId || !dimensionString || !extension || !(width > 0) || !(height > 0)) {\n    throw new Error(`Malformed asset ID '${documentId}'. Expected an id like \"${exampleImageId}\".`)\n  }\n\n  return {type: 'image', assetId, width, height, extension}\n}\n\n/**\n * Parses a Sanity asset filename into individual parts (type, id, extension, width, height)\n *\n * @param filename - Filename to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If image/filename is invalid\n */\nexport function parseAssetFilename(filename: string): SanityAssetIdParts {\n  const file = tryGetUrlFilename(filename) || ''\n  if (!isValidFilename(file)) {\n    throw new Error(`Invalid image/file asset filename: ${filename}`)\n  }\n\n  try {\n    const type = imageAssetFilenamePattern.test(file) ? 'image' : 'file'\n    const assetId = file.replace(/\\.([a-z0-9+]+)$/i, '-$1')\n    return parseAssetId(`${type}-${assetId}`)\n  } catch (err) {\n    throw new Error(`Invalid image/file asset filename: ${filename}`)\n  }\n}\n\n/**\n * Parses a full Sanity asset URL into individual parts\n * (type, project ID, dataset, id, extension, width, height)\n *\n * @param url - Full URL to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If URL is invalid or not a Sanity asset URL\n */\nexport function parseAssetUrl(url: string): SanityAssetUrlParts {\n  if (!isCdnUrl(url)) {\n    throw new Error(`URL is not a valid Sanity asset URL: ${url}`)\n  }\n\n  const path = new URL(url).pathname.replace(/^\\/+/, '')\n  const [projectPath, , projectId, dataset] = path.match(pathPattern) || []\n  if (!projectPath || !projectId || !dataset) {\n    throw new Error(`URL is not a valid Sanity asset URL: ${url}`)\n  }\n\n  const [filename, vanityFilename] = path.slice(projectPath.length).split('/')\n  const parsed = parseAssetFilename(filename)\n\n  return {\n    ...parsed,\n    projectId,\n    dataset,\n    vanityFilename,\n  }\n}\n\n/**\n * Parses a full Sanity image asset URL into individual parts\n * (type, project ID, dataset, id, extension, width, height)\n *\n * @param url - Full URL to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If URL is invalid or not a Sanity image asset URL\n */\nexport function parseImageAssetUrl(url: string): SanityImageUrlParts {\n  const parsed = parseAssetUrl(url)\n  if (parsed.type !== 'image') {\n    throw new Error(`URL is not a valid Sanity image asset URL: ${url}`)\n  }\n\n  return parsed\n}\n\n/**\n * Parses a full Sanity file asset URL into individual parts\n * (type, project ID, dataset, id, extension, width, height)\n *\n * @param url - Full URL to parse into named parts\n * @returns Object of named properties\n * @public\n * @throws If URL is invalid or not a Sanity file asset URL\n */\nexport function parseFileAssetUrl(url: string): SanityFileUrlParts {\n  const parsed = parseAssetUrl(url)\n  if (parsed.type !== 'file') {\n    throw new Error(`URL is not a valid Sanity file asset URL: ${url}`)\n  }\n\n  return parsed\n}\n\n/**\n * Validates that a given URL is a Sanity asset URL, and returns the asset type if valid.\n *\n * @param url - URL to extract asset type from\n * @returns Asset type if valid URL, false otherwise\n * @public\n */\nexport function getAssetUrlType(url: string): 'image' | 'file' | false {\n  try {\n    return parseAssetUrl(url).type\n  } catch (err) {\n    return false\n  }\n}\n","import {\n  isAssetIdStub,\n  isAssetObjectStub,\n  isAssetPathStub,\n  isAssetUrlStub,\n  isCdnUrl,\n  isReference,\n  isSanityFileAsset,\n  isSanityImageAsset,\n} from './asserters.js'\nimport {\n  cdnUrl,\n  dummyProject,\n  fileAssetFilenamePattern,\n  idPattern,\n  imageAssetFilenamePattern,\n  pathPattern,\n} from './constants.js'\nimport {UnresolvableError} from './errors.js'\nimport {getDefaultCrop, getDefaultHotspot} from './hotspotCrop.js'\nimport {parseFileAssetId, parseImageAssetId} from './parse.js'\nimport {\n  buildFilePath,\n  buildFileUrl,\n  buildImagePath,\n  buildImageUrl,\n  getUrlPath,\n  tryGetAssetPath,\n} from './paths.js'\nimport type {\n  PathBuilderOptions,\n  ResolvedSanityFile,\n  ResolvedSanityImage,\n  SanityAssetSource,\n  SanityFileAsset,\n  SanityFileObjectStub,\n  SanityFileSource,\n  SanityImageAsset,\n  SanityImageDimensions,\n  SanityImageObjectStub,\n  SanityImageSource,\n  SanityProjectDetails,\n} from './types.js'\nimport {getForgivingResolver} from './utils.js'\n\n/**\n * Returns the width, height and aspect ratio of a passed image asset, from any\n * inferrable structure (id, url, path, asset document, image object etc)\n *\n * @param src - Input source (image object, asset, reference, id, url, path)\n * @returns Object with width, height and aspect ratio properties\n *\n * @throws {@link UnresolvableError}\n * Throws if passed image source could not be resolved to an asset ID\n * @public\n */\nexport function getImageDimensions(src: SanityImageSource): SanityImageDimensions {\n  const imageId = getAssetDocumentId(src)\n  const {width, height} = parseImageAssetId(imageId)\n  const aspectRatio = width / height\n  return {width, height, aspectRatio}\n}\n\n/**\n * {@inheritDoc getImageDimensions}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetImageDimensions = getForgivingResolver(getImageDimensions)\n\n/**\n * Returns the file extension for a given asset\n *\n * @param src - Input source (file/image object, asset, reference, id, url, path)\n * @returns The file extension, if resolvable (no `.` included)\n *\n * @throws {@link UnresolvableError}\n * Throws if passed asset source could not be resolved to an asset ID\n * @public\n */\nexport function getExtension(src: SanityAssetSource): string {\n  return isFileSource(src)\n    ? getFile(src, dummyProject).asset.extension\n    : getImage(src, dummyProject).asset.extension\n}\n\n/**\n * {@inheritDoc getExtension}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetExtension = getForgivingResolver(getExtension)\n\n/**\n * Tries to resolve an image object with as much information as possible,\n * from any inferrable structure (id, url, path, image object etc)\n *\n * @param src - Input source (image object, asset, reference, id, url, path)\n * @param project - Project ID and dataset the image belongs to\n * @returns Image object\n *\n * @throws {@link UnresolvableError}\n * Throws if passed image source could not be resolved to an asset ID\n * @public\n */\nexport function getImage(\n  src: SanityImageSource,\n  project?: SanityProjectDetails,\n): ResolvedSanityImage {\n  const projectDetails = project || tryGetProject(src)\n  const asset = getImageAsset(src, projectDetails)\n\n  const img = src as SanityImageObjectStub\n  return {\n    asset,\n    crop: img.crop || getDefaultCrop(),\n    hotspot: img.hotspot || getDefaultHotspot(),\n  }\n}\n\n/**\n * {@inheritDoc getImage}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetImage = getForgivingResolver(getImage)\n\n/**\n * Tries to resolve a (partial) image asset document with as much information as possible,\n * from any inferrable structure (id, url, path, image object etc)\n *\n * @param src - Input source (image object, asset, reference, id, url, path)\n * @param project - Project ID and dataset the image belongs to\n * @returns Image asset document\n *\n * @throws {@link UnresolvableError}\n * Throws if passed image source could not be resolved to an asset ID\n * @public\n */\nexport function getImageAsset(\n  src: SanityImageSource,\n  project?: SanityProjectDetails,\n): SanityImageAsset {\n  const projectDetails = project || getProject(src)\n  const pathOptions: PathBuilderOptions = {...projectDetails, useVanityName: false}\n\n  const _id = getAssetDocumentId(src)\n  const sourceObj = src as SanityImageObjectStub\n  const source = (sourceObj.asset || src) as SanityImageAsset\n  const metadata = source.metadata || {}\n  const {assetId, width, height, extension} = parseImageAssetId(_id)\n  const aspectRatio = width / height\n  const baseAsset: SanityImageAsset = {\n    ...(isSanityImageAsset(src) ? src : {}),\n    _id,\n    _type: 'sanity.imageAsset',\n    assetId,\n    extension,\n    metadata: {\n      ...metadata,\n      dimensions: {width, height, aspectRatio},\n    },\n\n    // Placeholders, overwritten below\n    url: '',\n    path: '',\n  }\n\n  return {\n    ...baseAsset,\n    path: buildImagePath(baseAsset, pathOptions),\n    url: buildImageUrl(baseAsset, pathOptions),\n  }\n}\n\n/**\n * {@inheritDoc getImageAsset}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetImageAsset = getForgivingResolver(getImageAsset)\n\n/**\n * Tries to resolve an file object with as much information as possible,\n * from any inferrable structure (id, url, path, file object etc)\n *\n * @param src - Input source (file object, asset, reference, id, url, path)\n * @param project - Project ID and dataset the file belongs to\n * @returns File object\n *\n * @throws {@link UnresolvableError}\n * Throws if passed file source could not be resolved to an asset ID\n * @public\n */\nexport function getFile(src: SanityFileSource, project?: SanityProjectDetails): ResolvedSanityFile {\n  const projectDetails = project || tryGetProject(src)\n  const asset = getFileAsset(src, projectDetails)\n  return {asset}\n}\n\n/**\n * {@inheritDoc getFile}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetFile = getForgivingResolver(getFile)\n\n/**\n * Tries to resolve a (partial) file asset document with as much information as possible,\n * from any inferrable structure (id, url, path, file object etc)\n *\n * @param src - Input source (file object, asset, reference, id, url, path)\n * @param options - Project ID and dataset the file belongs to, along with other options\n * @returns File asset document\n *\n * @throws {@link UnresolvableError}\n * Throws if passed file source could not be resolved to an asset ID\n * @public\n */\nexport function getFileAsset(src: SanityFileSource, options?: PathBuilderOptions): SanityFileAsset {\n  const projectDetails: PathBuilderOptions = {...(options || getProject(src)), useVanityName: false}\n\n  const _id = getAssetDocumentId(src)\n  const sourceObj = src as SanityFileObjectStub\n  const source = (sourceObj.asset || src) as SanityFileAsset\n  const {assetId, extension} = parseFileAssetId(_id)\n  const baseAsset: SanityFileAsset = {\n    ...(isSanityFileAsset(src) ? src : {}),\n    _id,\n    _type: 'sanity.fileAsset',\n    assetId,\n    extension,\n    metadata: source.metadata || {},\n\n    // Placeholders, overwritten below\n    url: '',\n    path: '',\n  }\n\n  return {\n    ...baseAsset,\n    path: buildFilePath(baseAsset, projectDetails),\n    url: buildFileUrl(baseAsset, projectDetails),\n  }\n}\n\n/**\n * {@inheritDoc getFileAsset}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetFileAsset = getForgivingResolver(getFileAsset)\n\n/**\n * Tries to resolve the asset document ID from any inferrable structure\n *\n * @param src - Input source (image/file object, asset, reference, id, url, path)\n * @returns The asset document ID\n *\n * @throws {@link UnresolvableError}\n * Throws if passed asset source could not be resolved to an asset document ID\n * @public\n */\nexport function getAssetDocumentId(src: unknown): string {\n  const source = isAssetObjectStub(src) ? src.asset : src\n\n  let id = ''\n  if (typeof source === 'string') {\n    id = getIdFromString(source)\n  } else if (isReference(source)) {\n    id = source._ref\n  } else if (isAssetIdStub(source)) {\n    id = source._id\n  } else if (isAssetPathStub(source)) {\n    id = idFromUrl(`${cdnUrl}/${source.path}`)\n  } else if (isAssetUrlStub(source)) {\n    id = idFromUrl(source.url)\n  }\n\n  const hasId = id && idPattern.test(id)\n  if (!hasId) {\n    throw new UnresolvableError(src)\n  }\n\n  return id\n}\n\n/**\n * {@inheritDoc getAssetDocumentId}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetAssetDocumentId = getForgivingResolver(getAssetDocumentId)\n\n/**\n * Tries to cooerce a string (ID, URL or path) to an image asset ID\n *\n * @param str - Input string (ID, URL or path)\n * @returns string\n *\n *\n * @throws {@link UnresolvableError}\n * Throws if passed image source could not be resolved to an asset ID\n * @public\n */\nexport function getIdFromString(str: string): string {\n  if (idPattern.test(str)) {\n    // Already an ID\n    return str\n  }\n\n  const isAbsoluteUrl = isCdnUrl(str)\n  const path = isAbsoluteUrl ? new URL(str).pathname : str\n\n  if (path.indexOf('/images') === 0 || path.indexOf('/files') === 0) {\n    // Full URL\n    return idFromUrl(str)\n  }\n\n  if (pathPattern.test(str)) {\n    // Path\n    return idFromUrl(`${cdnUrl}/${str}`)\n  }\n\n  if (isFileAssetFilename(str)) {\n    // Just a filename (projectId/dataset irrelevant: just need asset ID)\n    return idFromUrl(`${cdnUrl}/files/a/b/${str}`)\n  }\n\n  if (isImageAssetFilename(str)) {\n    // Just a filename (projectId/dataset irrelevant: just need asset ID)\n    return idFromUrl(`${cdnUrl}/images/a/b/${str}`)\n  }\n\n  throw new UnresolvableError(str)\n}\n\n/**\n * {@inheritDoc getIdFromString}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetIdFromString = getForgivingResolver(getIdFromString)\n\n/**\n * Converts from a full asset URL to just the asset document ID\n *\n * @param url - A full asset URL to convert\n * @returns string\n * @public\n */\nfunction idFromUrl(url: string): string {\n  const path = getUrlPath(url)\n  const [type, , , fileName] = path.split('/')\n  const prefix = type.replace(/s$/, '')\n  return `${prefix}-${fileName.replace(/\\./g, '-')}`\n}\n\n/**\n * Resolves project ID and dataset the image belongs to, based on full URL or path\n * @param src - Image URL or path\n * @returns object | undefined\n *\n * @throws {@link UnresolvableError}\n * Throws if passed image source could not be resolved to an asset ID\n * @public\n */\nexport function getProject(src: SanityImageSource): SanityProjectDetails {\n  const path = tryGetAssetPath(src)\n  if (!path) {\n    throw new UnresolvableError(src, 'Failed to resolve project ID and dataset from source')\n  }\n\n  const [, , projectId, dataset] = path.match(pathPattern) || []\n  if (!projectId || !dataset) {\n    throw new UnresolvableError(src, 'Failed to resolve project ID and dataset from source')\n  }\n\n  return {projectId, dataset}\n}\n\n/**\n * {@inheritDoc getProject}\n * @returns Returns `undefined` instead of throwing if a value cannot be resolved\n * @public\n */\nexport const tryGetProject = getForgivingResolver(getProject)\n\n/**\n * Returns whether or not the passed filename is a valid image asset filename\n *\n * @param filename - Filename to validate\n * @returns Whether or not the filename is an image asset filename\n * @public\n */\nexport function isImageAssetFilename(filename: string): boolean {\n  return imageAssetFilenamePattern.test(filename)\n}\n\n/**\n * Returns whether or not the passed filename is a valid file asset filename\n *\n * @param filename - Filename to validate\n * @returns Whether or not the filename is a file asset filename\n * @public\n */\nexport function isFileAssetFilename(filename: string): boolean {\n  return fileAssetFilenamePattern.test(filename)\n}\n\n/**\n * Returns whether or not the passed filename is a valid file or image asset filename\n *\n * @param filename - Filename to validate\n * @returns Whether or not the filename is an asset filename\n * @public\n */\nexport function isAssetFilename(filename: string): boolean {\n  return isImageAssetFilename(filename) || isFileAssetFilename(filename)\n}\n\n/**\n * Return whether or not the passed source is a file source\n *\n * @param src - Source to check\n * @returns Whether or not the given source is a file source\n * @public\n */\nexport function isFileSource(src: unknown): src is SanityFileSource {\n  const assetId = tryGetAssetDocumentId(src)\n  return assetId ? assetId.startsWith('file-') : false\n}\n\n/**\n * Return whether or not the passed source is an image source\n *\n * @param src - Source to check\n * @returns Whether or not the given source is an image source\n * @public\n */\nexport function isImageSource(src: unknown): src is SanityImageSource {\n  const assetId = tryGetAssetDocumentId(src)\n  return assetId ? assetId.startsWith('image-') : false\n}\n","import {getAssetUrlType} from './parse.js'\n\n/**\n * Checks whether or not a given URL is a valid Sanity asset URL\n *\n * @param url - URL to test\n * @returns True if url is a valid Sanity asset URL, false otherwise\n * @public\n */\nexport function isSanityAssetUrl(url: string): boolean {\n  return getAssetUrlType(url) !== false\n}\n\n/**\n * Checks whether or not a given URL is a valid Sanity image asset URL\n *\n * @param url - URL to test\n * @returns True if url is a valid Sanity image asset URL, false otherwise\n * @public\n */\nexport function isSanityImageUrl(url: string): boolean {\n  return getAssetUrlType(url) === 'image'\n}\n\n/**\n * Checks whether or not a given URL is a valid Sanity file asset URL\n *\n * @param url - URL to test\n * @returns True if url is a valid Sanity file asset URL, false otherwise\n * @public\n */\nexport function isSanityFileUrl(url: string): boolean {\n  return getAssetUrlType(url) === 'file'\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8]}},
    {"offset": {"line": 9003, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9008, "column": 0}, "map": {"version":3,"file":"parseAssetId.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/image-url/src/parseAssetId.ts"],"sourcesContent":["unable to read source [project]/node_modules/@sanity/image-url/src/parseAssetId.ts"],"names":[],"mappings":";;;;AAAA,IAAM,OAAO,GAAG,8CAA8C,CAAA;AAE9D,SAAwB,YAAY,CAAC,GAAW;IACxC,IAAA,KAAkC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,EAA7C,EAAE,GAAA,EAAA,CAAA,EAAA,EAAE,eAAe,GAAA,EAAA,CAAA,EAAA,EAAE,MAAM,GAAA,EAAA,CAAA,EAAkB,CAAA;IAEtD,IAAI,CAAC,EAAE,IAAI,CAAC,eAAe,IAAI,CAAC,MAAM,EAAE;QACtC,MAAM,IAAI,KAAK,CAAC,yBAAA,MAAA,CAAyB,GAAG,EAAA,6BAAA,MAAA,CAA2B,OAAO,EAAA,MAAI,CAAC,CAAA;KACpF;IAEK,IAAA,KAA8B,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,EAAvD,WAAW,GAAA,EAAA,CAAA,EAAA,EAAE,YAAY,GAAA,EAAA,CAAA,EAA8B,CAAA;IAE9D,IAAM,KAAK,GAAG,CAAC,WAAW,CAAA;IAC1B,IAAM,MAAM,GAAG,CAAC,YAAY,CAAA;IAE5B,IAAM,cAAc,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAA;IAC1D,IAAI,CAAC,cAAc,EAAE;QACnB,MAAM,IAAI,KAAK,CAAC,yBAAA,MAAA,CAAyB,GAAG,EAAA,6BAAA,MAAA,CAA2B,OAAO,EAAA,MAAI,CAAC,CAAA;KACpF;IAED,OAAO;QAAC,EAAE,EAAA,EAAA;QAAE,KAAK,EAAA,KAAA;QAAE,MAAM,EAAA,MAAA;QAAE,MAAM,EAAA,MAAA;IAAA,CAAC,CAAA;AACpC,CAAC;AAlBD,QAAA,OAAA,GAAA,aAkBC","ignoreList":[0]}},
    {"offset": {"line": 9033, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9038, "column": 0}, "map": {"version":3,"file":"parseSource.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/image-url/src/parseSource.ts"],"sourcesContent":["unable to read source [project]/node_modules/@sanity/image-url/src/parseSource.ts"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9159, "column": 0}, "map": {"version":3,"file":"urlForImage.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/image-url/src/urlForImage.ts"],"sourcesContent":["unable to read source [project]/node_modules/@sanity/image-url/src/urlForImage.ts"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9414, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9419, "column": 0}, "map": {"version":3,"file":"builder.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/image-url/src/builder.ts"],"sourcesContent":["unable to read source [project]/node_modules/@sanity/image-url/src/builder.ts"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9759, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9764, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/image-url/src/index.ts"],"sourcesContent":["unable to read source [project]/node_modules/@sanity/image-url/src/index.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,YAAA,sCAA+B;AAE/B,OAAA,OAAA,GAAS,UAAA,OAAO,CAAA","ignoreList":[0]}},
    {"offset": {"line": 9772, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9778, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/createSessionId.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/createTraceId.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/utils/trimErrorMessage.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/createStore.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/createBatchedStore.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/defineEvent.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/defineTrace.ts"],"sourcesContent":["import {typeid} from 'typeid-js'\n\n/**\n * @public\n */\nexport type SessionId = string & {__type: 'SessionId'}\n\nexport function createSessionId(): SessionId {\n  return typeid('session').toString() as SessionId\n}\n","import {typeid} from 'typeid-js'\n\n/**\n * @public\n */\nexport type TraceId = string & {__type: 'TraceId'}\n\nexport function createTraceId(): TraceId {\n  return typeid('trace').toString() as TraceId\n}\n","function splitAt(str: string, index: number) {\n  return index < 1 ? [str, ''] : [str.substring(0, index), str.substring(index)]\n}\n\nconst MAX_LENGTH = 1024\n\nexport function trimErrorMessage(errorMessage: string) {\n  const newLineIndex = errorMessage.indexOf('\\n')\n  const splitIndex =\n    newLineIndex === -1 ? MAX_LENGTH : Math.min(newLineIndex, MAX_LENGTH)\n  const [first, rest] = splitAt(errorMessage, splitIndex)\n\n  return first + (rest ? `… (+${rest.length})` : '')\n}\n","import {\n  DefinedTelemetryLog,\n  DefinedTelemetryTrace,\n  TelemetryEvent,\n  TelemetryLogEvent,\n  TelemetryLogger,\n  TelemetryTrace,\n  TelemetryTraceEvent,\n} from './types'\nimport {Observable, Subject} from 'rxjs'\nimport {SessionId} from './createSessionId'\nimport {createTraceId} from './createTraceId'\nimport {trimErrorMessage} from './utils/trimErrorMessage'\n\n/**\n * Bare-bones store for logging and reacting to telemetry events\n * @internal\n * @param sessionId\n */\nexport function createStore<UserProperties>(sessionId: SessionId): {\n  events$: Observable<TelemetryEvent>\n  logger: TelemetryLogger<UserProperties>\n} {\n  const logEntries$ = new Subject<TelemetryEvent>()\n\n  function pushTraceError<Data, Err extends {message: string}>(\n    traceId: string,\n    telemetryTrace: DefinedTelemetryTrace<Data>,\n    error: {message: string},\n    context: unknown,\n  ) {\n    logEntries$.next({\n      sessionId,\n      type: 'trace.error',\n      traceId,\n      name: telemetryTrace.name,\n      version: telemetryTrace.version,\n      data: {message: trimErrorMessage(error.message)},\n      context,\n      createdAt: new Date().toISOString(),\n    })\n  }\n\n  function pushTraceEntry<Data>(\n    type: 'trace.start',\n    traceId: string,\n    telemetryTrace: DefinedTelemetryTrace<Data>,\n    data: undefined,\n    context: unknown,\n  ): void\n  function pushTraceEntry<Data>(\n    type: 'trace.log',\n    traceId: string,\n    telemetryTrace: DefinedTelemetryTrace<Data>,\n    data: Data,\n    context: unknown,\n  ): void\n  function pushTraceEntry<Data>(\n    type: 'trace.complete',\n    traceId: string,\n    telemetryTrace: DefinedTelemetryTrace<Data>,\n    data: Data,\n    context: unknown,\n  ): void\n\n  function pushTraceEntry<Data>(\n    type: TelemetryTraceEvent['type'],\n    traceId: string,\n    telemetryTrace: DefinedTelemetryTrace<Data>,\n    data: Data,\n    context: unknown,\n  ) {\n    logEntries$.next({\n      sessionId,\n      type,\n      traceId,\n      name: telemetryTrace.name,\n      version: telemetryTrace.version,\n      data,\n      context,\n      createdAt: new Date().toISOString(),\n    })\n  }\n\n  function pushLogEntry<Data>(\n    type: TelemetryLogEvent['type'],\n    event: DefinedTelemetryLog<Data>,\n    data?: unknown,\n  ) {\n    logEntries$.next({\n      sessionId,\n      type,\n      version: event.version,\n      name: event.name,\n      data,\n      createdAt: new Date().toISOString(),\n    })\n  }\n\n  function pushUserPropertiesEntry(properties: UserProperties) {\n    logEntries$.next({\n      sessionId,\n      type: 'userProperties',\n      properties: properties,\n      createdAt: new Date().toISOString(),\n    })\n  }\n\n  function createTrace<Data = void>(\n    traceId: string,\n    traceDef: DefinedTelemetryTrace<Data>,\n    context: unknown,\n  ): TelemetryTrace<UserProperties, Data> {\n    return {\n      start() {\n        pushTraceEntry('trace.start', traceId, traceDef, undefined, context)\n      },\n      newContext(name: string): TelemetryLogger<UserProperties> {\n        return {\n          trace<InnerData>(innerTraceDef: DefinedTelemetryTrace<InnerData>) {\n            return createTrace<InnerData>(\n              `${traceId}.${name}`,\n              innerTraceDef,\n              context,\n            )\n          },\n          updateUserProperties() {},\n          log,\n        }\n      },\n      log(data?: unknown) {\n        pushTraceEntry('trace.log', traceId, traceDef, data, context)\n      },\n      complete() {\n        pushTraceEntry('trace.complete', traceId, traceDef, undefined, context)\n      },\n      error(error: {message: string}) {\n        pushTraceError(traceId, traceDef, error, context)\n      },\n      await<P extends Promise<Data>>(promise: P, data?: Data): P {\n        this.start()\n        promise.then(\n          (result) => {\n            this.log(data ? data : result)\n            this.complete()\n            return result\n          },\n          (error) => {\n            this.error(error)\n            throw error\n          },\n        )\n        return promise\n      },\n    }\n  }\n\n  function log<Data>(event: DefinedTelemetryLog<Data>, data?: Data) {\n    pushLogEntry('log', event, data)\n  }\n\n  return {\n    events$: logEntries$.asObservable(),\n    logger: {\n      updateUserProperties(properties: UserProperties) {\n        pushUserPropertiesEntry(properties)\n      },\n      trace: <Data>(\n        traceDef: DefinedTelemetryTrace<Data>,\n        context: unknown,\n      ) => {\n        const traceId = createTraceId()\n        return createTrace(traceId, traceDef, context)\n      },\n      log,\n    },\n  }\n}\n","import {TelemetryEvent, TelemetryStore} from './types'\nimport {\n  catchError,\n  combineLatest,\n  combineLatestAll,\n  concatMap,\n  EMPTY,\n  from,\n  lastValueFrom,\n  map,\n  mergeMap,\n  Observable,\n  of,\n  tap,\n  throttle,\n} from 'rxjs'\nimport {SessionId} from './createSessionId'\nimport {createStore} from './createStore'\n\n/**\n * This is like rxjs.timer() except for that it's calling timeout.unref()\n * This prevents the timer from keeping the event loop active https://nodejs.org/api/timers.html#timeoutunref\n * We don't want any of our timers to hold up the process from completing\n * @param ms\n */\nconst unrefTimer = (ms: number) =>\n  new Observable((subscriber) => {\n    const timeout = setTimeout(() => {\n      subscriber.next()\n      subscriber.complete()\n    }, ms)\n    if (typeof timeout.unref === 'function') {\n      // unref the timeout to avoid holding the process open in node.js\n      timeout.unref()\n    }\n    return () => clearTimeout(timeout)\n  })\n\n/**\n * 'unknown' - we don't know if the user has consented or not (e.g. something went wrong)\n * 'unset' - the user has not yet been asked for consent\n * 'granted' - the user has consented\n * 'denied' - the user has denied consent\n */\nexport type ConsentStatus = 'undetermined' | 'unset' | 'granted' | 'denied'\n\nexport interface CreateBatchedStoreOptions {\n  /**\n   * Optionally provide a flush interval\n   */\n  flushInterval?: number\n\n  /**\n   *  Provide a strategy for resolving consent depending on context (e.g. studio/cli)\n   *  @public\n   */\n  resolveConsent: () => Promise<{status: ConsentStatus}>\n  /**\n   * Provide a strategy for submitting events (e.g. using fetch in browser, or node server side)\n   * @public\n   */\n  sendEvents: (events: TelemetryEvent[]) => Promise<unknown>\n\n  /**\n   * Optionally provide a strategy for submitting final events (e.g. events that's queued when the browser exits)\n   * @public\n   */\n  sendBeacon?: (events: TelemetryEvent[]) => boolean\n}\n\nexport function createBatchedStore<UserProperties>(\n  sessionId: SessionId,\n  options: CreateBatchedStoreOptions,\n): TelemetryStore<UserProperties> {\n  const store = createStore<UserProperties>(sessionId)\n\n  function resolveConsent(): Promise<{status: ConsentStatus}> {\n    return options.resolveConsent().catch((err) =>\n      // if we for some reason can't fetch consent we treat it as \"undetermined\", and try again at next flush\n      ({status: 'undetermined' as const}),\n    )\n  }\n\n  const _buffer: TelemetryEvent[] = []\n\n  function consume() {\n    const buf = _buffer.slice()\n    _buffer.length = 0\n    return buf\n  }\n\n  function submit() {\n    const pending = consume()\n    if (pending.length === 0) {\n      return EMPTY\n    }\n    return combineLatest([of(pending), resolveConsent()]).pipe(\n      mergeMap(([events, consent]) => {\n        if (events.length === 0 || consent.status !== 'granted') {\n          // consent is not granted, we just consumed (cleared) the buffer so we can return empty\n          return EMPTY\n        }\n        return from(options.sendEvents(events)).pipe(\n          catchError((err) => {\n            // In case of error, put events back on the buffer\n            _buffer.unshift(...events)\n            // and ignore the error\n            return EMPTY\n          }),\n        )\n      }),\n    )\n  }\n\n  const flushInterval = options.flushInterval ?? 30000\n\n  const flush$ = store.events$.pipe(\n    tap((ev) => _buffer.push(ev)),\n    map(() => {}), // void to avoid accidental use of events further down the pipe\n    throttle(() => unrefTimer(flushInterval), {\n      leading: false,\n      trailing: true,\n    }),\n    concatMap(() => submit()),\n  )\n\n  function flush() {\n    return lastValueFrom(submit(), {\n      defaultValue: undefined,\n    }).then(() => {})\n  }\n\n  // start subscribing to events\n  const subscription = flush$.subscribe()\n\n  function endWithBeacon() {\n    if (!options.sendBeacon) {\n      // we don't have a beacon strategy, so we just flush - this may make us lose events, but it's the best we can do\n      end()\n      return true\n    }\n    const events = consume()\n    subscription.unsubscribe()\n    return events.length > 0 ? options.sendBeacon(events) : true\n  }\n\n  function end() {\n    // flush before destroying\n    return flush()\n      .then(\n        () => {}, // void promise\n        () => {}, // ignore errors\n      )\n      .finally(() => {\n        // Note: we might end up with an error here\n        subscription.unsubscribe()\n      })\n  }\n\n  return {\n    end,\n    endWithBeacon,\n    // Note: flush may fail\n    flush,\n    logger: store.logger,\n  }\n}\n","import {DefinedTelemetryLog, TelemetryLogOptions} from './types'\n\n/**\n * @param options\n */\nexport function defineEvent<Data = void>(\n  options: TelemetryLogOptions,\n): DefinedTelemetryLog<Data> {\n  return {\n    type: 'log',\n    name: options.name,\n    version: options.version,\n    description: options.description,\n    schema: undefined as unknown as Data,\n  }\n}\n","import {DefinedTelemetryTrace, TelemetryTraceOptions} from './types'\n\n/**\n * @param options\n * */\nexport function defineTrace<Data = void, Context = void>(\n  options: TelemetryTraceOptions,\n): DefinedTelemetryTrace<Data, Context> {\n  return {\n    type: 'trace',\n    name: options.name,\n    version: options.version,\n    description: options.description,\n    schema: undefined as unknown as Data,\n    context: undefined as unknown as Context,\n  }\n}\n"],"names":["createSessionId","typeid","toString","createTraceId","splitAt","str","index","substring","MAX_LENGTH","trimErrorMessage","errorMessage","newLineIndex","indexOf","splitIndex","Math","min","first","rest","concat","length","createStore","sessionId","logEntries$","Subject","pushTraceError","traceId","telemetryTrace","error","context","next","type","name","version","data","message","createdAt","Date","toISOString","pushTraceEntry","pushLogEntry","event","pushUserPropertiesEntry","properties","createTrace","traceDef","start","newContext","trace","innerTraceDef","updateUserProperties","log","complete","await","promise","then","result","events$","asObservable","logger","unrefTimer","ms","Observable","subscriber","timeout","setTimeout","unref","clearTimeout","createBatchedStore","options","_a","store","resolveConsent","catch","err","status","_buffer","consume","buf","slice","submit","pending","EMPTY","combineLatest","of","pipe","mergeMap","_ref","events","consent","from","sendEvents","catchError","unshift","flushInterval","flush$","tap","ev","push","map","throttle","leading","trailing","concatMap","flush","lastValueFrom","defaultValue","subscription","subscribe","endWithBeacon","sendBeacon","end","unsubscribe","finally","defineEvent","description","schema","defineTrace"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6]}},
    {"offset": {"line": 10011, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10017, "column": 0}, "map": {"version":3,"file":"noopLogger-b5b1676e.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/utils/browserEvents.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/noopLogger.ts"],"sourcesContent":["import {TelemetryStore} from '@sanity/telemetry'\n\nconst capture = {capture: true}\n\nfunction listen(target: EventTarget, type: string, cb: () => void) {\n  target.addEventListener(type, cb, capture)\n  return () => target.removeEventListener(type, cb, capture)\n}\n\nexport function onPageHide(listener: () => void) {\n  // prefer pagehide to unload event\n  if ('onpagehide' in window) {\n    return listen(window, 'pagehide', listener)\n  }\n  // only register beforeunload/unload in browsers that don't support\n  // pagehide to avoid breaking bfcache\n  const cleanupUnload = listen(window, 'unload', listener)\n  const cleanupBeforeUnload = listen(window, 'unload', listener)\n  return () => {\n    cleanupUnload()\n    cleanupBeforeUnload()\n  }\n}\n\nexport function onVisibilityHidden(cb: () => void) {\n  return listen(document, 'visibilitychange', () => {\n    if (document.visibilityState === 'hidden') {\n      cb()\n    }\n  })\n}\n\nexport function registerLifecycleEvents(store: TelemetryStore<unknown>) {\n  const unregisterVisibilityHidden = onVisibilityHidden(() => store.flush())\n  const unregisterPageHide = onPageHide(() => store.endWithBeacon())\n  return () => {\n    unregisterPageHide()\n    unregisterVisibilityHidden()\n  }\n}\n","import {DefinedTelemetryTrace, TelemetryLogger, TelemetryTrace} from './types'\n\nfunction createNoopLogger(): TelemetryLogger<unknown> {\n  const logger = {\n    updateUserProperties() {},\n    trace,\n    log,\n  }\n  function trace(\n    telemetryTrace: DefinedTelemetryTrace<unknown, unknown>,\n  ): TelemetryTrace<unknown, unknown> {\n    return {\n      start() {},\n      log(data?: unknown) {},\n      complete() {},\n      newContext(name: string) {\n        return logger\n      },\n      error(error: Error) {},\n      await: (promise: Promise<unknown>) => promise,\n    }\n  }\n\n  function log(event: unknown, data?: unknown) {}\n\n  return logger\n}\n\nexport const noopLogger = createNoopLogger()\n"],"names":["capture","listen","target","type","cb","addEventListener","removeEventListener","onPageHide","listener","window","cleanupUnload","cleanupBeforeUnload","onVisibilityHidden","document","visibilityState","registerLifecycleEvents","store","unregisterVisibilityHidden","flush","unregisterPageHide","endWithBeacon","createNoopLogger","logger","updateUserProperties","trace","log","telemetryTrace","start","data","complete","newContext","name","error","await","promise","event","noopLogger"],"mappings":";;;;;;AAEA,MAAMA,OAAA,GAAU;IAACA,OAAA,EAAS;CAAI;AAE9B,SAASC,MAAAA,CAAOC,MAAqB,EAAAC,IAAA,EAAcC,EAAgB,EAAA;IAC1DF,MAAA,CAAAG,gBAAA,CAAiBF,IAAM,EAAAC,EAAA,EAAIJ,OAAO,CAAA;IACzC,OAAO,IAAME,MAAA,CAAOI,mBAAoB,CAAAH,IAAA,EAAMC,IAAIJ,OAAO,CAAA;AAC3D;AAEO,SAASO,WAAWC,QAAsB,EAAA;IAE/C,IAAI,gBAAgBC,MAAQ,EAAA;QACnB,OAAAR,MAAA,CAAOQ,MAAQ,EAAA,UAAA,EAAYD,QAAQ,CAAA;IAC5C;IAGA,MAAME,aAAgB,GAAAT,MAAA,CAAOQ,MAAQ,EAAA,QAAA,EAAUD,QAAQ,CAAA;IACvD,MAAMG,mBAAsB,GAAAV,MAAA,CAAOQ,MAAQ,EAAA,QAAA,EAAUD,QAAQ,CAAA;IAC7D,OAAO,MAAM;QACGE,aAAA,EAAA;QACMC,mBAAA,EAAA;IAAA,CACtB;AACF;AAEO,SAASC,mBAAmBR,EAAgB,EAAA;IAC1C,OAAAH,MAAA,CAAOY,QAAU,EAAA,kBAAA,EAAoB,MAAM;QAC5C,IAAAA,QAAA,CAASC,eAAAA,KAAoB,QAAU,EAAA;YACtCV,EAAA,EAAA;QACL;IAAA,CACD,CAAA;AACH;AAEO,SAASW,wBAAwBC,KAAgC,EAAA;IACtE,MAAMC,0BAA6B,GAAAL,kBAAA,CAAmB,IAAMI,KAAA,CAAME,KAAAA,CAAO,CAAA,CAAA;IACzE,MAAMC,kBAAqB,GAAAZ,UAAA,CAAW,IAAMS,KAAA,CAAMI,aAAAA,CAAe,CAAA,CAAA;IACjE,OAAO,MAAM;QACQD,kBAAA,EAAA;QACQF,0BAAA,EAAA;IAAA,CAC7B;AACF;ACrCA,SAASI,gBAA6CA,CAAA,EAAA;IACpD,MAAMC,MAAS,GAAA;QACbC,oBAAuBA,CAAA,EAAA,EAAC,CAAA;QACxBC,KAAA;QACAC;IAAA,CACF;IACA,SAASD,MACPE,cACkC,EAAA;QAC3B,OAAA;YACLC,KAAQA,CAAA,EAAA,EAAC,CAAA;YACTF,KAAIG,IAAgB,EAAA,CAAC,CAAA;YACrBC,QAAWA,CAAA,EAAA,EAAC,CAAA;YACZC,YAAWC,IAAc,EAAA;gBAChB,OAAAT,MAAA;YACT,CAAA;YACAU,OAAMA,KAAc,EAAA,CAAC,CAAA;YACrBC,KAAA,GAAQC,OAA8B,GAAAA;QAAA,CACxC;IACF;IAES,SAAAT,GAAAA,CAAIU,KAAAA,EAAgBP,IAAgB,EAAA,CAAC;IAEvC,OAAAN,MAAA;AACT;AAEO,MAAMc,aAAaf,gBAAiB,CAAA,CAAA","ignoreList":[0,1]}},
    {"offset": {"line": 10080, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10086, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/react/useTelemetryStoreLifeCycleEvents.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/react/TelemetryProvider.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/telemetry/src/react/useTelemetry.ts"],"sourcesContent":["import type {TelemetryStore} from '../types'\nimport {useEffect} from 'react'\nimport {onPageHide, onVisibilityHidden} from '../utils/browserEvents'\n\nexport function useTelemetryStoreLifeCycleEvents(\n  store: TelemetryStore<unknown>,\n) {\n  // when visibility changes to hidden, flush events, but continue tracking\n  useEffect(() => onVisibilityHidden(store.flush), [store.flush])\n  // when browser navigates away, closes or reloads the page, use provided sendBeacon method to send events\n  useEffect(() => onPageHide(store.endWithBeacon), [store.endWithBeacon])\n}\n","import type React from 'react'\nimport {createContext} from 'react'\nimport {TelemetryLogger, TelemetryStore} from '../types'\nimport {useTelemetryStoreLifeCycleEvents} from './useTelemetryStoreLifeCycleEvents'\nimport {noopLogger} from '../noopLogger'\n\n/**\n * @internal\n */\nexport const TelemetryLoggerContext =\n  createContext<TelemetryLogger<unknown>>(noopLogger)\n\nexport function TelemetryProvider<UserProperties>({\n  children,\n  store,\n}: {\n  children: React.ReactNode\n  store: TelemetryStore<UserProperties>\n}) {\n  // Hook the telemetry store up to page life cycle events like hide/unload\n  useTelemetryStoreLifeCycleEvents(store)\n\n  return (\n    <TelemetryLoggerContext.Provider value={store.logger}>\n      {children}\n    </TelemetryLoggerContext.Provider>\n  )\n}\n","import {useContext} from 'react'\nimport {TelemetryLoggerContext} from './TelemetryProvider'\nimport type {TelemetryLogger} from '../'\n\nexport function useTelemetry<\n  UserProperties,\n>(): TelemetryLogger<UserProperties> {\n  return useContext(TelemetryLoggerContext) as TelemetryLogger<UserProperties>\n}\n"],"names":["useTelemetryStoreLifeCycleEvents","store","useEffect","onVisibilityHidden","flush","onPageHide","endWithBeacon","TelemetryLoggerContext","createContext","noopLogger","TelemetryProvider","_ref","children","Provider","value","logger","useTelemetry","useContext"],"mappings":";;;;;;;;;;;AAIO,SAASA,iCACdC,KACA,EAAA;8MAEUC,YAAAA,AAAA,EAAA,2LAAMC,qBAAAA,EAAmBF,KAAM,CAAAG,KAAK,GAAG;QAACH,KAAA,CAAMG,KAAK;KAAC,CAAA;IAEpDF,sNAAAA,AAAA,EAAA,2LAAMG,aAAAA,EAAWJ,KAAM,CAAAK,aAAa,GAAG;QAACL,KAAA,CAAMK,aAAa;KAAC,CAAA;AACxE;ACFa,MAAAC,sBAAA,IACXC,yNAAAA,qLAAwCC,aAAU,CAAA;AAE7C,SAASC,iBAAkCA,CAAAC,IAAA,EAM/C;IAAA,IAN+C,EAChDC,QAAA,EACAX,KAAAA,EAIC,GAAAU,IAAA;IAEDX,gCAAA,CAAiCC,KAAK,CAAA;IAEtC,OAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EACGM,sBAAuB,CAAAM,QAAA,EAAvB;QAAgCC,KAAO,EAAAb,KAAA,CAAMc,MAAAA;QAC3CH;IACH,CAAA,CAAA;AAEJ;ACvBO,SAASI,YAEqBA,CAAA,EAAA;IACnC,iNAAOC,aAAAA,EAAWV,sBAAsB,CAAA;AAC1C","ignoreList":[0,1,2]}},
    {"offset": {"line": 10119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10134, "column": 0}, "map": {"version":3,"file":"index.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/debug.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/ImmutableAccessor.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/util.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/arrayToJSONMatchPath.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/descend.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/tokenize.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/parse.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/toPath.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/Expression.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/Descender.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/Matcher.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/PlainProbe.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/extractAccessors.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/extract.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/jsonpath/extractWithPath.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/DiffMatchPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/IncPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/util.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/InsertPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/SetIfMissingPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/SetPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/UnsetPatch.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/parse.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/patch/Patcher.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/luid.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/Mutation.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/Document.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/SquashingBuffer.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/mutator/src/document/BufferedDocument.ts"],"sourcesContent":["import debugIt from 'debug'\n\nexport const debug = debugIt('mutator-document')\n","import {type Probe} from '../jsonpath/Probe'\n\n/**\n * An immutable probe/writer for plain JS objects that will never mutate\n * the provided _value in place. Each setter returns a new (wrapped) version\n * of the value.\n */\nexport class ImmutableAccessor implements Probe {\n  _value: unknown\n  path: (string | number)[]\n\n  constructor(value: unknown, path?: (string | number)[]) {\n    this._value = value\n    this.path = path || []\n  }\n\n  containerType(): 'array' | 'object' | 'primitive' {\n    if (Array.isArray(this._value)) {\n      return 'array'\n    } else if (this._value !== null && typeof this._value === 'object') {\n      return 'object'\n    }\n    return 'primitive'\n  }\n\n  // Common reader, supported by all containers\n  get(): unknown {\n    return this._value\n  }\n\n  // Array reader\n  length(): number {\n    if (!Array.isArray(this._value)) {\n      throw new Error(\"Won't return length of non-indexable _value\")\n    }\n\n    return this._value.length\n  }\n\n  getIndex(i: number): ImmutableAccessor | false | null {\n    if (!Array.isArray(this._value)) {\n      return false\n    }\n\n    if (i >= this.length()) {\n      return null\n    }\n\n    return new ImmutableAccessor(this._value[i], this.path.concat(i))\n  }\n\n  // Object reader\n  hasAttribute(key: string): boolean {\n    return isRecord(this._value) ? this._value.hasOwnProperty(key) : false\n  }\n\n  attributeKeys(): string[] {\n    return isRecord(this._value) ? Object.keys(this._value) : []\n  }\n\n  getAttribute(key: string): ImmutableAccessor | null {\n    if (!isRecord(this._value)) {\n      throw new Error('getAttribute only applies to plain objects')\n    }\n\n    if (!this.hasAttribute(key)) {\n      return null\n    }\n\n    return new ImmutableAccessor(this._value[key], this.path.concat(key))\n  }\n\n  // Common writer, supported by all containers\n  set(value: unknown): ImmutableAccessor {\n    return value === this._value ? this : new ImmutableAccessor(value, this.path)\n  }\n\n  // array writer interface\n  setIndex(i: number, value: unknown): ImmutableAccessor {\n    if (!Array.isArray(this._value)) {\n      throw new Error('setIndex only applies to arrays')\n    }\n\n    if (Object.is(value, this._value[i])) {\n      return this\n    }\n\n    const nextValue = this._value.slice()\n    nextValue[i] = value\n    return new ImmutableAccessor(nextValue, this.path)\n  }\n\n  setIndexAccessor(i: number, accessor: ImmutableAccessor): ImmutableAccessor {\n    return this.setIndex(i, accessor.get())\n  }\n\n  unsetIndices(indices: number[]): ImmutableAccessor {\n    if (!Array.isArray(this._value)) {\n      throw new Error('unsetIndices only applies to arrays')\n    }\n\n    const length = this._value.length\n    const nextValue = []\n    // Copy every _value _not_ in the indices array over to the newValue\n    for (let i = 0; i < length; i++) {\n      if (indices.indexOf(i) === -1) {\n        nextValue.push(this._value[i])\n      }\n    }\n    return new ImmutableAccessor(nextValue, this.path)\n  }\n\n  insertItemsAt(pos: number, items: unknown[]): ImmutableAccessor {\n    if (!Array.isArray(this._value)) {\n      throw new Error('insertItemsAt only applies to arrays')\n    }\n\n    let nextValue\n    if (this._value.length === 0 && pos === 0) {\n      nextValue = items\n    } else {\n      nextValue = this._value.slice(0, pos).concat(items).concat(this._value.slice(pos))\n    }\n\n    return new ImmutableAccessor(nextValue, this.path)\n  }\n\n  // Object writer interface\n  setAttribute(key: string, value: unknown): ImmutableAccessor {\n    if (!isRecord(this._value)) {\n      throw new Error('Unable to set attribute of non-object container')\n    }\n\n    if (Object.is(value, this._value[key])) {\n      return this\n    }\n\n    const nextValue = Object.assign({}, this._value, {[key]: value})\n    return new ImmutableAccessor(nextValue, this.path)\n  }\n\n  setAttributeAccessor(key: string, accessor: ImmutableAccessor): ImmutableAccessor {\n    return this.setAttribute(key, accessor.get())\n  }\n\n  unsetAttribute(key: string): ImmutableAccessor {\n    if (!isRecord(this._value)) {\n      throw new Error('Unable to unset attribute of non-object container')\n    }\n\n    const nextValue = Object.assign({}, this._value)\n    delete nextValue[key]\n    return new ImmutableAccessor(nextValue, this.path)\n  }\n}\n\nfunction isRecord(value: unknown): value is {[key: string]: unknown} {\n  return value !== null && typeof value === 'object'\n}\n","export function isRecord(value: unknown): value is {[key: string]: unknown} {\n  return value !== null && typeof value === 'object'\n}\n","import {type Path, type PathSegment} from '@sanity/types'\n\nimport {isRecord} from '../util'\n\nconst IS_DOTTABLE = /^[a-z_$]+/\n\n/**\n * Converts a path in array form to a JSONPath string\n *\n * @param pathArray - Array of path segments\n * @returns String representation of the path\n * @internal\n */\nexport function arrayToJSONMatchPath(pathArray: Path): string {\n  let path = ''\n  pathArray.forEach((segment, index) => {\n    path += stringifySegment(segment, index === 0)\n  })\n  return path\n}\n\n// Converts an array of simple values (strings, numbers only) to a jsonmatch path string.\nfunction stringifySegment(\n  segment: PathSegment | Record<string, unknown>,\n  hasLeading: boolean,\n): string {\n  if (typeof segment === 'number') {\n    return `[${segment}]`\n  }\n\n  if (isRecord(segment)) {\n    const seg = segment as Record<string, unknown>\n    return Object.keys(segment)\n      .map((key) => (isPrimitiveValue(seg[key]) ? `[${key}==\"${seg[key]}\"]` : ''))\n      .join('')\n  }\n\n  if (typeof segment === 'string' && IS_DOTTABLE.test(segment)) {\n    return hasLeading ? segment : `.${segment}`\n  }\n\n  return `['${segment}']`\n}\n\nfunction isPrimitiveValue(val: unknown): val is string | number | boolean {\n  switch (typeof val) {\n    case 'number':\n    case 'string':\n    case 'boolean':\n      return true\n    default:\n      return false\n  }\n}\n","import {type Expr, type PathExpr} from './types'\n\n/**\n * Splits an expression into a set of heads, tails. A head is the next leaf node to\n * check for matches, and a tail is everything that follows it. Matching is done by\n * matching heads, then proceedint to the matching value, splitting the tail into\n * heads and tails and checking the heads against the new value, and so on.\n */\nexport function descend(tail: Expr): [Expr | null, PathExpr | null][] {\n  const [head, newTail] = splitIfPath(tail)\n  if (!head) {\n    throw new Error('Head cannot be null')\n  }\n\n  return spreadIfUnionHead(head, newTail)\n}\n\n// Split path in [head, tail]\nfunction splitIfPath(tail: Expr): [Expr | null, PathExpr | null] {\n  if (tail.type !== 'path') {\n    return [tail, null]\n  }\n\n  const nodes = tail.nodes\n  if (nodes.length === 0) {\n    return [null, null]\n  }\n\n  if (nodes.length === 1) {\n    return [nodes[0], null]\n  }\n\n  return [nodes[0], {type: 'path', nodes: nodes.slice(1)}]\n}\n\nfunction concatPaths(path1: PathExpr | null, path2: PathExpr | null): PathExpr | null {\n  if (!path1 && !path2) {\n    return null\n  }\n\n  const nodes1 = path1 ? path1.nodes : []\n  const nodes2 = path2 ? path2.nodes : []\n  return {\n    type: 'path',\n    nodes: nodes1.concat(nodes2),\n  }\n}\n\n// Spreads a union head into several heads/tails\nfunction spreadIfUnionHead(head: Expr, tail: PathExpr | null): [Expr | null, PathExpr | null][] {\n  if (head.type !== 'union') {\n    return [[head, tail]]\n  }\n\n  return head.nodes.map((node) => {\n    if (node.type === 'path') {\n      const [subHead, subTail] = splitIfPath(node)\n      return [subHead, concatPaths(subTail, tail)]\n    }\n\n    return [node, tail]\n  })\n}\n","import {\n  type IdentifierToken,\n  type NumberToken,\n  type QuotedToken,\n  type SymbolClass,\n  type SymbolToken,\n  type Token,\n} from './types'\n\n// TODO: Support '*'\n\nconst digitChar = /[0-9]/\nconst attributeCharMatcher = /^[a-zA-Z0-9_]$/\nconst attributeFirstCharMatcher = /^[a-zA-Z_]$/\n\nconst symbols: Record<SymbolClass, string[]> = {\n  // NOTE: These are compared against in order of definition,\n  // thus '==' must come before '=', '>=' before '>', etc.\n  operator: ['..', '.', ',', ':', '?'],\n  comparator: ['>=', '<=', '<', '>', '==', '!='],\n  keyword: ['$', '@'],\n  boolean: ['true', 'false'],\n  paren: ['[', ']'],\n}\n\nconst symbolClasses = Object.keys(symbols) as SymbolClass[]\n\ntype TokenizerFn = () => Token | null\n\n/**\n * Tokenizes a jsonpath2 expression\n */\nclass Tokenizer {\n  source: string\n  i: number\n  length: number\n  tokenizers: TokenizerFn[]\n\n  constructor(path: string) {\n    this.source = path\n    this.length = path.length\n    this.i = 0\n    this.tokenizers = [\n      this.tokenizeSymbol,\n      this.tokenizeIdentifier,\n      this.tokenizeNumber,\n      this.tokenizeQuoted,\n    ].map((fn) => fn.bind(this))\n  }\n\n  tokenize(): Token[] {\n    const result: Token[] = []\n    while (!this.EOF()) {\n      this.chompWhitespace()\n      let token: Token | null = null\n      // @todo refactor into a simpler `.find()`?\n      const found = this.tokenizers.some((tokenizer) => {\n        token = tokenizer()\n        return Boolean(token)\n      })\n      if (!found || !token) {\n        throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`)\n      }\n      result.push(token)\n    }\n    return result\n  }\n\n  takeWhile(fn: (character: string) => string | null): string | null {\n    const start = this.i\n    let result = ''\n    while (!this.EOF()) {\n      const nextChar = fn(this.source[this.i])\n      if (nextChar === null) {\n        break\n      }\n      result += nextChar\n      this.i++\n    }\n    if (this.i === start) {\n      return null\n    }\n    return result\n  }\n\n  EOF(): boolean {\n    return this.i >= this.length\n  }\n\n  peek(): string | null {\n    if (this.EOF()) {\n      return null\n    }\n    return this.source[this.i]\n  }\n\n  consume(str: string) {\n    if (this.i + str.length > this.length) {\n      throw new Error(`Expected ${str} at end of jsonpath`)\n    }\n    if (str === this.source.slice(this.i, this.i + str.length)) {\n      this.i += str.length\n    } else {\n      throw new Error(`Expected \"${str}\", but source contained \"${this.source.slice()}`)\n    }\n  }\n\n  // Tries to match the upcoming bit of string with the provided string. If it matches, returns\n  // the string, then advances the read pointer to the next bit. If not, returns null and nothing\n  // happens.\n  tryConsume(str: string) {\n    if (this.i + str.length > this.length) {\n      return null\n    }\n    if (str === this.source.slice(this.i, this.i + str.length)) {\n      // When checking symbols that consist of valid attribute characters, we\n      // need to make sure we don't inadvertently treat an attribute as a\n      // symbol. For example, an attribute 'trueCustomerField' should not be\n      // scanned as the boolean symbol \"true\".\n      if (str[0].match(attributeCharMatcher)) {\n        // check that char following the symbol match is not also an attribute char\n        if (this.length > this.i + str.length) {\n          const nextChar = this.source[this.i + str.length]\n          if (nextChar && nextChar.match(attributeCharMatcher)) {\n            return null\n          }\n        }\n      }\n      this.i += str.length\n      return str\n    }\n    return null\n  }\n\n  chompWhitespace(): void {\n    this.takeWhile((char): string | null => {\n      return char === ' ' ? '' : null\n    })\n  }\n\n  tokenizeQuoted(): QuotedToken | null {\n    const quote = this.peek()\n    if (quote === \"'\" || quote === '\"') {\n      this.consume(quote)\n      let escape = false\n      const inner = this.takeWhile((char) => {\n        if (escape) {\n          escape = false\n          return char\n        }\n        if (char === '\\\\') {\n          escape = true\n          return ''\n        }\n        if (char != quote) {\n          return char\n        }\n        return null\n      })\n      this.consume(quote)\n      return {\n        type: 'quoted',\n        value: inner,\n        quote: quote === '\"' ? 'double' : 'single',\n      }\n    }\n    return null\n  }\n\n  tokenizeIdentifier(): IdentifierToken | null {\n    let first = true\n    const identifier = this.takeWhile((char) => {\n      if (first) {\n        first = false\n        return char.match(attributeFirstCharMatcher) ? char : null\n      }\n      return char.match(attributeCharMatcher) ? char : null\n    })\n    if (identifier !== null) {\n      return {\n        type: 'identifier',\n        name: identifier,\n      }\n    }\n    return null\n  }\n\n  tokenizeNumber(): NumberToken | null {\n    const start = this.i\n    let dotSeen = false\n    let digitSeen = false\n    let negative = false\n    if (this.peek() === '-') {\n      negative = true\n      this.consume('-')\n    }\n    const number = this.takeWhile((char) => {\n      if (char === '.' && !dotSeen && digitSeen) {\n        dotSeen = true\n        return char\n      }\n      digitSeen = true\n      return char.match(digitChar) ? char : null\n    })\n    if (number !== null) {\n      return {\n        type: 'number',\n        value: negative ? -number : +number,\n        raw: negative ? `-${number}` : number,\n      }\n    }\n    // No number, rewind\n    this.i = start\n    return null\n  }\n\n  tokenizeSymbol(): SymbolToken | null {\n    for (const symbolClass of symbolClasses) {\n      const patterns = symbols[symbolClass]\n      const symbol = patterns.find((pattern) => this.tryConsume(pattern))\n      if (symbol) {\n        return {\n          type: symbolClass,\n          symbol,\n        }\n      }\n    }\n\n    return null\n  }\n}\n\nexport function tokenize(jsonpath: string): Token[] {\n  return new Tokenizer(jsonpath).tokenize()\n}\n","// Converts a string into an abstract syntax tree representation\n\nimport {tokenize} from './tokenize'\nimport {\n  type AliasExpr,\n  type AttributeExpr,\n  type BooleanExpr,\n  type ConstraintExpr,\n  type IndexExpr,\n  type NumberExpr,\n  type PathExpr,\n  type RangeExpr,\n  type RecursiveExpr,\n  type StringExpr,\n  type Token,\n  type UnionExpr,\n} from './types'\n\n// TODO: Support '*'\n\nclass Parser {\n  tokens: Token[]\n  length: number\n  i: number\n\n  constructor(path: string) {\n    this.tokens = tokenize(path)\n    this.length = this.tokens.length\n    this.i = 0\n  }\n\n  parse() {\n    return this.parsePath()\n  }\n\n  EOF() {\n    return this.i >= this.length\n  }\n\n  // Look at upcoming token\n  peek() {\n    if (this.EOF()) {\n      return null\n    }\n    return this.tokens[this.i]\n  }\n\n  consume() {\n    const result = this.peek()\n    this.i += 1\n    return result\n  }\n\n  // Return next token if it matches the pattern\n  probe(pattern: Record<string, unknown>): Token | null {\n    const token = this.peek()\n    if (!token) {\n      return null\n    }\n\n    const record = token as unknown as Record<string, unknown>\n    const match = Object.keys(pattern).every((key) => {\n      return key in token && pattern[key] === record[key]\n    })\n\n    return match ? token : null\n  }\n\n  // Return and consume next token if it matches the pattern\n  match(pattern: Partial<Token>): Token | null {\n    return this.probe(pattern) ? this.consume() : null\n  }\n\n  parseAttribute(): AttributeExpr | null {\n    const token = this.match({type: 'identifier'})\n    if (token && token.type === 'identifier') {\n      return {\n        type: 'attribute',\n        name: token.name,\n      }\n    }\n    const quoted = this.match({type: 'quoted', quote: 'single'})\n    if (quoted && quoted.type === 'quoted') {\n      return {\n        type: 'attribute',\n        name: quoted.value || '',\n      }\n    }\n    return null\n  }\n\n  parseAlias(): AliasExpr | null {\n    if (this.match({type: 'keyword', symbol: '@'}) || this.match({type: 'keyword', symbol: '$'})) {\n      return {\n        type: 'alias',\n        target: 'self',\n      }\n    }\n    return null\n  }\n\n  parseNumber(): NumberExpr | null {\n    const token = this.match({type: 'number'})\n    if (token && token.type === 'number') {\n      return {\n        type: 'number',\n        value: token.value,\n      }\n    }\n    return null\n  }\n\n  parseNumberValue(): number | null {\n    const expr = this.parseNumber()\n    if (expr) {\n      return expr.value\n    }\n    return null\n  }\n\n  parseSliceSelector(): RangeExpr | IndexExpr | null {\n    const start = this.i\n    const rangeStart = this.parseNumberValue()\n\n    const colon1 = this.match({type: 'operator', symbol: ':'})\n    if (!colon1) {\n      if (rangeStart === null) {\n        // Rewind, this was actually nothing\n        this.i = start\n        return null\n      }\n\n      // Unwrap, this was just a single index not followed by colon\n      return {type: 'index', value: rangeStart}\n    }\n\n    const result: RangeExpr = {\n      type: 'range',\n      start: rangeStart,\n      end: this.parseNumberValue(),\n    }\n\n    const colon2 = this.match({type: 'operator', symbol: ':'})\n    if (colon2) {\n      result.step = this.parseNumberValue()\n    }\n\n    if (result.start === null && result.end === null) {\n      // rewind, this wasnt' a slice selector\n      this.i = start\n      return null\n    }\n\n    return result\n  }\n\n  parseValueReference(): AttributeExpr | RangeExpr | IndexExpr | null {\n    return this.parseAttribute() || this.parseSliceSelector()\n  }\n\n  parseLiteralValue(): StringExpr | BooleanExpr | NumberExpr | null {\n    const literalString = this.match({type: 'quoted', quote: 'double'})\n    if (literalString && literalString.type === 'quoted') {\n      return {\n        type: 'string',\n        value: literalString.value || '',\n      }\n    }\n    const literalBoolean = this.match({type: 'boolean'})\n    if (literalBoolean && literalBoolean.type === 'boolean') {\n      return {\n        type: 'boolean',\n        value: literalBoolean.symbol === 'true',\n      }\n    }\n    return this.parseNumber()\n  }\n\n  // TODO: Reorder constraints so that literal value is always on rhs, and variable is always\n  // on lhs.\n  parseFilterExpression(): ConstraintExpr | null {\n    const start = this.i\n    const expr = this.parseAttribute() || this.parseAlias()\n    if (!expr) {\n      return null\n    }\n\n    if (this.match({type: 'operator', symbol: '?'})) {\n      return {\n        type: 'constraint',\n        operator: '?',\n        lhs: expr,\n      }\n    }\n\n    const binOp = this.match({type: 'comparator'})\n    if (!binOp || binOp.type !== 'comparator') {\n      // No expression, rewind!\n      this.i = start\n      return null\n    }\n\n    const lhs = expr\n    const rhs = this.parseLiteralValue()\n    if (!rhs) {\n      throw new Error(`Operator ${binOp.symbol} needs a literal value at the right hand side`)\n    }\n\n    return {\n      type: 'constraint',\n      operator: binOp.symbol,\n      lhs: lhs,\n      rhs: rhs,\n    }\n  }\n\n  parseExpression(): ConstraintExpr | AttributeExpr | RangeExpr | IndexExpr | null {\n    return this.parseFilterExpression() || this.parseValueReference()\n  }\n\n  parseUnion(): UnionExpr | null {\n    if (!this.match({type: 'paren', symbol: '['})) {\n      return null\n    }\n\n    const terms = []\n    let expr = this.parseFilterExpression() || this.parsePath() || this.parseValueReference()\n    while (expr) {\n      terms.push(expr)\n      // End of union?\n      if (this.match({type: 'paren', symbol: ']'})) {\n        break\n      }\n\n      if (!this.match({type: 'operator', symbol: ','})) {\n        throw new Error('Expected ]')\n      }\n\n      expr = this.parseFilterExpression() || this.parsePath() || this.parseValueReference()\n      if (!expr) {\n        throw new Error(\"Expected expression following ','\")\n      }\n    }\n\n    return {\n      type: 'union',\n      nodes: terms,\n    }\n  }\n\n  parseRecursive(): RecursiveExpr | null {\n    if (!this.match({type: 'operator', symbol: '..'})) {\n      return null\n    }\n\n    const subpath = this.parsePath()\n    if (!subpath) {\n      throw new Error(\"Expected path following '..' operator\")\n    }\n\n    return {\n      type: 'recursive',\n      term: subpath,\n    }\n  }\n\n  parsePath(): PathExpr | AttributeExpr | UnionExpr | RecursiveExpr | null {\n    const nodes: (AttributeExpr | UnionExpr | RecursiveExpr)[] = []\n    const expr = this.parseAttribute() || this.parseUnion() || this.parseRecursive()\n    if (!expr) {\n      return null\n    }\n\n    nodes.push(expr)\n    while (!this.EOF()) {\n      if (this.match({type: 'operator', symbol: '.'})) {\n        const attr = this.parseAttribute()\n        if (!attr) {\n          throw new Error(\"Expected attribute name following '.\")\n        }\n        nodes.push(attr)\n        continue\n      } else if (this.probe({type: 'paren', symbol: '['})) {\n        const union = this.parseUnion()\n        if (!union) {\n          throw new Error(\"Expected union following '['\")\n        }\n        nodes.push(union)\n      } else {\n        const recursive = this.parseRecursive()\n        if (recursive) {\n          nodes.push(recursive)\n        }\n        break\n      }\n    }\n\n    if (nodes.length === 1) {\n      return nodes[0]\n    }\n\n    return {\n      type: 'path',\n      nodes: nodes,\n    }\n  }\n}\n\nexport function parseJsonPath(path: string): PathExpr | AttributeExpr | UnionExpr | RecursiveExpr {\n  const parsed = new Parser(path).parse()\n  if (!parsed) {\n    throw new Error(`Failed to parse JSON path \"${path}\"`)\n  }\n  return parsed\n}\n","import {type Expr} from './types'\n\n/**\n * Converts a parsed expression back into jsonpath2, roughly -\n * mostly for use with tests.\n *\n * @param expr - Expression to convert to path\n * @returns a string representation of the path\n * @internal\n */\nexport function toPath(expr: Expr): string {\n  return toPathInner(expr, false)\n}\n\nfunction toPathInner(expr: Expr, inUnion: boolean): string {\n  switch (expr.type) {\n    case 'attribute':\n      return expr.name\n    case 'alias':\n      return expr.target === 'self' ? '@' : '$'\n    case 'number':\n      return `${expr.value}`\n    case 'range': {\n      const result = []\n      if (!inUnion) {\n        result.push('[')\n      }\n      if (expr.start) {\n        result.push(`${expr.start}`)\n      }\n      result.push(':')\n      if (expr.end) {\n        result.push(`${expr.end}`)\n      }\n      if (expr.step) {\n        result.push(`:${expr.step}`)\n      }\n      if (!inUnion) {\n        result.push(']')\n      }\n      return result.join('')\n    }\n    case 'index':\n      if (inUnion) {\n        return `${expr.value}`\n      }\n\n      return `[${expr.value}]`\n    case 'constraint': {\n      const rhs = expr.rhs ? ` ${toPathInner(expr.rhs, false)}` : ''\n      const inner = `${toPathInner(expr.lhs, false)} ${expr.operator}${rhs}`\n\n      if (inUnion) {\n        return inner\n      }\n\n      return `[${inner}]`\n    }\n    case 'string':\n      return JSON.stringify(expr.value)\n    case 'path': {\n      const result = []\n      const nodes = expr.nodes.slice()\n      while (nodes.length > 0) {\n        const node = nodes.shift()\n        if (node) {\n          result.push(toPath(node))\n        }\n\n        const upcoming = nodes[0]\n        if (upcoming && toPathInner(upcoming, false)[0] !== '[') {\n          result.push('.')\n        }\n      }\n      return result.join('')\n    }\n    case 'union':\n      return `[${expr.nodes.map((e) => toPathInner(e, true)).join(',')}]`\n    default:\n      throw new Error(`Unknown node type ${expr.type}`)\n    case 'recursive':\n      return `..${toPathInner(expr.term, false)}`\n  }\n}\n","// A utility wrapper class to process parsed jsonpath expressions\n\nimport {descend} from './descend'\nimport {parseJsonPath} from './parse'\nimport {type Probe} from './Probe'\nimport {toPath} from './toPath'\nimport {type Expr, type HeadTail} from './types'\n\nexport interface Range {\n  start: number\n  end: number\n  step: number\n}\n\nexport class Expression {\n  expr: Expr\n\n  constructor(expr: Expr | Expression | null) {\n    if (!expr) {\n      throw new Error('Attempted to create Expression from null-value')\n    }\n\n    // This is a wrapped expr\n    if ('expr' in expr) {\n      this.expr = expr.expr\n    } else {\n      this.expr = expr\n    }\n\n    if (!('type' in this.expr)) {\n      throw new Error('Attempt to create Expression for expression with no type')\n    }\n  }\n\n  isPath(): boolean {\n    return this.expr.type === 'path'\n  }\n\n  isUnion(): boolean {\n    return this.expr.type === 'union'\n  }\n\n  isCollection(): boolean {\n    return this.isPath() || this.isUnion()\n  }\n\n  isConstraint(): boolean {\n    return this.expr.type === 'constraint'\n  }\n\n  isRecursive(): boolean {\n    return this.expr.type === 'recursive'\n  }\n\n  isExistenceConstraint(): boolean {\n    return this.expr.type === 'constraint' && this.expr.operator === '?'\n  }\n\n  isIndex(): boolean {\n    return this.expr.type === 'index'\n  }\n\n  isRange(): boolean {\n    return this.expr.type === 'range'\n  }\n\n  expandRange(probe?: Probe): Range {\n    const probeLength = () => {\n      if (!probe) {\n        throw new Error('expandRange() required a probe that was not passed')\n      }\n\n      return probe.length()\n    }\n\n    let start = 'start' in this.expr ? this.expr.start || 0 : 0\n    start = interpretNegativeIndex(start, probe)\n    let end = 'end' in this.expr ? this.expr.end || probeLength() : probeLength()\n    end = interpretNegativeIndex(end, probe)\n    const step = 'step' in this.expr ? this.expr.step || 1 : 1\n    return {start, end, step}\n  }\n\n  isAttributeReference(): boolean {\n    return this.expr.type === 'attribute'\n  }\n\n  // Is a range or index -> something referencing indexes\n  isIndexReference(): boolean {\n    return this.isIndex() || this.isRange()\n  }\n\n  name(): string {\n    return 'name' in this.expr ? this.expr.name : ''\n  }\n\n  isSelfReference(): boolean {\n    return this.expr.type === 'alias' && this.expr.target === 'self'\n  }\n\n  constraintTargetIsSelf(): boolean {\n    return (\n      this.expr.type === 'constraint' &&\n      this.expr.lhs.type === 'alias' &&\n      this.expr.lhs.target === 'self'\n    )\n  }\n\n  constraintTargetIsAttribute(): boolean {\n    return this.expr.type === 'constraint' && this.expr.lhs.type === 'attribute'\n  }\n\n  testConstraint(probe: Probe): boolean {\n    const expr = this.expr\n\n    if (expr.type === 'constraint' && expr.lhs.type === 'alias' && expr.lhs.target === 'self') {\n      if (probe.containerType() !== 'primitive') {\n        return false\n      }\n\n      if (expr.type === 'constraint' && expr.operator === '?') {\n        return true\n      }\n\n      const lhs = probe.get()\n      const rhs = expr.rhs && 'value' in expr.rhs ? expr.rhs.value : undefined\n      return testBinaryOperator(lhs, expr.operator, rhs)\n    }\n\n    if (expr.type !== 'constraint') {\n      return false\n    }\n\n    const lhs = expr.lhs\n    if (!lhs) {\n      throw new Error('No LHS of expression')\n    }\n\n    if (lhs.type !== 'attribute') {\n      throw new Error(`Constraint target ${lhs.type} not supported`)\n    }\n\n    if (probe.containerType() !== 'object') {\n      return false\n    }\n\n    const lhsValue = probe.getAttribute(lhs.name)\n    if (lhsValue === undefined || lhsValue === null || lhsValue.containerType() !== 'primitive') {\n      // LHS is void and empty, or it is a collection\n      return false\n    }\n\n    if (this.isExistenceConstraint()) {\n      // There is no rhs, and if we're here the key did exist\n      return true\n    }\n\n    const rhs = expr.rhs && 'value' in expr.rhs ? expr.rhs.value : undefined\n    return testBinaryOperator(lhsValue.get(), expr.operator, rhs)\n  }\n\n  pathNodes(): Expr[] {\n    return this.expr.type === 'path' ? this.expr.nodes : [this.expr]\n  }\n\n  prepend(node: Expression): Expression {\n    if (!node) {\n      return this\n    }\n\n    return new Expression({\n      type: 'path',\n      nodes: node.pathNodes().concat(this.pathNodes()),\n    })\n  }\n\n  concat(other: Expression | null): Expression {\n    return other ? other.prepend(this) : this\n  }\n\n  descend(): HeadTail[] {\n    return descend(this.expr).map((headTail) => {\n      const [head, tail] = headTail\n      return {\n        head: head ? new Expression(head) : null,\n        tail: tail ? new Expression(tail) : null,\n      }\n    })\n  }\n\n  unwrapRecursive(): Expression {\n    if (this.expr.type !== 'recursive') {\n      throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`)\n    }\n\n    return new Expression(this.expr.term)\n  }\n\n  toIndicies(probe?: Probe): number[] {\n    if (this.expr.type !== 'index' && this.expr.type !== 'range') {\n      throw new Error('Node cannot be converted to indexes')\n    }\n\n    if (this.expr.type === 'index') {\n      return [interpretNegativeIndex(this.expr.value, probe)]\n    }\n\n    const result: number[] = []\n    const range = this.expandRange(probe)\n    let {start, end} = range\n    if (range.step < 0) {\n      ;[start, end] = [end, start]\n    }\n\n    for (let i = start; i < end; i++) {\n      result.push(i)\n    }\n\n    return result\n  }\n\n  toFieldReferences(): number[] | string[] {\n    if (this.isIndexReference()) {\n      return this.toIndicies()\n    }\n    if (this.expr.type === 'attribute') {\n      return [this.expr.name]\n    }\n    throw new Error(`Can't convert ${this.expr.type} to field references`)\n  }\n\n  toString(): string {\n    return toPath(this.expr)\n  }\n\n  static fromPath(path: string): Expression {\n    const parsed = parseJsonPath(path)\n    if (!parsed) {\n      throw new Error(`Failed to parse path \"${path}\"`)\n    }\n\n    return new Expression(parsed)\n  }\n\n  static attributeReference(name: string): Expression {\n    return new Expression({\n      type: 'attribute',\n      name: name,\n    })\n  }\n\n  static indexReference(i: number): Expression {\n    return new Expression({\n      type: 'index',\n      value: i,\n    })\n  }\n}\n\n// Tests an operator on two given primitive values\nfunction testBinaryOperator(lhsValue: any, operator: string, rhsValue: any) {\n  switch (operator) {\n    case '>':\n      return lhsValue > rhsValue\n    case '>=':\n      return lhsValue >= rhsValue\n    case '<':\n      return lhsValue < rhsValue\n    case '<=':\n      return lhsValue <= rhsValue\n    case '==':\n      return lhsValue === rhsValue\n    case '!=':\n      return lhsValue !== rhsValue\n    default:\n      throw new Error(`Unsupported binary operator ${operator}`)\n  }\n}\n\nfunction interpretNegativeIndex(index: number, probe?: Probe): number {\n  if (index >= 0) {\n    return index\n  }\n\n  if (!probe) {\n    throw new Error('interpretNegativeIndex() must have a probe when < 0')\n  }\n\n  return index + probe.length()\n}\n","import {flatten} from 'lodash'\n\nimport {Expression} from './Expression'\nimport {type Probe} from './Probe'\n\n/**\n * Descender models the state of one partial jsonpath evaluation. Head is the\n * next thing to match, tail is the upcoming things once the head is matched.\n */\nexport class Descender {\n  head: Expression | null\n  tail: Expression | null\n\n  constructor(head: Expression | null, tail: Expression | null) {\n    this.head = head\n    this.tail = tail\n  }\n\n  // Iterate this descender once processing any constraints that are\n  // resolvable on the current value. Returns an array of new descenders\n  // that are guaranteed to be without constraints in the head\n  iterate(probe: Probe): Descender[] {\n    let result: Descender[] = [this]\n    if (this.head && this.head.isConstraint()) {\n      let anyConstraints = true\n      // Keep rewriting constraints until there are none left\n      while (anyConstraints) {\n        result = flatten(\n          result.map((descender) => {\n            return descender.iterateConstraints(probe)\n          }),\n        )\n        anyConstraints = result.some((descender) => {\n          return descender.head && descender.head.isConstraint()\n        })\n      }\n    }\n    return result\n  }\n\n  isRecursive(): boolean {\n    return Boolean(this.head && this.head.isRecursive())\n  }\n\n  hasArrived(): boolean {\n    return this.head === null && this.tail === null\n  }\n\n  extractRecursives(): Descender[] {\n    if (this.head && this.head.isRecursive()) {\n      const term = this.head.unwrapRecursive()\n      return new Descender(null, term.concat(this.tail)).descend()\n    }\n    return []\n  }\n\n  iterateConstraints(probe: Probe): Descender[] {\n    const head = this.head\n    if (head === null || !head.isConstraint()) {\n      // Not a constraint, no rewrite\n      return [this]\n    }\n\n    const result: Descender[] = []\n\n    if (probe.containerType() === 'primitive' && head.constraintTargetIsSelf()) {\n      if (head.testConstraint(probe)) {\n        result.push(...this.descend())\n      }\n      return result\n    }\n\n    // The value is an array\n    if (probe.containerType() === 'array') {\n      const length = probe.length()\n      for (let i = 0; i < length; i++) {\n        // Push new descenders with constraint translated to literal indices\n        // where they match\n        const constraint = probe.getIndex(i)\n        if (constraint && head.testConstraint(constraint)) {\n          result.push(new Descender(new Expression({type: 'index', value: i}), this.tail))\n        }\n      }\n      return result\n    }\n\n    // The value is an object\n    if (probe.containerType() === 'object') {\n      if (head.constraintTargetIsSelf()) {\n        // There are no matches for target self ('@') on a plain object\n        return []\n      }\n\n      if (head.testConstraint(probe)) {\n        return this.descend()\n      }\n\n      return result\n    }\n\n    return result\n  }\n\n  descend(): Descender[] {\n    if (!this.tail) {\n      return [new Descender(null, null)]\n    }\n\n    return this.tail.descend().map((ht) => {\n      return new Descender(ht.head, ht.tail)\n    })\n  }\n\n  toString(): string {\n    const result = ['<']\n    if (this.head) {\n      result.push(this.head.toString())\n    }\n    result.push('|')\n    if (this.tail) {\n      result.push(this.tail.toString())\n    }\n    result.push('>')\n    return result.join('')\n  }\n}\n","import {Descender} from './Descender'\nimport {Expression} from './Expression'\nimport {parseJsonPath} from './parse'\nimport {type Probe} from './Probe'\n\ninterface Result<P = unknown> {\n  leads: {\n    target: Expression\n    matcher: Matcher\n  }[]\n\n  delivery?: {\n    targets: Expression[]\n    payload: P\n  }\n}\n\n/**\n * @internal\n */\nexport class Matcher {\n  active: Descender[]\n  recursives: Descender[]\n  payload: unknown\n\n  constructor(active: Descender[], parent?: Matcher) {\n    this.active = active || []\n    if (parent) {\n      this.recursives = parent.recursives\n      this.payload = parent.payload\n    } else {\n      this.recursives = []\n    }\n    this.extractRecursives()\n  }\n\n  setPayload(payload: unknown): this {\n    this.payload = payload\n    return this\n  }\n\n  // Moves any recursive descenders onto the recursive track, removing them from\n  // the active set\n  extractRecursives(): void {\n    this.active = this.active.filter((descender) => {\n      if (descender.isRecursive()) {\n        this.recursives.push(...descender.extractRecursives())\n        return false\n      }\n      return true\n    })\n  }\n\n  // Find recursives that are relevant now and should be considered part of the active set\n  activeRecursives(probe: Probe): Descender[] {\n    return this.recursives.filter((descender) => {\n      const head = descender.head\n      if (!head) {\n        return false\n      }\n\n      // Constraints are always relevant\n      if (head.isConstraint()) {\n        return true\n      }\n\n      // Index references are only relevant for indexable values\n      if (probe.containerType() === 'array' && head.isIndexReference()) {\n        return true\n      }\n\n      // Attribute references are relevant for plain objects\n      if (probe.containerType() === 'object') {\n        return head.isAttributeReference() && probe.hasAttribute(head.name())\n      }\n\n      return false\n    })\n  }\n\n  match(probe: Probe): Result {\n    return this.iterate(probe).extractMatches(probe)\n  }\n\n  iterate(probe: Probe): Matcher {\n    const newActiveSet: Descender[] = []\n    this.active.concat(this.activeRecursives(probe)).forEach((descender) => {\n      newActiveSet.push(...descender.iterate(probe))\n    })\n    return new Matcher(newActiveSet, this)\n  }\n\n  // Returns true if any of the descenders in the active or recursive set\n  // consider the current state a final destination\n  isDestination(): boolean {\n    return this.active.some((descender) => descender.hasArrived())\n  }\n\n  hasRecursives(): boolean {\n    return this.recursives.length > 0\n  }\n\n  // Returns any payload delivieries and leads that needs to be followed to complete\n  // the process.\n  extractMatches(probe: Probe): Result {\n    const leads: {target: Expression; matcher: Matcher}[] = []\n    const targets: Expression[] = []\n    this.active.forEach((descender) => {\n      if (descender.hasArrived()) {\n        // This was already arrived, so matches this value, not descenders\n        targets.push(\n          new Expression({\n            type: 'alias',\n            target: 'self',\n          }),\n        )\n        return\n      }\n\n      const descenderHead = descender.head\n      if (!descenderHead) {\n        return\n      }\n\n      if (probe.containerType() === 'array' && !descenderHead.isIndexReference()) {\n        // This descender does not match an indexable value\n        return\n      }\n\n      if (probe.containerType() === 'object' && !descenderHead.isAttributeReference()) {\n        // This descender never match a plain object\n        return\n      }\n\n      if (descender.tail) {\n        // Not arrived yet\n        const matcher = new Matcher(descender.descend(), this)\n        descenderHead.toFieldReferences().forEach(() => {\n          leads.push({\n            target: descenderHead,\n            matcher: matcher,\n          })\n        })\n      } else {\n        // arrived\n        targets.push(descenderHead)\n      }\n    })\n\n    // If there are recursive terms, we need to add a lead for every descendant ...\n    if (this.hasRecursives()) {\n      // The recustives matcher will have no active set, only inherit recursives from this\n      const recursivesMatcher = new Matcher([], this)\n      if (probe.containerType() === 'array') {\n        const length = probe.length()\n        for (let i = 0; i < length; i++) {\n          leads.push({\n            target: Expression.indexReference(i),\n            matcher: recursivesMatcher,\n          })\n        }\n      } else if (probe.containerType() === 'object') {\n        probe.attributeKeys().forEach((name) => {\n          leads.push({\n            target: Expression.attributeReference(name),\n            matcher: recursivesMatcher,\n          })\n        })\n      }\n    }\n\n    return targets.length > 0\n      ? {leads: leads, delivery: {targets, payload: this.payload}}\n      : {leads: leads}\n  }\n\n  static fromPath(jsonpath: string): Matcher {\n    const path = parseJsonPath(jsonpath)\n    if (!path) {\n      throw new Error(`Failed to parse path from \"${jsonpath}\"`)\n    }\n\n    const descender = new Descender(null, new Expression(path))\n    return new Matcher(descender.descend())\n  }\n}\n","import {isRecord} from '../util'\nimport {type Probe} from './Probe'\n\n// A default implementation of a probe for vanilla JS _values\nexport class PlainProbe implements Probe {\n  _value: unknown\n  path: (string | number)[]\n\n  constructor(value: unknown, path?: (string | number)[]) {\n    this._value = value\n    this.path = path || []\n  }\n\n  containerType(): 'array' | 'object' | 'primitive' {\n    if (Array.isArray(this._value)) {\n      return 'array'\n    } else if (this._value !== null && typeof this._value === 'object') {\n      return 'object'\n    }\n    return 'primitive'\n  }\n\n  length(): number {\n    if (!Array.isArray(this._value)) {\n      throw new Error(\"Won't return length of non-indexable _value\")\n    }\n\n    return this._value.length\n  }\n\n  getIndex(i: number): false | null | PlainProbe {\n    if (!Array.isArray(this._value)) {\n      return false\n    }\n\n    if (i >= this.length()) {\n      return null\n    }\n\n    return new PlainProbe(this._value[i], this.path.concat(i))\n  }\n\n  hasAttribute(key: string): boolean {\n    if (!isRecord(this._value)) {\n      return false\n    }\n\n    return this._value.hasOwnProperty(key)\n  }\n\n  attributeKeys(): string[] {\n    return isRecord(this._value) ? Object.keys(this._value) : []\n  }\n\n  getAttribute(key: string): null | PlainProbe {\n    if (!isRecord(this._value)) {\n      throw new Error('getAttribute only applies to plain objects')\n    }\n\n    if (!this.hasAttribute(key)) {\n      return null\n    }\n\n    return new PlainProbe(this._value[key], this.path.concat(key))\n  }\n\n  get(): unknown {\n    return this._value\n  }\n}\n","import {compact} from 'lodash'\n\nimport {type Expression} from './Expression'\nimport {Matcher} from './Matcher'\nimport {PlainProbe} from './PlainProbe'\nimport {type Probe} from './Probe'\n\nexport function extractAccessors(path: string, value: unknown): Probe[] {\n  const result: Probe[] = []\n  const matcher = Matcher.fromPath(path).setPayload(function appendResult(values: Probe[]) {\n    result.push(...values)\n  })\n  const accessor = new PlainProbe(value)\n  descend(matcher, accessor)\n  return result\n}\n\nfunction descend(matcher: Matcher, accessor: Probe) {\n  const {leads, delivery} = matcher.match(accessor)\n\n  leads.forEach((lead) => {\n    accessorsFromTarget(lead.target, accessor).forEach((childAccessor) => {\n      descend(lead.matcher, childAccessor)\n    })\n  })\n\n  if (delivery) {\n    delivery.targets.forEach((target) => {\n      if (typeof delivery.payload === 'function') {\n        delivery.payload(accessorsFromTarget(target, accessor))\n      }\n    })\n  }\n}\n\nfunction accessorsFromTarget(target: Expression, accessor: Probe) {\n  const result = []\n  if (target.isIndexReference()) {\n    target.toIndicies(accessor).forEach((i) => {\n      result.push(accessor.getIndex(i))\n    })\n  } else if (target.isAttributeReference()) {\n    result.push(accessor.getAttribute(target.name()))\n  } else if (target.isSelfReference()) {\n    result.push(accessor)\n  } else {\n    throw new Error(`Unable to derive accessor for target ${target.toString()}`)\n  }\n  return compact(result)\n}\n","import {extractAccessors} from './extractAccessors'\n\n/**\n * Extracts values matching the given JsonPath\n *\n * @param path - Path to extract\n * @param value - Value to extract from\n * @returns An array of values matching the given path\n * @public\n */\nexport function extract(path: string, value: unknown): unknown[] {\n  const accessors = extractAccessors(path, value)\n  return accessors.map((acc) => acc.get())\n}\n","import {extractAccessors} from './extractAccessors'\n\n/**\n * Extracts a value for the given JsonPath, and includes the specific path of where it was found\n *\n * @param path - Path to extract\n * @param value - Value to extract from\n * @returns An array of objects with `path` and `value` keys\n * @internal\n */\nexport function extractWithPath(\n  path: string,\n  value: unknown,\n): {path: (string | number)[]; value: unknown}[] {\n  const accessors = extractAccessors(path, value)\n  return accessors.map((acc) => ({path: acc.path, value: acc.get()}))\n}\n","import {applyPatches, parsePatch, type Patch} from '@sanity/diff-match-patch'\n\nimport {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\n\nfunction applyPatch(patch: Patch[], oldValue: unknown) {\n  // Silently avoid patching if the value type is not string\n  if (typeof oldValue !== 'string') return oldValue\n  const [result] = applyPatches(patch, oldValue, {allowExceedingIndices: true})\n  return result\n}\n\nexport class DiffMatchPatch {\n  path: string\n  dmpPatch: Patch[]\n  id: string\n\n  constructor(id: string, path: string, dmpPatchSrc: string) {\n    this.id = id\n    this.path = path\n    this.dmpPatch = parsePatch(dmpPatchSrc)\n  }\n\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n\n    // The target must be a container type\n    if (result.containerType() === 'primitive') {\n      return result\n    }\n\n    for (const target of targets) {\n      if (target.isIndexReference()) {\n        for (const index of target.toIndicies(accessor)) {\n          // Skip patching unless the index actually currently exists\n          const item = result.getIndex(index)\n          if (!item) {\n            continue\n          }\n\n          const oldValue = item.get()\n          const nextValue = applyPatch(this.dmpPatch, oldValue)\n          result = result.setIndex(index, nextValue)\n        }\n\n        continue\n      }\n\n      if (target.isAttributeReference() && result.hasAttribute(target.name())) {\n        const attribute = result.getAttribute(target.name())\n        if (!attribute) {\n          continue\n        }\n\n        const oldValue = attribute.get()\n        const nextValue = applyPatch(this.dmpPatch, oldValue)\n        result = result.setAttribute(target.name(), nextValue)\n        continue\n      }\n\n      throw new Error(`Unable to apply diffMatchPatch to target ${target.toString()}`)\n    }\n\n    return result\n  }\n}\n","import {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\n\nfunction performIncrement(previousValue: unknown, delta: number): number {\n  if (typeof previousValue !== 'number' || !Number.isFinite(previousValue)) {\n    return previousValue as number\n  }\n\n  return previousValue + delta\n}\n\nexport class IncPatch {\n  path: string\n  value: number\n  id: string\n\n  constructor(id: string, path: string, value: number) {\n    this.path = path\n    this.value = value\n    this.id = id\n  }\n\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n\n    // The target must be a container type\n    if (result.containerType() === 'primitive') {\n      return result\n    }\n\n    for (const target of targets) {\n      if (target.isIndexReference()) {\n        for (const index of target.toIndicies(accessor)) {\n          // Skip patching unless the index actually currently exists\n          const item = result.getIndex(index)\n          if (!item) {\n            continue\n          }\n\n          const previousValue = item.get()\n          result = result.setIndex(index, performIncrement(previousValue, this.value))\n        }\n\n        continue\n      }\n\n      if (target.isAttributeReference()) {\n        const attribute = result.getAttribute(target.name())\n        if (!attribute) {\n          continue\n        }\n\n        const previousValue = attribute.get()\n        result = result.setAttribute(target.name(), performIncrement(previousValue, this.value))\n        continue\n      }\n\n      throw new Error(`Unable to apply to target ${target.toString()}`)\n    }\n\n    return result\n  }\n}\n","import {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\n\nexport function targetsToIndicies(targets: Expression[], accessor: ImmutableAccessor): number[] {\n  const result: number[] = []\n  targets.forEach((target) => {\n    if (target.isIndexReference()) {\n      result.push(...target.toIndicies(accessor))\n    }\n  })\n  return result.sort()\n}\n","import {max, min} from 'lodash'\n\nimport {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\nimport {targetsToIndicies} from './util'\n\nexport class InsertPatch {\n  location: string\n  path: string\n  items: unknown[]\n  id: string\n\n  constructor(id: string, location: string, path: string, items: unknown[]) {\n    this.id = id\n    this.location = location\n    this.path = path\n    this.items = items\n  }\n\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n    if (accessor.containerType() !== 'array') {\n      throw new Error('Attempt to apply insert patch to non-array value')\n    }\n\n    switch (this.location) {\n      case 'before': {\n        const pos = minIndex(targets, accessor)\n        result = result.insertItemsAt(pos, this.items)\n        break\n      }\n      case 'after': {\n        const pos = maxIndex(targets, accessor)\n        result = result.insertItemsAt(pos + 1, this.items)\n        break\n      }\n      case 'replace': {\n        // TODO: Properly implement ranges in compliance with content lake\n        // This will only properly support single contiguous ranges\n        const indicies = targetsToIndicies(targets, accessor)\n        result = result.unsetIndices(indicies)\n        result = result.insertItemsAt(indicies[0], this.items)\n        break\n      }\n      default: {\n        throw new Error(`Unsupported location atm: ${this.location}`)\n      }\n    }\n    return result\n  }\n}\n\nfunction minIndex(targets: Expression[], accessor: ImmutableAccessor): number {\n  let result = min(targetsToIndicies(targets, accessor)) || 0\n\n  // Ranges may be zero-length and not turn up in indices\n  targets.forEach((target) => {\n    if (target.isRange()) {\n      const {start} = target.expandRange()\n      if (start < result) {\n        result = start\n      }\n    }\n  })\n  return result\n}\n\nfunction maxIndex(targets: Expression[], accessor: ImmutableAccessor): number {\n  let result = max(targetsToIndicies(targets, accessor)) || 0\n\n  // Ranges may be zero-length and not turn up in indices\n  targets.forEach((target) => {\n    if (target.isRange()) {\n      const {end} = target.expandRange()\n      if (end > result) {\n        result = end\n      }\n    }\n  })\n  return result\n}\n","import {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\n\nexport class SetIfMissingPatch {\n  id: string\n  path: string\n  value: unknown\n\n  constructor(id: string, path: string, value: unknown) {\n    this.id = id\n    this.path = path\n    this.value = value\n  }\n\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n    targets.forEach((target) => {\n      if (target.isIndexReference()) {\n        // setIfMissing do not apply to arrays, since Content Lake will reject nulls in arrays\n      } else if (target.isAttributeReference()) {\n        // setting a subproperty on a primitive value overwrites it, eg\n        // `{setIfMissing: {'address.street': 'California St'}}` on `{address: 'Fiction St'}` will\n        // result in `{address: {street: 'California St'}}`\n        if (result.containerType() === 'primitive') {\n          result = result.set({[target.name()]: this.value})\n        } else if (!result.hasAttribute(target.name())) {\n          result = accessor.setAttribute(target.name(), this.value)\n        }\n      } else {\n        throw new Error(`Unable to apply to target ${target.toString()}`)\n      }\n    })\n    return result\n  }\n}\n","import {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\n\nexport class SetPatch {\n  id: string\n  path: string\n  value: unknown\n\n  constructor(id: string, path: string, value: unknown) {\n    this.id = id\n    this.path = path\n    this.value = value\n  }\n\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n    targets.forEach((target) => {\n      if (target.isSelfReference()) {\n        result = result.set(this.value)\n      } else if (target.isIndexReference()) {\n        target.toIndicies(accessor).forEach((i) => {\n          result = result.setIndex(i, this.value)\n        })\n      } else if (target.isAttributeReference()) {\n        // setting a subproperty on a primitive value overwrites it, eg\n        // `{set: {'address.street': 'California St'}}` on `{address: 'Fiction St'}` will result in\n        // `{address: {street: 'California St'}}`\n        if (result.containerType() === 'primitive') {\n          result = result.set({[target.name()]: this.value})\n        } else {\n          result = result.setAttribute(target.name(), this.value)\n        }\n      } else {\n        throw new Error(`Unable to apply to target ${target.toString()}`)\n      }\n    })\n    return result\n  }\n}\n","import {type Expression} from '../jsonpath'\nimport {type ImmutableAccessor} from './ImmutableAccessor'\nimport {targetsToIndicies} from './util'\n\nexport class UnsetPatch {\n  id: string\n  path: string\n  value: unknown\n\n  constructor(id: string, path: string) {\n    this.id = id\n    this.path = path\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  apply(targets: Expression[], accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n    switch (accessor.containerType()) {\n      case 'array':\n        result = result.unsetIndices(targetsToIndicies(targets, accessor))\n        break\n      case 'object':\n        targets.forEach((target) => {\n          result = result.unsetAttribute(target.name())\n        })\n        break\n      default:\n        throw new Error(\n          'Target value is neither indexable or an object. This error should potentially just be silently ignored?',\n        )\n    }\n    return result\n  }\n}\n","import {DiffMatchPatch} from './DiffMatchPatch'\nimport {IncPatch} from './IncPatch'\nimport {InsertPatch} from './InsertPatch'\nimport {SetIfMissingPatch} from './SetIfMissingPatch'\nimport {SetPatch} from './SetPatch'\nimport {type PatchTypes, type SingleDocumentPatch} from './types'\nimport {UnsetPatch} from './UnsetPatch'\n\n// Parses a content lake patch into our own personal patch implementations\nexport function parsePatch(patch: SingleDocumentPatch | SingleDocumentPatch[]): PatchTypes[] {\n  const result: PatchTypes[] = []\n  if (Array.isArray(patch)) {\n    return patch.reduce((r, p) => r.concat(parsePatch(p)), result)\n  }\n\n  const {set, setIfMissing, unset, diffMatchPatch, inc, dec, insert} = patch\n  if (setIfMissing) {\n    Object.keys(setIfMissing).forEach((path) => {\n      result.push(new SetIfMissingPatch(patch.id, path, setIfMissing[path]))\n    })\n  }\n\n  if (set) {\n    Object.keys(set).forEach((path) => {\n      result.push(new SetPatch(patch.id, path, set[path]))\n    })\n  }\n\n  if (unset) {\n    unset.forEach((path) => {\n      result.push(new UnsetPatch(patch.id, path))\n    })\n  }\n\n  if (diffMatchPatch) {\n    Object.keys(diffMatchPatch).forEach((path) => {\n      result.push(new DiffMatchPatch(patch.id, path, diffMatchPatch[path]))\n    })\n  }\n\n  if (inc) {\n    Object.keys(inc).forEach((path) => {\n      result.push(new IncPatch(patch.id, path, inc[path]))\n    })\n  }\n\n  if (dec) {\n    Object.keys(dec).forEach((path) => {\n      result.push(new IncPatch(patch.id, path, -dec[path]))\n    })\n  }\n\n  if (insert) {\n    let location: string\n    let path: string\n    const spec = insert\n    if ('before' in spec) {\n      location = 'before'\n      path = spec.before\n    } else if ('after' in spec) {\n      location = 'after'\n      path = spec.after\n    } else if ('replace' in spec) {\n      location = 'replace'\n      path = spec.replace\n    } else {\n      throw new Error('Invalid insert patch')\n    }\n\n    result.push(new InsertPatch(patch.id, location, path, spec.items))\n  }\n\n  return result\n}\n","import {type Doc} from '../document/types'\nimport {Matcher} from '../jsonpath'\nimport {ImmutableAccessor} from './ImmutableAccessor'\nimport {parsePatch} from './parse'\nimport {SetIfMissingPatch} from './SetIfMissingPatch'\nimport {SetPatch} from './SetPatch'\nimport {type PatchTypes, type SingleDocumentPatch} from './types'\n\nexport interface Patch {\n  id: string\n  path: string\n}\n\nexport class Patcher {\n  patches: PatchTypes[]\n\n  constructor(patch: SingleDocumentPatch | SingleDocumentPatch[]) {\n    this.patches = parsePatch(patch)\n  }\n\n  apply(value: Doc | null): unknown {\n    // Apply just makes a root accessor around the provided\n    // value, then applies the patches. Due to the use of\n    // ImmutableAccessor it is guaranteed to return either the\n    // exact same object it was provided (in the case of no changes),\n    // or a completely new object. It will never mutate the object in place.\n    const accessor = new ImmutableAccessor(value)\n    return this.applyViaAccessor(accessor).get()\n  }\n\n  // If you want to use your own accessor implementation, you can use this method\n  // to invoke the patcher. Since all subsequent accessors for children of this accessor\n  // are obtained through the methods in the accessors, you retain full control of the\n  // implementation throguhgout the application. Have a look in ImmutableAccessor\n  // to see an example of how accessors are implemented.\n  applyViaAccessor(accessor: ImmutableAccessor): ImmutableAccessor {\n    let result = accessor\n    const idAccessor = accessor.getAttribute('_id')\n    if (!idAccessor) {\n      throw new Error('Cannot apply patch to document with no _id')\n    }\n\n    const id = idAccessor.get()\n    for (const patch of this.patches) {\n      if (patch.id !== id) {\n        // Ignore patches that are not targetted at this document\n        continue\n      }\n\n      const matcher = Matcher.fromPath(patch.path).setPayload(patch)\n      result = process(matcher, result)\n    }\n\n    return result\n  }\n}\n\n// Recursively (depth first) follows any leads generated by the matcher, expecting\n// a patch to be the payload. When matchers report a delivery, the\n// apply(targets, accessor) is called on the patch\nfunction process(matcher: Matcher, accessor: ImmutableAccessor) {\n  const isSetPatch =\n    matcher.payload instanceof SetPatch || matcher.payload instanceof SetIfMissingPatch\n\n  let result = accessor\n  // Every time we execute the matcher a new set of leads is generated. Each lead\n  // is a target (being an index, an attribute name or a range) in the form of an\n  // Expression instance. For each lead target there is also a matcher. Our job is to obtain\n  // accessor(s) for each target (there might be more than one, since the targets may\n  // be ranges) and run the provided matcher on those accessors.\n  const {leads, delivery} = matcher.match(accessor)\n  leads.forEach((lead) => {\n    if (lead.target.isIndexReference()) {\n      lead.target.toIndicies().forEach((i) => {\n        const item = result.getIndex(i)\n        if (!item) {\n          throw new Error('Index out of bounds')\n        }\n\n        result = result.setIndexAccessor(i, process(lead.matcher, item))\n      })\n    } else if (lead.target.isAttributeReference()) {\n      // `set`/`setIfMissing` on a primitive value overwrites it\n      if (isSetPatch && result.containerType() === 'primitive') {\n        result = result.set({})\n      }\n\n      let oldValueAccessor = result.getAttribute(lead.target.name())\n\n      // If the patch is a set/setIfMissing patch, we allow deeply setting properties,\n      // creating missing segments as we go.\n      if (!oldValueAccessor && isSetPatch) {\n        result = result.setAttribute(lead.target.name(), {})\n        oldValueAccessor = result.getAttribute(lead.target.name())\n      }\n\n      if (!oldValueAccessor) {\n        // Don't follow lead, no such attribute\n        return\n      }\n\n      const newValueAccessor = process(lead.matcher, oldValueAccessor)\n      if (oldValueAccessor !== newValueAccessor) {\n        result = result.setAttributeAccessor(lead.target.name(), newValueAccessor)\n      }\n    } else {\n      throw new Error(`Unable to handle target ${lead.target.toString()}`)\n    }\n  })\n\n  // Each time we run the matcher, we might also get a delivery. This means that a\n  // term in the jsonpath terminated here and the patch should be applied. The delivery\n  // arrives in the form of an array of targets and a payload (which in this application\n  // is the patch). Conveniently the patches accept an array of targets and an accessor\n  // to do its work, so here we just pass those to the patch and we're done.\n  if (delivery && isPatcher(delivery.payload)) {\n    const patch = delivery.payload\n    result = patch.apply(delivery.targets, result)\n  }\n\n  return result\n}\n\nfunction isPatcher(payload: unknown): payload is PatchTypes {\n  return Boolean(\n    payload &&\n      typeof payload === 'object' &&\n      payload !== null &&\n      'apply' in payload &&\n      typeof (payload as PatchTypes).apply === 'function',\n  )\n}\n","import {uuid} from '@sanity/uuid'\n\n/**\n * Locally unique id's. We use this to generate transaction ids, and they don't have to be\n * cryptographically unique, as the worst that can happen is that they get rejected because\n * of a collision, and then we should just retry with a new id.\n */\nexport const luid: typeof uuid = uuid\n","import {Patcher} from '../patch'\nimport {debug} from './debug'\nimport {luid} from './luid'\nimport {type Doc, type Mut} from './types'\n\n/**\n * Parameters attached to the mutation\n *\n * @internal\n */\nexport interface MutationParams {\n  transactionId?: string\n  transition?: string\n  identity?: string\n  previousRev?: string\n  resultRev?: string\n  mutations: Mut[]\n  timestamp?: string\n  effects?: {apply: unknown; revert: unknown}\n}\n\n/**\n * A mutation describing a number of operations on a single document.\n * This should be considered an immutable structure. Mutations are compiled\n * on first application, and any changes in properties will not effectively\n * change its behavior after that.\n *\n * @internal\n */\nexport class Mutation {\n  params: MutationParams\n\n  compiled?: (doc: Doc | null) => Doc | null\n\n  _appliesToMissingDocument: boolean | undefined\n\n  constructor(options: MutationParams) {\n    this.params = options\n  }\n\n  get transactionId(): string | undefined {\n    return this.params.transactionId\n  }\n\n  get transition(): string | undefined {\n    return this.params.transition\n  }\n\n  get identity(): string | undefined {\n    return this.params.identity\n  }\n\n  get previousRev(): string | undefined {\n    return this.params.previousRev\n  }\n\n  get resultRev(): string | undefined {\n    return this.params.resultRev\n  }\n\n  get mutations(): Mut[] {\n    return this.params.mutations\n  }\n\n  get timestamp(): Date | undefined {\n    if (typeof this.params.timestamp === 'string') {\n      return new Date(this.params.timestamp)\n    }\n\n    return undefined\n  }\n\n  get effects():\n    | {\n        apply: unknown\n        revert: unknown\n      }\n    | undefined {\n    return this.params.effects\n  }\n\n  assignRandomTransactionId(): void {\n    this.params.transactionId = luid()\n    this.params.resultRev = this.params.transactionId\n  }\n\n  appliesToMissingDocument(): boolean {\n    if (typeof this._appliesToMissingDocument !== 'undefined') {\n      return this._appliesToMissingDocument\n    }\n\n    // Only mutations starting with a create operation apply to documents that do not exist ...\n    const firstMut = this.mutations[0]\n    if (firstMut) {\n      this._appliesToMissingDocument = Boolean(\n        firstMut.create || firstMut.createIfNotExists || firstMut.createOrReplace,\n      )\n    } else {\n      this._appliesToMissingDocument = true\n    }\n\n    return this._appliesToMissingDocument\n  }\n\n  // Compiles all mutations into a handy function\n  compile(): void {\n    const operations: ((doc: Doc | null) => Doc | null)[] = []\n\n    // creation requires a _createdAt\n    const getGuaranteedCreatedAt = (doc: Doc): string =>\n      doc?._createdAt || this.params.timestamp || new Date().toISOString()\n\n    this.mutations.forEach((mutation) => {\n      if (mutation.create) {\n        // TODO: Fail entire patch if document did exist\n        const create = (mutation.create || {}) as Doc\n        operations.push((doc): Doc => {\n          if (doc) {\n            return doc\n          }\n\n          return Object.assign(create, {\n            _createdAt: getGuaranteedCreatedAt(create),\n          })\n        })\n        return\n      }\n\n      if (mutation.createIfNotExists) {\n        const createIfNotExists = mutation.createIfNotExists || {}\n        operations.push((doc) =>\n          doc === null\n            ? Object.assign(createIfNotExists, {\n                _createdAt: getGuaranteedCreatedAt(createIfNotExists),\n              })\n            : doc,\n        )\n        return\n      }\n\n      if (mutation.createOrReplace) {\n        const createOrReplace = mutation.createOrReplace || {}\n        operations.push(() =>\n          Object.assign(createOrReplace, {\n            _createdAt: getGuaranteedCreatedAt(createOrReplace),\n          }),\n        )\n        return\n      }\n\n      if (mutation.delete) {\n        operations.push(() => null)\n        return\n      }\n\n      if (mutation.patch) {\n        if ('query' in mutation.patch) {\n          // @todo Warn/throw? Investigate if this can ever happen\n          return\n        }\n\n        const patch = new Patcher(mutation.patch)\n        operations.push((doc) => patch.apply(doc) as Doc | null)\n        return\n      }\n\n      throw new Error(`Unsupported mutation ${JSON.stringify(mutation, null, 2)}`)\n    })\n\n    // Assign `_updatedAt` to the timestamp of the mutation if set\n    if (typeof this.params.timestamp === 'string') {\n      operations.push((doc) => {\n        return doc ? Object.assign(doc, {_updatedAt: this.params.timestamp}) : null\n      })\n    }\n\n    const prevRev = this.previousRev\n    const rev = this.resultRev || this.transactionId\n    this.compiled = (doc: Doc | null) => {\n      if (prevRev && doc && prevRev !== doc._rev) {\n        throw new Error(\n          `Previous revision for this mutation was ${prevRev}, but the document revision is ${doc._rev}`,\n        )\n      }\n\n      let result: Doc | null = doc\n      for (const operation of operations) {\n        result = operation(result)\n      }\n\n      // Should update _rev?\n      if (result && rev) {\n        // Ensure that result is a unique object, even if the operation was a no-op\n        if (result === doc) {\n          result = Object.assign({}, doc)\n        }\n        result._rev = rev\n      }\n\n      return result\n    }\n  }\n\n  apply(document: Doc | null): Doc | null {\n    debug('Applying mutation %O to document %O', this.mutations, document)\n    if (!this.compiled) {\n      this.compile()\n    }\n\n    const result = this.compiled!(document)\n    debug('  => %O', result)\n    return result\n  }\n\n  static applyAll(document: Doc | null, mutations: Mutation[]): Doc | null {\n    return mutations.reduce((doc, mutation) => mutation.apply(doc), document)\n  }\n\n  // Given a number of yet-to-be-committed mutation objects, collects them into one big mutation\n  // any metadata like transactionId is ignored and must be submitted by the client. It is assumed\n  // that all mutations are on the same document.\n  // TOOO: Optimize mutations, eliminating mutations that overwrite themselves!\n  static squash(document: Doc | null, mutations: Mutation[]): Mutation {\n    const squashed = mutations.reduce(\n      (result, mutation) => result.concat(...mutation.mutations),\n      [] as Mut[],\n    )\n    return new Mutation({mutations: squashed})\n  }\n}\n","// TODO: When we have timestamps on mutation notifications, we can reject incoming mutations that are older\n// than the document we are seeing.\n\nimport {isEqual} from 'lodash'\n\nimport {debug} from './debug'\nimport {Mutation} from './Mutation'\nimport {type Doc} from './types'\n\n/**\n * @internal\n */\nexport interface SubmissionResponder {\n  success: () => void\n  failure: () => void\n}\n\n/**\n * Models a document as it is changed by our own local patches and remote patches coming in from\n * the server. Consolidates incoming patches with our own submitted patches and maintains two\n * versions of the document. EDGE is the optimistic document that the user sees that will always\n * immediately reflect whatever she is doing to it, and HEAD which is the confirmed version of the\n * document consistent with the mutations we have received from the server. As long as nothing out of\n * the ordinary happens, we can track all changes by hooking into the onMutation callback, but we\n * must also respect onRebase events that fire when we have to backtrack because one of our optimistically\n * applied patches were rejected, or some bastard was able to slip a mutation in between ours own.\n *\n * @internal\n */\nexport class Document {\n  /**\n   * Incoming patches from the server waiting to be applied to HEAD\n   */\n  incoming: Mutation[] = []\n\n  /**\n   * Patches we know has been subitted to the server, but has not been seen yet in the return channel\n   * so we can't be sure about the ordering yet (someone else might have slipped something between them)\n   */\n  submitted: Mutation[] = []\n\n  /**\n   * Pending mutations\n   */\n  pending: Mutation[] = []\n\n  /**\n   * Our model of the document according to the incoming patches from the server\n   */\n  HEAD: Doc | null\n\n  /**\n   * Our optimistic model of what the document will probably look like as soon as all our patches\n   * have been processed. Updated every time we stage a new mutation, but also might revert back\n   * to previous states if our mutations fail, or could change if unexpected mutations arrive\n   * between our own. The `onRebase` callback will be called when EDGE changes in this manner.\n   */\n  EDGE: Doc | null\n\n  /**\n   * Called with the EDGE document when that document changes for a reason other than us staging\n   * a new patch or receiving a mutation from the server while our EDGE is in sync with HEAD:\n   * I.e. when EDGE changes because the order of mutations has changed in relation to our\n   * optimistic predictions.\n   */\n  onRebase?: (edge: Doc | null, incomingMutations: Mutation[], pendingMutations: Mutation[]) => void\n\n  /**\n   * Called when we receive a patch in the normal order of things, but the mutation is not ours\n   */\n  onMutation?: (msg: {mutation: Mutation; document: Doc | null; remote: boolean}) => void\n\n  /**\n   * Called when consistency state changes with the boolean value of the current consistency state\n   */\n  onConsistencyChanged?: (isConsistent: boolean) => void\n\n  /**\n   * Called whenever a new incoming mutation comes in. These are always ordered correctly.\n   */\n  onRemoteMutation?: (mut: Mutation) => void\n\n  /**\n   * We are consistent when there are no unresolved mutations of our own, and no un-applicable\n   * incoming mutations. When this has been going on for too long, and there has been a while\n   * since we staged a new mutation, it is time to reset your state.\n   */\n  inconsistentAt: Date | null = null\n\n  /**\n   * The last time we staged a patch of our own. If we have been inconsistent for a while, but it\n   * hasn't been long since we staged a new mutation, the reason is probably just because the user\n   * is typing or something.\n   *\n   * Should be used as a guard against resetting state for inconsistency reasons.\n   */\n  lastStagedAt: Date | null = null\n\n  constructor(doc: Doc | null) {\n    this.reset(doc)\n    this.HEAD = doc\n    this.EDGE = doc\n  }\n\n  // Reset the state of the Document, used to recover from unsavory states by reloading the document\n  reset(doc: Doc | null): void {\n    this.incoming = []\n    this.submitted = []\n    this.pending = []\n    this.inconsistentAt = null\n    this.HEAD = doc\n    this.EDGE = doc\n    this.considerIncoming()\n    this.updateConsistencyFlag()\n  }\n\n  // Call when a mutation arrives from Sanity\n  arrive(mutation: Mutation): void {\n    this.incoming.push(mutation)\n    this.considerIncoming()\n    this.updateConsistencyFlag()\n  }\n\n  // Call to signal that we are submitting a mutation. Returns a callback object with a\n  // success and failure handler that must be called according to the outcome of our\n  // submission.\n  stage(mutation: Mutation, silent?: boolean): SubmissionResponder {\n    if (!mutation.transactionId) {\n      throw new Error('Mutations _must_ have transactionId when submitted')\n    }\n    this.lastStagedAt = new Date()\n\n    debug('Staging mutation %s (pushed to pending)', mutation.transactionId)\n    this.pending.push(mutation)\n    this.EDGE = mutation.apply(this.EDGE)\n\n    if (this.onMutation && !silent) {\n      this.onMutation({\n        mutation,\n        document: this.EDGE,\n        remote: false,\n      })\n    }\n\n    const txnId = mutation.transactionId\n\n    this.updateConsistencyFlag()\n\n    return {\n      success: () => {\n        this.pendingSuccessfullySubmitted(txnId)\n        this.updateConsistencyFlag()\n      },\n      failure: () => {\n        this.pendingFailed(txnId)\n        this.updateConsistencyFlag()\n      },\n    }\n  }\n\n  // Call to check if everything is nice and quiet and there are no unresolved mutations.\n  // Means this model thinks both HEAD and EDGE is up to date with what the server sees.\n  isConsistent(): boolean {\n    return !this.inconsistentAt\n  }\n\n  // Private\n\n  // Attempts to apply any resolvable incoming patches to HEAD. Will keep patching as long as there\n  // are applicable patches to be applied\n  considerIncoming(): void {\n    let mustRebase = false\n    let nextMut: Mutation | undefined\n    const rebaseMutations: Mutation[] = []\n\n    // Filter mutations that are older than the document\n    if (this.HEAD && this.HEAD._updatedAt) {\n      const updatedAt = new Date(this.HEAD._updatedAt)\n      if (this.incoming.find((mut) => mut.timestamp && mut.timestamp < updatedAt)) {\n        this.incoming = this.incoming.filter((mut) => mut.timestamp && mut.timestamp < updatedAt)\n      }\n    }\n\n    // Keep applying mutations as long as any apply\n    let protect = 0\n    do {\n      // Find next mutation that can be applied to HEAD (if any)\n      if (this.HEAD) {\n        const HEAD = this.HEAD\n        nextMut = HEAD._rev ? this.incoming.find((mut) => mut.previousRev === HEAD._rev) : undefined\n      } else {\n        // When HEAD is null, that means the document is currently deleted. Only mutations that start with a create\n        // operation will be considered.\n        nextMut = this.incoming.find((mut) => mut.appliesToMissingDocument())\n      }\n\n      if (nextMut) {\n        const applied = this.applyIncoming(nextMut)\n        mustRebase = mustRebase || applied\n        if (mustRebase) {\n          rebaseMutations.push(nextMut)\n        }\n\n        if (protect++ > 10) {\n          throw new Error(\n            `Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(\n              nextMut,\n            )}`,\n          )\n        }\n      }\n    } while (nextMut)\n\n    if (this.incoming.length > 0 && debug.enabled) {\n      debug(\n        'Unable to apply mutations %s',\n        this.incoming.map((mut) => mut.transactionId).join(', '),\n      )\n    }\n\n    if (mustRebase) {\n      this.rebase(rebaseMutations)\n    }\n  }\n\n  // check current consistency state, update flag and invoke callback if needed\n  updateConsistencyFlag(): void {\n    const wasConsistent = this.isConsistent()\n    const isConsistent =\n      this.pending.length === 0 && this.submitted.length === 0 && this.incoming.length === 0\n    // Update the consistency state, taking care not to update the timestamp if we were inconsistent and still are\n    if (isConsistent) {\n      this.inconsistentAt = null\n    } else if (!this.inconsistentAt) {\n      this.inconsistentAt = new Date()\n    }\n    // Handle onConsistencyChanged callback\n    if (wasConsistent != isConsistent && this.onConsistencyChanged) {\n      if (isConsistent) {\n        debug('Buffered document is inconsistent')\n      } else {\n        debug('Buffered document is consistent')\n      }\n      this.onConsistencyChanged(isConsistent)\n    }\n  }\n\n  // apply an incoming patch that has been prequalified as the next in line for this document\n  applyIncoming(mut: Mutation | undefined): boolean {\n    if (!mut) {\n      return false\n    }\n\n    if (!mut.transactionId) {\n      throw new Error('Received incoming mutation without a transaction ID')\n    }\n\n    debug(\n      'Applying mutation %s -> %s to rev %s',\n      mut.previousRev,\n      mut.resultRev,\n      this.HEAD && this.HEAD._rev,\n    )\n\n    this.HEAD = mut.apply(this.HEAD)\n\n    if (this.onRemoteMutation) {\n      this.onRemoteMutation(mut)\n    }\n\n    // Eliminate from incoming set\n    this.incoming = this.incoming.filter((m) => m.transactionId !== mut.transactionId)\n\n    if (this.hasUnresolvedMutations()) {\n      const needRebase = this.consumeUnresolved(mut.transactionId)\n      if (debug.enabled) {\n        debug(\n          `Incoming mutation ${mut.transactionId} appeared while there were pending or submitted local mutations`,\n        )\n        debug(`Submitted txnIds: ${this.submitted.map((m) => m.transactionId).join(', ')}`)\n        debug(`Pending txnIds: ${this.pending.map((m) => m.transactionId).join(', ')}`)\n        debug(`needRebase === %s`, needRebase)\n      }\n      return needRebase\n    }\n    debug(\n      `Remote mutation %s arrived w/o any pending or submitted local mutations`,\n      mut.transactionId,\n    )\n    this.EDGE = this.HEAD\n    if (this.onMutation) {\n      this.onMutation({\n        mutation: mut,\n        document: this.EDGE,\n        remote: true,\n      })\n    }\n    return false\n  }\n\n  /**\n   * Returns true if there are unresolved mutations between HEAD and EDGE, meaning we have\n   * mutations that are still waiting to be either submitted, or to be confirmed by the server.\n   *\n   * @returns true if there are unresolved mutations between HEAD and EDGE, false otherwise\n   */\n  hasUnresolvedMutations(): boolean {\n    return this.submitted.length > 0 || this.pending.length > 0\n  }\n\n  /**\n   * When an incoming mutation is applied to HEAD, this is called to remove the mutation from\n   * the unresolved state. If the newly applied patch is the next upcoming unresolved mutation,\n   * no rebase is needed, but we might have the wrong idea about the ordering of mutations, so in\n   * that case we are given the flag `needRebase` to tell us that this mutation arrived out of\n   * order in terms of our optimistic version, so a rebase is needed.\n   *\n   * @param txnId - Transaction ID of the remote mutation\n   * @returns true if rebase is needed, false otherwise\n   */\n  consumeUnresolved(txnId: string): boolean {\n    // If we have nothing queued up, we are in sync and can apply patch with no\n    // rebasing\n    if (this.submitted.length === 0 && this.pending.length === 0) {\n      return false\n    }\n\n    // If we can consume the directly upcoming mutation, we won't have to rebase\n    if (this.submitted.length !== 0) {\n      if (this.submitted[0].transactionId === txnId) {\n        debug(\n          `Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer`,\n          txnId,\n        )\n        this.submitted.shift()\n        return false\n      }\n    } else if (this.pending.length > 0 && this.pending[0].transactionId === txnId) {\n      // There are no submitted, but some are pending so let's check the upcoming pending\n      debug(\n        `Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer`,\n        txnId,\n      )\n      this.pending.shift()\n      return false\n    }\n\n    debug(\n      'The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d',\n      this.pending.length,\n      this.submitted.length,\n    )\n\n    // The mutation was not the upcoming mutation, so we'll have to check everything to\n    // see if we have an out of order situation\n    this.submitted = this.submitted.filter((mut) => mut.transactionId !== txnId)\n    this.pending = this.pending.filter((mut) => mut.transactionId !== txnId)\n    debug(`After scrubbing: Pending: %d, Submitted: %d`, this.pending.length, this.submitted.length)\n\n    // Whether we had it or not we have either a reordering, or an unexpected mutation\n    // so must rebase\n    return true\n  }\n\n  pendingSuccessfullySubmitted(pendingTxnId: string): void {\n    if (this.pending.length === 0) {\n      // If there are no pending, it has probably arrived allready\n      return\n    }\n\n    const first = this.pending[0]\n    if (first.transactionId === pendingTxnId) {\n      // Nice, the pending transaction arrived in order\n      this.pending.shift()\n      this.submitted.push(first)\n      return\n    }\n\n    // Oh, no. Submitted out of order.\n    let justSubmitted: Mutation | undefined\n    const stillPending: Mutation[] = []\n    this.pending.forEach((mutation) => {\n      if (mutation.transactionId === pendingTxnId) {\n        justSubmitted = mutation\n        return\n      }\n\n      stillPending.push(mutation)\n    })\n\n    // Not found? Hopefully it has already arrived. Might have been forgotten by now\n    if (justSubmitted) {\n      this.submitted.push(justSubmitted)\n    }\n\n    this.pending = stillPending\n\n    // Must rebase since mutation order has changed\n    this.rebase([])\n  }\n\n  pendingFailed(pendingTxnId: string): void {\n    this.pending = this.pending.filter((mutation) => mutation.transactionId !== pendingTxnId)\n\n    // Rebase to revert document to what it looked like before the failed mutation\n    this.rebase([])\n  }\n\n  rebase(incomingMutations: Mutation[]): void {\n    const oldEdge = this.EDGE\n    this.EDGE = Mutation.applyAll(this.HEAD, this.submitted.concat(this.pending))\n\n    // Copy over rev, since we don't care if it changed, we only care about the content\n    if (oldEdge !== null && this.EDGE !== null) {\n      oldEdge._rev = this.EDGE._rev\n    }\n\n    const changed = !isEqual(this.EDGE, oldEdge)\n    if (changed && this.onRebase) {\n      this.onRebase(this.EDGE, incomingMutations, this.pending)\n    }\n  }\n}\n","import {makePatches, stringifyPatches} from '@sanity/diff-match-patch'\n\nimport {arrayToJSONMatchPath} from '../jsonpath/arrayToJSONMatchPath'\nimport {extractWithPath} from '../jsonpath/extractWithPath'\nimport {debug} from './debug'\nimport {Mutation} from './Mutation'\nimport {type Doc, type Mut} from './types'\n\n/**\n * Implements a buffer for mutations that incrementally optimises the mutations by\n * eliminating set-operations that overwrite earlier set-operations, and rewrite\n * set-operations that change strings into other strings into diffMatchPatch operations.\n *\n * @internal\n */\nexport class SquashingBuffer {\n  /**\n   * The document forming the basis of this squash\n   */\n  BASIS: Doc | null\n\n  /**\n   * The document after the out-Mutation has been applied, but before the staged\n   * operations are committed.\n   */\n  PRESTAGE: Doc | null\n\n  /**\n   * setOperations contain the latest set operation by path. If the set-operations are\n   * updating strings to new strings, they are rewritten as diffMatchPatch operations,\n   * any new set operations on the same paths overwrites any older set operations.\n   * Only set-operations assigning plain values to plain values gets optimized like this.\n   */\n  setOperations: Record<string, Mut | undefined>\n\n  /**\n   * `documentPresent` is true whenever we know that the document must be present due\n   * to preceeding mutations. `false` implies that it may or may not already exist.\n   */\n  documentPresent: boolean\n\n  /**\n   * The operations in the out-Mutation are not able to be optimized any further\n   */\n  out: Mut[] = []\n\n  /**\n   * Staged mutation operations\n   */\n  staged: Mut[]\n\n  constructor(doc: Doc | null) {\n    if (doc) {\n      debug('Reset mutation buffer to rev %s', doc._rev)\n    } else {\n      debug('Reset mutation buffer state to document being deleted')\n    }\n\n    this.staged = []\n    this.setOperations = {}\n    this.documentPresent = false\n\n    this.BASIS = doc\n    this.PRESTAGE = doc\n  }\n\n  add(mut: Mutation): void {\n    mut.mutations.forEach((op) => this.addOperation(op))\n  }\n\n  hasChanges(): boolean {\n    return this.out.length > 0 || Object.keys(this.setOperations).length > 0\n  }\n\n  /**\n   * Extracts the mutations in this buffer.\n   * After this is done, the buffer lifecycle is over and the client should\n   * create an new one with the new, updated BASIS.\n   *\n   * @param txnId - Transaction ID\n   * @returns A `Mutation` instance if we had outgoing mutations pending, null otherwise\n   */\n  purge(txnId?: string): Mutation | null {\n    this.stashStagedOperations()\n    let result = null\n    if (this.out.length > 0) {\n      debug('Purged mutation buffer')\n      result = new Mutation({\n        mutations: this.out,\n        resultRev: txnId,\n        transactionId: txnId,\n      })\n    }\n    this.out = []\n    this.documentPresent = false\n    return result\n  }\n\n  addOperation(op: Mut): void {\n    // Is this a set patch, and only a set patch, and does it apply to the document at hand?\n    if (\n      op.patch &&\n      op.patch.set &&\n      'id' in op.patch &&\n      op.patch.id === this.PRESTAGE?._id &&\n      Object.keys(op.patch).length === 2 // `id` + `set`\n    ) {\n      const setPatch = op.patch.set\n      const unoptimizable: Record<string, unknown> = {}\n      // Apply all optimisable keys in the patch\n      for (const path of Object.keys(setPatch)) {\n        if (setPatch.hasOwnProperty(path)) {\n          if (!this.optimiseSetOperation(path, setPatch[path])) {\n            // If not optimisable, add to unoptimizable set\n            unoptimizable[path] = setPatch[path]\n          }\n        }\n      }\n\n      // If any weren't optimisable, add them to an unoptimised set-operation, then\n      // stash everything.\n      if (Object.keys(unoptimizable).length > 0) {\n        debug('Unoptimizable set-operation detected, purging optimization buffer')\n        this.staged.push({patch: {id: this.PRESTAGE._id, set: unoptimizable}})\n        this.stashStagedOperations()\n      }\n\n      return\n    }\n\n    // Is this a createIfNotExists for our document?\n    if (op.createIfNotExists && this.PRESTAGE && op.createIfNotExists._id === this.PRESTAGE._id) {\n      if (!this.documentPresent) {\n        // If we don't know that it's present we'll have to stage and stash.\n        this.staged.push(op)\n        this.documentPresent = true\n        this.stashStagedOperations()\n      }\n\n      // Otherwise we can fully ignore it.\n      return\n    }\n\n    debug('Unoptimizable mutation detected, purging optimization buffer')\n    // console.log(\"Unoptimizable operation, stashing\", JSON.stringify(op))\n    // Un-optimisable operations causes everything to be stashed\n    this.staged.push(op)\n    this.stashStagedOperations()\n  }\n\n  /**\n   * Attempt to perform one single set operation in an optimised manner, return value\n   * reflects whether or not the operation could be performed.\n\n   * @param path - The JSONPath to the set operation in question\n   * @param nextValue - The value to be set\n   * @returns True of optimized, false otherwise\n   */\n  optimiseSetOperation(path: string, nextValue: unknown): boolean {\n    // console.log('optimiseSetOperation', path, nextValue)\n    // If target value is not a plain value, unable to optimise\n    if (typeof nextValue === 'object') {\n      // console.log(\"Not optimisable because next value is object\")\n      return false\n    }\n\n    // Check the source values, if there is more than one value being assigned,\n    // we won't optimise\n    const matches = extractWithPath(path, this.PRESTAGE)\n    // If we are not overwriting exactly one key, this cannot be optimised, so we bail\n    if (matches.length !== 1) {\n      // console.log('Not optimisable because match count is != 1', JSON.stringify(matches))\n      return false\n    }\n\n    // Okay, we are assigning exactly one value to exactly one existing slot, so we might optimise\n    const match = matches[0]\n    // If the value of the match is an array or object, we cannot safely optimise this since the meaning\n    // of pre-existing operations might change (in theory, at least), so we bail\n    if (typeof match.value === 'object') {\n      // console.log(\"Not optimisable because old value is object\")\n      return false\n    }\n\n    if (!this.PRESTAGE) {\n      // Shouldn't happen, but makes typescript happy\n      return false\n    }\n\n    // If the new and old value are the equal, we optimise this operation by discarding it\n    // Now, let's build the operation\n    let op: Mut | null = null\n    if (match.value === nextValue) {\n      // If new and old values are equal, we optimise this by deleting the operation\n      // console.log(\"Omitting operation\")\n      op = null\n    } else if (typeof match.value === 'string' && typeof nextValue === 'string') {\n      // console.log(\"Rewriting to dmp\")\n      // We are updating a string to another string, so we are making a diffMatchPatch\n      try {\n        const patch = stringifyPatches(makePatches(match.value, nextValue))\n        op = {patch: {id: this.PRESTAGE._id, diffMatchPatch: {[path]: patch}}}\n      } catch {\n        // patch_make failed due to unicode issue https://github.com/google/diff-match-patch/issues/59\n        return false\n      }\n    } else {\n      // console.log(\"Not able to rewrite to dmp, making normal set\")\n      // We are changing the type of the value, so must make a normal set-operation\n      op = {patch: {id: this.PRESTAGE._id, set: {[path]: nextValue}}}\n    }\n\n    // Let's make a plain, concrete path from the array-path. We use this to keep only the latest set\n    // operation touching this path in the buffer.\n    const canonicalPath = arrayToJSONMatchPath(match.path)\n\n    // Store this operation, overwriting any previous operations touching this same path\n    if (op) {\n      this.setOperations[canonicalPath] = op\n    } else {\n      delete this.setOperations[canonicalPath]\n    }\n\n    // Signal that we succeeded in optimizing this patch\n    return true\n  }\n\n  stashStagedOperations(): void {\n    // Short circuit if there are no staged operations\n    const nextOps: Mut[] = []\n\n    // Extract the existing outgoing operations if any\n    Object.keys(this.setOperations).forEach((key) => {\n      const op = this.setOperations[key]\n      if (op) {\n        nextOps.push(op)\n      }\n    })\n\n    nextOps.push(...this.staged)\n    if (nextOps.length > 0) {\n      this.PRESTAGE = new Mutation({mutations: nextOps}).apply(this.PRESTAGE) as Doc\n      this.staged = []\n      this.setOperations = {}\n    }\n\n    this.out.push(...nextOps)\n  }\n\n  /**\n   * Rebases given the new base-document\n   *\n   * @param newBasis - New base document to rebase on\n   * @returns New \"edge\" document with buffered changes integrated\n   */\n  rebase(newBasis: Doc | null): Doc | null {\n    this.stashStagedOperations()\n\n    if (newBasis === null) {\n      // If document was just deleted, we must throw out local changes\n      this.out = []\n      this.BASIS = newBasis\n      this.PRESTAGE = newBasis\n      this.documentPresent = false\n    } else {\n      this.BASIS = newBasis\n\n      // @todo was this supposed to be `this.out.length > 0`?\n      // surely this is always `true`?\n      if (this.out) {\n        this.PRESTAGE = new Mutation({mutations: this.out}).apply(this.BASIS) as Doc\n      } else {\n        this.PRESTAGE = this.BASIS\n      }\n    }\n\n    return this.PRESTAGE\n  }\n}\n","import {isEqual} from 'lodash'\n\nimport {debug} from './debug'\nimport {Document} from './Document'\nimport {Mutation} from './Mutation'\nimport {SquashingBuffer} from './SquashingBuffer'\nimport {type Doc, type Mut} from './types'\n\nconst ONE_MINUTE = 1000 * 60\n\n/**\n * @internal\n */\nexport interface CommitHandlerMessage {\n  mutation: Mutation\n  success: () => void\n  failure: () => void\n  cancel: (error: Error) => void\n}\n\n/**\n * A wrapper for Document that allows the client to gather mutations on the\n * client side and commit them when it wants to.\n */\nclass Commit {\n  mutations: Mutation[]\n  tries: number\n  resolve: () => void\n  reject: (error: Error) => void\n\n  constructor(\n    mutations: Mutation[],\n    {resolve, reject}: {resolve: () => void; reject: (error: Error) => void},\n  ) {\n    this.mutations = mutations\n    this.tries = 0\n    this.resolve = resolve\n    this.reject = reject\n  }\n\n  apply(doc: Doc | null): Doc | null {\n    return Mutation.applyAll(doc, this.mutations)\n  }\n\n  squash(doc: Doc | null) {\n    const result = Mutation.squash(doc, this.mutations)\n    result.assignRandomTransactionId()\n    return result\n  }\n}\n\nconst mutReducerFn = (acc: Mut[], mut: Mutation): Mut[] => acc.concat(mut.mutations)\n\n/**\n * @internal\n */\nexport class BufferedDocument {\n  private mutations: Mutation[]\n\n  /**\n   * The Document we are wrapping\n   */\n  document: Document\n\n  /**\n   * The Document with local changes applied\n   */\n  LOCAL: Doc | null\n\n  /**\n   * Commits that are waiting to be delivered to the server\n   */\n  private commits: Commit[]\n\n  /**\n   * Local mutations that are not scheduled to be committed yet\n   */\n  buffer: SquashingBuffer\n\n  /**\n   * Assignable event handler for when the buffered document applies a mutation\n   */\n  onMutation?: (message: {mutation: Mutation; document: Doc | null; remote: boolean}) => void\n\n  /**\n   * Assignable event handler for when a remote mutation happened\n   */\n  onRemoteMutation?: Document['onRemoteMutation']\n\n  /**\n   * Assignable event handler for when the buffered document rebased\n   */\n  onRebase?: (localDoc: Doc | null, remoteMutations: Mut[], localMutations: Mut[]) => void\n\n  /**\n   * Assignable event handler for when the document is deleted\n   */\n  onDelete?: (doc: Doc | null) => void\n\n  /**\n   * Assignable event handler for when the state of consistency changed\n   */\n  onConsistencyChanged?: (isConsistent: boolean) => void\n\n  /**\n   * Assignable event handler for when the buffered document should commit changes\n   */\n  commitHandler?: (msg: CommitHandlerMessage) => void\n\n  /**\n   * Whether or not we are currently commiting\n   */\n  committerRunning = false\n\n  constructor(doc: Doc | null) {\n    this.buffer = new SquashingBuffer(doc)\n    this.document = new Document(doc)\n    this.document.onMutation = (msg) => this.handleDocMutation(msg)\n    this.document.onRemoteMutation = (mut) => this.onRemoteMutation && this.onRemoteMutation(mut)\n    this.document.onRebase = (edge, remoteMutations, localMutations) =>\n      this.handleDocRebase(edge, remoteMutations, localMutations)\n    this.document.onConsistencyChanged = (msg) => this.handleDocConsistencyChanged(msg)\n    this.LOCAL = doc\n    this.mutations = []\n    this.commits = []\n  }\n\n  // Used to reset the state of the local document model. If the model has been inconsistent\n  // for too long, it has probably missed a notification, and should reload the document from the server\n  reset(doc: Doc | null): void {\n    if (doc) {\n      debug('Document state reset to revision %s', doc._rev)\n    } else {\n      debug('Document state reset to being deleted')\n    }\n    this.document.reset(doc)\n    this.rebase([], [])\n    this.handleDocConsistencyChanged(this.document.isConsistent())\n  }\n\n  // Add a change to the buffer\n  add(mutation: Mutation): void {\n    if (this.onConsistencyChanged) {\n      this.onConsistencyChanged(false)\n    }\n    debug('Staged local mutation')\n    this.buffer.add(mutation)\n    const oldLocal = this.LOCAL\n    this.LOCAL = mutation.apply(this.LOCAL)\n    if (this.onMutation && oldLocal !== this.LOCAL) {\n      debug('onMutation fired')\n      this.onMutation({\n        mutation,\n        document: this.LOCAL,\n        remote: false,\n      })\n      if (this.LOCAL === null && this.onDelete) {\n        this.onDelete(this.LOCAL)\n      }\n    }\n  }\n\n  // Call when a mutation arrives from Sanity\n  arrive(mutation: Mutation): void {\n    debug('Remote mutation arrived %s -> %s', mutation.previousRev, mutation.resultRev)\n    if (mutation.previousRev === mutation.resultRev) {\n      throw new Error(\n        `Mutation ${mutation.transactionId} has previousRev === resultRev (${mutation.previousRev})`,\n      )\n    }\n    return this.document.arrive(mutation)\n  }\n\n  // Submit all mutations in the buffer to be committed\n  commit(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      // Anything to commit?\n      if (!this.buffer.hasChanges()) {\n        resolve()\n        return\n      }\n      debug('Committing local changes')\n      // Collect current staged mutations into a commit and ...\n      const pendingMutations = this.buffer.purge()\n      this.commits.push(new Commit(pendingMutations ? [pendingMutations] : [], {resolve, reject}))\n      // ... clear the table for the next commit.\n      this.buffer = new SquashingBuffer(this.LOCAL)\n      this.performCommits()\n    })\n  }\n\n  // Starts the committer that will try to committ all staged commits to the database\n  // by calling the commitHandler. Will keep running until all commits are successfully\n  // committed.\n  performCommits(): void {\n    if (!this.commitHandler) {\n      throw new Error('No commitHandler configured for this BufferedDocument')\n    }\n    if (this.committerRunning) {\n      // We can have only one committer at any given time\n      return\n    }\n    this._cycleCommitter()\n  }\n\n  // TODO: Error handling, right now retries after every error\n  _cycleCommitter(): void {\n    const commit = this.commits.shift()\n    if (!commit) {\n      this.committerRunning = false\n      return\n    }\n\n    this.committerRunning = true\n    const squashed = commit.squash(this.LOCAL)\n    const docResponder = this.document.stage(squashed, true)\n\n    const responder = {\n      success: () => {\n        debug('Commit succeeded')\n        docResponder.success()\n        commit.resolve()\n        // Keep running the committer until no more commits\n        this._cycleCommitter()\n      },\n\n      failure: () => {\n        debug('Commit failed')\n        // Re stage commit\n        commit.tries += 1\n        if (this.LOCAL !== null) {\n          // Only schedule this commit for a retry of the document still exist to avoid looping\n          // indefinitely when the document was deleted from under our noses\n          this.commits.unshift(commit)\n        }\n        docResponder.failure()\n\n        // Todo: Need better error handling (i.e. propagate to user and provide means of retrying)\n        if (commit.tries < 200) {\n          setTimeout(() => this._cycleCommitter(), Math.min(commit.tries * 1000, ONE_MINUTE))\n        }\n      },\n\n      cancel: (error: Error) => {\n        this.commits.forEach((comm) => comm.reject(error))\n\n        // Throw away waiting commits\n        this.commits = []\n\n        // Reset back to last known state from content lake and cause a rebase that will\n        // reset the view in the form\n        this.reset(this.document.HEAD)\n\n        // Clear the buffer of recent mutations\n        this.buffer = new SquashingBuffer(this.LOCAL)\n\n        // Stop the committer loop\n        this.committerRunning = false\n      },\n    }\n\n    debug('Posting commit')\n    if (this.commitHandler) {\n      this.commitHandler({\n        mutation: squashed,\n        success: responder.success,\n        failure: responder.failure,\n        cancel: responder.cancel,\n      })\n    }\n  }\n\n  handleDocRebase(edge: Doc | null, remoteMutations: Mutation[], localMutations: Mutation[]): void {\n    this.rebase(remoteMutations, localMutations)\n  }\n\n  handleDocumentDeleted(): void {\n    debug('Document deleted')\n    // If the document was just deleted, fire the onDelete event with the absolutely latest\n    // version of the document before someone deleted it so that the client may revive the\n    // document in the last state the user saw it, should they so desire.\n    if (this.LOCAL !== null && this.onDelete) {\n      this.onDelete(this.LOCAL)\n    }\n\n    this.commits = []\n    this.mutations = []\n  }\n\n  handleDocMutation(msg: {mutation: Mutation; document: Doc | null; remote: boolean}): void {\n    // If we have no local changes, we can just pass this on to the client\n    if (this.commits.length === 0 && !this.buffer.hasChanges()) {\n      debug('Document mutated from remote with no local changes')\n      this.LOCAL = this.document.EDGE\n      this.buffer = new SquashingBuffer(this.LOCAL)\n      if (this.onMutation) {\n        this.onMutation(msg)\n      }\n      return\n    }\n\n    debug('Document mutated from remote with local changes')\n\n    // If there are local edits, and the document was deleted, we need to purge those local edits now\n    if (this.document.EDGE === null) {\n      this.handleDocumentDeleted()\n    }\n\n    // We had local changes, so need to signal rebase\n    this.rebase([msg.mutation], [])\n  }\n\n  rebase(remoteMutations: Mutation[], localMutations: Mutation[]): void {\n    debug('Rebasing document')\n    if (this.document.EDGE === null) {\n      this.handleDocumentDeleted()\n    }\n\n    const oldLocal = this.LOCAL\n    this.LOCAL = this.commits.reduce((doc, commit) => commit.apply(doc), this.document.EDGE)\n    this.LOCAL = this.buffer.rebase(this.LOCAL)\n\n    // Copy over rev, since we don't care if it changed, we only care about the content\n    if (oldLocal !== null && this.LOCAL !== null) {\n      oldLocal._rev = this.LOCAL._rev\n    }\n\n    const changed = !isEqual(this.LOCAL, oldLocal)\n    if (changed && this.onRebase) {\n      this.onRebase(\n        this.LOCAL,\n        remoteMutations.reduce(mutReducerFn, []),\n        localMutations.reduce(mutReducerFn, []),\n      )\n    }\n  }\n\n  handleDocConsistencyChanged(isConsistent: boolean): void {\n    if (!this.onConsistencyChanged) {\n      return\n    }\n\n    const hasLocalChanges = this.commits.length > 0 || this.buffer.hasChanges()\n\n    if (isConsistent && !hasLocalChanges) {\n      this.onConsistencyChanged(true)\n    }\n\n    if (!isConsistent) {\n      this.onConsistencyChanged(false)\n    }\n  }\n}\n"],"names":["isRecord","descend","lhs","rhs","parsePatch"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]}},
    {"offset": {"line": 11941, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11947, "column": 0}, "map": {"version":3,"file":"index.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/helpers.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/lcs.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffArray.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffObject.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffSimple.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffString.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffTypeChange.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/calculate/diffInput.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/inputWrappers/array.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/inputWrappers/basic.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/inputWrappers/object.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/inputWrappers/string.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/diff/src/inputWrappers/index.ts"],"sourcesContent":["export function replaceProperty<P, V extends P[K], K extends keyof P>(\n  parent: P,\n  prop: K,\n  value: V,\n): V {\n  delete parent[prop]\n  parent[prop] = value\n  return value\n}\n","/*\n * Longest common subsequence implementation, for diffing arrays\n * Reference: http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\n */\n\ntype NumberArray = number[]\ntype LengthMatrix = NumberArray[]\ntype Subsequence<E> = {\n  sequence: E[]\n  prevIndices: number[]\n  nextIndices: number[]\n}\n\nexport function getLongestCommonSubsequence<E>(previous: E[], next: E[]): Subsequence<E> {\n  const matrix = getLengthMatrix(previous, next)\n  const result = backtrack(matrix, previous, next)\n  return result\n}\n\nfunction getLengthMatrix<E>(previous: E[], next: E[]): LengthMatrix {\n  const len1 = previous.length\n  const len2 = next.length\n  let x = 0\n  let y = 0\n\n  // initialize empty matrix of len1+1 x len2+1\n  const matrix: LengthMatrix = new Array(len1 + 1)\n  for (x = 0; x < len1 + 1; x++) {\n    matrix[x] = [len2 + 1]\n    for (y = 0; y < len2 + 1; y++) {\n      matrix[x][y] = 0\n    }\n  }\n\n  // save sequence lengths for each coordinate\n  for (x = 1; x < len1 + 1; x++) {\n    for (y = 1; y < len2 + 1; y++) {\n      if (previous[x - 1] === next[y - 1]) {\n        matrix[x][y] = matrix[x - 1][y - 1] + 1\n      } else {\n        matrix[x][y] = Math.max(matrix[x - 1][y], matrix[x][y - 1])\n      }\n    }\n  }\n\n  return matrix\n}\n\nfunction backtrack<E>(matrix: LengthMatrix, previous: E[], next: E[]): Subsequence<E> {\n  let prevIndex = previous.length\n  let nextIndex = next.length\n  const subsequence: Subsequence<E> = {\n    sequence: [],\n    prevIndices: [],\n    nextIndices: [],\n  }\n\n  while (prevIndex !== 0 && nextIndex !== 0) {\n    const areEqual = previous[prevIndex - 1] === next[nextIndex - 1]\n    if (areEqual) {\n      subsequence.sequence.unshift(previous[prevIndex - 1])\n      subsequence.prevIndices.unshift(prevIndex - 1)\n      subsequence.nextIndices.unshift(nextIndex - 1)\n      --prevIndex\n      --nextIndex\n    } else {\n      const valueAtMatrixAbove = matrix[prevIndex][nextIndex - 1]\n      const valueAtMatrixLeft = matrix[prevIndex - 1][nextIndex]\n      if (valueAtMatrixAbove > valueAtMatrixLeft) {\n        --nextIndex\n      } else {\n        --prevIndex\n      }\n    }\n  }\n  return subsequence\n}\n","import {replaceProperty} from '../helpers'\nimport {type ArrayDiff, type ArrayInput, type DiffOptions, type ItemDiff} from '../types'\nimport {addedInput, diffInput, removedInput} from './diffInput'\nimport {getLongestCommonSubsequence} from './lcs'\n\nexport function diffArray<A>(\n  fromInput: ArrayInput<A>,\n  toInput: ArrayInput<A>,\n  options: DiffOptions,\n): ArrayDiff<A> {\n  if (fromInput === toInput) {\n    const fromValue = fromInput.value\n    const toValue = toInput.value\n\n    return {\n      type: 'array',\n      action: 'unchanged',\n      isChanged: false,\n      fromValue,\n      toValue,\n      get items(): ItemDiff<A>[] {\n        const items = diffExactByPosition(fromInput, toInput, options)\n        if (!items) throw new Error('invariant broken: equivalent input, but diff detected')\n        return replaceProperty(this, 'items', items)\n      },\n    }\n  }\n\n  // The key-ed approach should handle most cases (_key'ed objects, primitives):\n  const keyedA = indexByKey(fromInput)\n  const keyedB = indexByKey(toInput)\n\n  if (keyedA && keyedB) {\n    return diffArrayByKey(fromInput, keyedA, toInput, keyedB, options)\n  }\n\n  // Check if they are 100% equivalent:\n  const items = diffExactByPosition(fromInput, toInput, options)\n  if (items) return buildArrayDiff(fromInput, toInput, items, false)\n\n  // Otherwise we create a diff where we model it as removing the from-items and adding the to-items.\n  return diffArrayByReinsert(fromInput, toInput, options)\n}\n\nfunction buildArrayDiff<A>(\n  fromInput: ArrayInput<A>,\n  toInput: ArrayInput<A>,\n  items: ItemDiff<A>[],\n  isChanged: boolean,\n): ArrayDiff<A> {\n  const fromValue = fromInput.value\n  const toValue = toInput.value\n\n  return isChanged\n    ? {\n        type: 'array',\n        action: 'changed',\n        isChanged: true,\n        fromValue,\n        toValue,\n        items,\n        annotation: toInput.annotation,\n      }\n    : {\n        type: 'array',\n        action: 'unchanged',\n        isChanged: false,\n        fromValue,\n        toValue,\n        items,\n      }\n}\n\n/**\n * Diffes the two arrays by position. Returns an `items` array if they are unchanged, or undefined\n * if there are any changes anywhere.\n */\nfunction diffExactByPosition<A>(\n  fromInput: ArrayInput<A>,\n  toInput: ArrayInput<A>,\n  options: DiffOptions,\n): ItemDiff<A>[] | undefined {\n  if (fromInput.length !== toInput.length) {\n    return undefined\n  }\n\n  const items: ItemDiff<A>[] = []\n\n  for (let idx = 0; idx < fromInput.length; idx++) {\n    const diff = diffInput(fromInput.at(idx), toInput.at(idx), options)\n    if (diff.isChanged) {\n      return undefined\n    }\n\n    items.push({\n      fromIndex: idx,\n      toIndex: idx,\n      hasMoved: false,\n      diff,\n      annotation: toInput.annotationAt(idx),\n    })\n  }\n\n  return items\n}\n\nfunction diffArrayByReinsert<A>(\n  fromInput: ArrayInput<A>,\n  toInput: ArrayInput<A>,\n  options: DiffOptions,\n): ArrayDiff<A> {\n  const items: ItemDiff<A>[] = []\n\n  for (let idx = 0; idx < toInput.length; idx++) {\n    const input = toInput.at(idx)\n\n    items.push({\n      fromIndex: undefined,\n      toIndex: idx,\n      hasMoved: false,\n      diff: addedInput(input, undefined, options),\n      annotation: input.annotation,\n    })\n  }\n\n  for (let idx = 0; idx < fromInput.length; idx++) {\n    const input = fromInput.at(idx)\n\n    items.push({\n      fromIndex: idx,\n      toIndex: undefined,\n      hasMoved: false,\n      diff: removedInput(input, undefined, options),\n      annotation: input.annotation,\n    })\n  }\n\n  return buildArrayDiff(fromInput, toInput, items, true)\n}\n\ntype Key = string | number | boolean\n\n/**\n * Diff an array when all the elements have _key in the same position.\n */\nfunction diffArrayByKey<A>(\n  fromArray: ArrayInput<A>,\n  fromKeyIndex: KeyIndex,\n  toArray: ArrayInput<A>,\n  toKeyIndex: KeyIndex,\n  options: DiffOptions,\n): ArrayDiff<A> {\n  const items: ItemDiff<A>[] = []\n  let isChanged = false\n\n  function diffCommon(key: Key, fromIndex: number, toIndex: number, hasMoved: boolean) {\n    deletePositionInIndex(fromKeyIndex.index, key, fromIndex)\n    deletePositionInIndex(toKeyIndex.index, key, toIndex)\n\n    const fromInput = fromArray.at(fromIndex)\n    const toInput = toArray.at(toIndex)\n\n    const diff = diffInput(fromInput, toInput)\n    items.push({\n      fromIndex,\n      toIndex,\n      hasMoved,\n      diff,\n      annotation: toArray.annotationAt(toIndex),\n    })\n\n    if (diff.isChanged || fromIndex !== toIndex) {\n      isChanged = true\n    }\n  }\n\n  const lcs = getLongestCommonSubsequence(fromKeyIndex.keys, toKeyIndex.keys)\n\n  for (let fromIndex = 0; fromIndex < fromKeyIndex.keys.length; fromIndex++) {\n    const key = fromKeyIndex.keys[fromIndex]\n\n    const subsequenceIdx = lcs.prevIndices.indexOf(fromIndex)\n    if (subsequenceIdx !== -1) {\n      // Part of the common subsequence => hasMoved:false\n      diffCommon(key, fromIndex, lcs.nextIndices[subsequenceIdx], false)\n      continue\n    }\n\n    // Not a part of the subsequence. Try to find another item which has the same key\n    // and also is not part of the common subsequence.\n    const toIndexes = toKeyIndex.index.get(key)\n    const toIndex = toIndexes && toIndexes.find((idx) => !lcs.nextIndices.includes(idx))\n    if (toIndex !== undefined) {\n      diffCommon(key, fromIndex, toIndex, true)\n      continue\n    }\n\n    const input = fromArray.at(fromIndex)\n\n    items.push({\n      fromIndex,\n      toIndex: undefined,\n      hasMoved: false,\n      diff: removedInput(input, undefined, options),\n      annotation: fromArray.annotationAt(fromIndex),\n    })\n\n    isChanged = true\n  }\n\n  // The remaining data in toKeyIndex are the new elements which has been added\n  for (const positions of toKeyIndex.index.values()) {\n    for (const toIndex of positions) {\n      const input = toArray.at(toIndex)\n      items.push({\n        fromIndex: undefined,\n        toIndex,\n        hasMoved: false,\n        diff: addedInput(input, undefined, options),\n        annotation: toArray.annotationAt(toIndex),\n      })\n    }\n\n    isChanged = true\n  }\n\n  items.sort(compareItemDiff)\n\n  return buildArrayDiff(fromArray, toArray, items, isChanged)\n}\n\nfunction compareItemDiff<A>(a: ItemDiff<A>, b: ItemDiff<A>): number {\n  if (a.toIndex !== undefined && b.toIndex !== undefined) {\n    return a.toIndex - b.toIndex\n  }\n\n  if (a.fromIndex !== undefined && b.fromIndex !== undefined) {\n    return a.fromIndex - b.fromIndex\n  }\n\n  if (a.fromIndex !== undefined && b.toIndex !== undefined) {\n    // A was removed and B was added. Prefer to sort removals last.\n    return -1\n  }\n\n  if (a.toIndex !== undefined && b.fromIndex !== undefined) {\n    // A was added and B was removed. Prefer to sort removals last.\n    return 1\n  }\n\n  throw new Error('invalid item diff comparison')\n}\n\nfunction deletePositionInIndex(index: Map<Key, number[]>, key: Key, pos: number) {\n  const positions = index.get(key)!\n  deleteArrayValue(positions, pos)\n  if (positions.length === 0) {\n    index.delete(key)\n  }\n}\n\nfunction deleteArrayValue<E>(arr: E[], value: E) {\n  const idx = arr.indexOf(value)\n  if (idx === -1) throw new Error('value not found')\n  arr.splice(idx, 1)\n}\n\ntype KeyIndex = {\n  keys: Key[]\n  index: Map<Key, number[]>\n}\n\n/**\n * Indexes the array by a key. This handles cases where the items are:\n *\n * - Objects with _key\n * - Strings\n * - Numbers\n */\nfunction indexByKey<A>(arr: ArrayInput<A>): KeyIndex | undefined {\n  const index = new Map<Key, number[]>()\n  const keys: Key[] = []\n  const length = arr.length\n\n  for (let i = 0; i < length; i++) {\n    const item = arr.at(i)\n\n    let key: Key | null = null\n\n    switch (item.type) {\n      case 'string':\n        key = `s${item.value}`\n        break\n      case 'number':\n        key = item.value\n        break\n      case 'boolean':\n        key = item.value\n        break\n      case 'null':\n        key = 'n'\n        break\n      case 'object':\n        {\n          const keyField = item.get('_key')\n          if (keyField && keyField.type === 'string') {\n            key = `k${keyField.value}`\n\n            // We do not handle duplicate _key\n            if (index.has(key)) return undefined\n          }\n        }\n        break\n      default:\n    }\n\n    // No key => abort\n    if (key === null) return undefined\n\n    keys.push(key)\n    let positions = index.get(key)\n    if (!positions) {\n      positions = []\n      index.set(key, positions)\n    }\n    positions.push(i)\n  }\n\n  // All is good.\n  return {keys, index}\n}\n\nexport function removedArray<A>(\n  input: ArrayInput<A>,\n  toValue: null | undefined,\n  options: DiffOptions,\n): ArrayDiff<A> & {action: 'removed'} {\n  return {\n    type: 'array',\n    action: 'removed',\n    isChanged: true,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n\n    get items(): ArrayDiff<A>['items'] {\n      const items: ArrayDiff<A>['items'] = []\n      for (let i = 0; i < input.length; i++) {\n        const item = input.at(i)\n        items.push({\n          fromIndex: i,\n          toIndex: undefined,\n          hasMoved: false,\n          diff: removedInput(item, undefined, options),\n          annotation: input.annotationAt(i),\n        })\n      }\n\n      return replaceProperty(this, 'items', items)\n    },\n  }\n}\n\nexport function addedArray<A>(\n  input: ArrayInput<A>,\n  fromValue: null | undefined,\n  options: DiffOptions,\n): ArrayDiff<A> & {action: 'added'} {\n  return {\n    type: 'array',\n    action: 'added',\n    isChanged: true,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n\n    get items(): ArrayDiff<A>['items'] {\n      const items: ArrayDiff<A>['items'] = []\n      for (let i = 0; i < input.length; i++) {\n        const item = input.at(i)\n        items.push({\n          fromIndex: undefined,\n          toIndex: i,\n          hasMoved: false,\n          diff: addedInput(item, undefined, options),\n          annotation: input.annotationAt(i),\n        })\n      }\n\n      return replaceProperty(this, 'items', items)\n    },\n  }\n}\n","import {replaceProperty} from '../helpers'\nimport {type DiffOptions, type ObjectDiff, type ObjectInput} from '../types'\nimport {addedInput, diffInput, removedInput} from './diffInput'\n\nconst ignoredFields = new Set(['_id', '_type', '_createdAt', '_updatedAt', '_rev', '_weak'])\n\nexport function diffObject<A>(\n  fromInput: ObjectInput<A>,\n  toInput: ObjectInput<A>,\n  options: DiffOptions,\n): ObjectDiff<A> {\n  const fields: ObjectDiff<A>['fields'] = {}\n  let isChanged = false\n\n  for (const key of fromInput.keys) {\n    if (ignoredFields.has(key)) continue\n\n    const fromField = fromInput.get(key)!\n\n    const toField = toInput.get(key)\n    if (toField) {\n      const fieldDiff = diffInput(fromField, toField, options)\n      fields[key] = fieldDiff\n      if (fieldDiff.isChanged) isChanged = true\n    } else {\n      fields[key] = removedInput(fromField, undefined, options)\n      isChanged = true\n    }\n  }\n\n  for (const key of toInput.keys) {\n    if (ignoredFields.has(key)) continue\n\n    // Already handled above\n    if (fromInput.get(key)) continue\n\n    const toField = toInput.get(key)!\n    fields[key] = addedInput(toField, undefined, options)\n    isChanged = true\n  }\n\n  const fromValue = fromInput.value\n  const toValue = toInput.value\n\n  if (!isChanged) {\n    return {\n      type: 'object',\n      action: 'unchanged',\n      isChanged: false,\n      fromValue,\n      toValue,\n      fields,\n    }\n  }\n\n  return {\n    type: 'object',\n    action: 'changed',\n    isChanged: true,\n    fromValue,\n    toValue,\n    fields,\n    annotation: toInput.annotation,\n  }\n}\n\nexport function removedObject<A>(\n  input: ObjectInput<A>,\n  toValue: null | undefined,\n  options: DiffOptions,\n): ObjectDiff<A> & {action: 'removed'} {\n  return {\n    type: 'object',\n    action: 'removed',\n    isChanged: true,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n\n    get fields(): ObjectDiff<A>['fields'] {\n      const fields: ObjectDiff<A>['fields'] = {}\n      for (const key of input.keys) {\n        const value = input.get(key)!\n        fields[key] = removedInput(value, undefined, options)\n      }\n      return replaceProperty(this, 'fields', fields)\n    },\n  }\n}\n\nexport function addedObject<A>(\n  input: ObjectInput<A>,\n  fromValue: null | undefined,\n  options: DiffOptions,\n): ObjectDiff<A> & {action: 'added'} {\n  return {\n    type: 'object',\n    action: 'added',\n    isChanged: true,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n\n    get fields(): ObjectDiff<A>['fields'] {\n      const fields: ObjectDiff<A>['fields'] = {}\n      for (const key of input.keys) {\n        const value = input.get(key)!\n        fields[key] = addedInput(value, undefined, options)\n      }\n      return replaceProperty(this, 'fields', fields)\n    },\n  }\n}\n","import {\n  type BooleanDiff,\n  type BooleanInput,\n  type DiffOptions,\n  type NumberDiff,\n  type NumberInput,\n} from '../types'\n\nexport function diffNumber<A>(\n  fromInput: NumberInput<A>,\n  toInput: NumberInput<A>,\n  options: DiffOptions,\n): NumberDiff<A> {\n  const fromValue = fromInput.value\n  const toValue = toInput.value\n  const type = fromInput.type\n\n  if (fromValue === toValue)\n    return {\n      type,\n      action: 'unchanged',\n      fromValue,\n      toValue,\n      isChanged: false,\n    }\n\n  return {\n    type: fromInput.type,\n    action: 'changed',\n    isChanged: true,\n    fromValue: fromValue,\n    toValue: toValue,\n    annotation: toInput.annotation,\n  }\n}\n\nexport function diffBoolean<A>(\n  fromInput: BooleanInput<A>,\n  toInput: BooleanInput<A>,\n  options: DiffOptions,\n): BooleanDiff<A> {\n  const fromValue = fromInput.value\n  const toValue = toInput.value\n  const type = fromInput.type\n\n  if (fromValue === toValue)\n    return {\n      type,\n      action: 'unchanged',\n      fromValue,\n      toValue,\n      isChanged: false,\n    }\n\n  return {\n    type: fromInput.type,\n    action: 'changed',\n    isChanged: true,\n    fromValue: fromValue,\n    toValue: toValue,\n    annotation: toInput.annotation,\n  }\n}\n","import {\n  cleanupSemantic,\n  DIFF_DELETE,\n  DIFF_EQUAL,\n  DIFF_INSERT,\n  makeDiff,\n} from '@sanity/diff-match-patch'\n\nimport {replaceProperty} from '../helpers'\nimport {type DiffOptions, type StringDiff, type StringDiffSegment, type StringInput} from '../types'\n\nexport function diffString<A>(\n  fromInput: StringInput<A>,\n  toInput: StringInput<A>,\n  options: DiffOptions,\n): StringDiff<A> {\n  const fromValue = fromInput.value\n  const toValue = toInput.value\n\n  if (fromValue === toValue) {\n    return {\n      type: 'string',\n      action: 'unchanged',\n      isChanged: false,\n      fromValue,\n      toValue,\n      segments: [{type: 'stringSegment', action: 'unchanged', text: fromValue}],\n    }\n  }\n\n  return {\n    type: 'string',\n    action: 'changed',\n    isChanged: true,\n    fromValue,\n    toValue,\n    annotation: toInput.annotation,\n\n    // Compute and memoize string segments only when accessed\n    get segments(): StringDiffSegment<A>[] {\n      const segments = buildSegments(fromInput, toInput)\n      return replaceProperty(this, 'segments', segments)\n    },\n  }\n}\n\nfunction buildSegments<A>(\n  fromInput: StringInput<A>,\n  toInput: StringInput<A>,\n): StringDiffSegment<A>[] {\n  const segments: StringDiffSegment<A>[] = []\n  const dmpDiffs = cleanupSemantic(makeDiff(fromInput.value, toInput.value))\n\n  let fromIdx = 0\n  let toIdx = 0\n\n  for (const [op, text] of dmpDiffs) {\n    switch (op) {\n      case DIFF_EQUAL:\n        segments.push({type: 'stringSegment', action: 'unchanged', text})\n        fromIdx += text.length\n        toIdx += text.length\n        break\n      case DIFF_DELETE:\n        for (const segment of fromInput.sliceAnnotation(fromIdx, fromIdx + text.length)) {\n          segments.push({\n            type: 'stringSegment',\n            action: 'removed',\n            text: segment.text,\n            annotation: segment.annotation,\n          })\n        }\n        fromIdx += text.length\n        break\n      case DIFF_INSERT:\n        for (const segment of toInput.sliceAnnotation(toIdx, toIdx + text.length)) {\n          segments.push({\n            type: 'stringSegment',\n            action: 'added',\n            text: segment.text,\n            annotation: segment.annotation,\n          })\n        }\n        toIdx += text.length\n        break\n      default:\n        throw new Error(`Unhandled diff-match-patch operation \"${op}\"`)\n    }\n  }\n\n  return segments\n}\n\nexport function removedString<A>(\n  input: StringInput<A>,\n  toValue: null | undefined,\n  options: DiffOptions,\n): StringDiff<A> & {action: 'removed'} {\n  return {\n    type: 'string',\n    action: 'removed',\n    isChanged: true,\n    fromValue: input.value,\n    toValue,\n    annotation: input.annotation,\n\n    get segments(): StringDiffSegment<A>[] {\n      const segments: StringDiffSegment<A>[] = input\n        .sliceAnnotation(0, input.value.length)\n        .map((segment) => ({type: 'stringSegment', action: 'removed', ...segment}))\n\n      return replaceProperty(this, 'segments', segments)\n    },\n  }\n}\n\nexport function addedString<A>(\n  input: StringInput<A>,\n  fromValue: null | undefined,\n  options: DiffOptions,\n): StringDiff<A> & {action: 'added'} {\n  return {\n    type: 'string',\n    action: 'added',\n    isChanged: true,\n    fromValue,\n    toValue: input.value,\n    annotation: input.annotation,\n\n    get segments(): StringDiffSegment<A>[] {\n      const segments: StringDiffSegment<A>[] = input\n        .sliceAnnotation(0, input.value.length)\n        .map((segment) => ({type: 'stringSegment', action: 'added', ...segment}))\n\n      return replaceProperty(this, 'segments', segments)\n    },\n  }\n}\n","import {type DiffOptions, type Input, type TypeChangeDiff} from '../types'\nimport {addedInput, removedInput} from './diffInput'\n\nexport function diffTypeChange<A>(\n  fromInput: Input<A>,\n  toInput: Input<A>,\n  options: DiffOptions,\n): TypeChangeDiff<A> {\n  return {\n    type: 'typeChange',\n    action: 'changed',\n    isChanged: true,\n\n    fromType: fromInput.type,\n    fromValue: fromInput.value,\n    fromDiff: removedInput(fromInput, undefined, options),\n\n    toType: toInput.type,\n    toValue: toInput.value,\n    toDiff: addedInput(toInput, undefined, options),\n\n    annotation: toInput.annotation,\n  }\n}\n","import {\n  type ArrayInput,\n  type BooleanInput,\n  type Diff,\n  type DiffOptions,\n  type Input,\n  type NumberInput,\n  type ObjectInput,\n  type StringInput,\n} from '../types'\nimport {addedArray, diffArray, removedArray} from './diffArray'\nimport {addedObject, diffObject, removedObject} from './diffObject'\nimport {diffBoolean, diffNumber} from './diffSimple'\nimport {addedString, diffString, removedString} from './diffString'\nimport {diffTypeChange} from './diffTypeChange'\n\n/**\n * Takes a `from` and `to` input and calulates a diff between the two\n *\n * @param fromInput - The source (`from`) input - use {@link wrap | the wrap() method} to generate an \"input\"\n * @param toInput - The destination (`to`) input - use {@link wrap | the wrap() method} to generate an \"input\"\n * @param options - Options for the diffing process - currently no options are defined\n * @returns A diff object representing the change\n * @public\n */\nexport function diffInput<A>(\n  fromInput: Input<A>,\n  toInput: Input<A>,\n  options: DiffOptions = {},\n): Diff<A> {\n  if (fromInput.type !== toInput.type) {\n    if (fromInput.type === 'null') {\n      return addedInput(toInput, null, options)\n    }\n\n    if (toInput.type === 'null') {\n      return removedInput(fromInput, null, options)\n    }\n\n    return diffTypeChange(fromInput, toInput, options)\n  }\n\n  return diffWithType(fromInput.type, fromInput, toInput, options)\n}\n\nfunction diffWithType<A>(\n  type: Input<A>['type'],\n  fromInput: Input<A>,\n  toInput: Input<A>,\n  options: DiffOptions,\n): Diff<A> {\n  switch (type) {\n    case 'null':\n      return {\n        type: 'null',\n        action: 'unchanged',\n        isChanged: false,\n        toValue: null,\n        fromValue: null,\n      }\n    case 'boolean':\n      return diffBoolean(fromInput as BooleanInput<A>, toInput as BooleanInput<A>, options)\n    case 'number':\n      return diffNumber(fromInput as NumberInput<A>, toInput as NumberInput<A>, options)\n    case 'string':\n      return diffString(fromInput as StringInput<A>, toInput as StringInput<A>, options)\n    case 'array':\n      return diffArray(fromInput as ArrayInput<A>, toInput as ArrayInput<A>, options)\n    case 'object':\n      return diffObject(fromInput as ObjectInput<A>, toInput as ObjectInput<A>, options)\n    default:\n      throw new Error(`Unhandled diff type \"${type}\"`)\n  }\n}\n\nexport function removedInput<A>(\n  input: Input<A>,\n  toValue: null | undefined,\n  options: DiffOptions,\n): Diff<A> & {action: 'removed'} {\n  switch (input.type) {\n    case 'null':\n      return {\n        type: 'null',\n        action: 'removed',\n        isChanged: true,\n        fromValue: null,\n        toValue,\n        annotation: input.annotation,\n      }\n    case 'boolean':\n      return {\n        type: 'boolean',\n        action: 'removed',\n        isChanged: true,\n        fromValue: input.value,\n        toValue,\n        annotation: input.annotation,\n      }\n    case 'number':\n      return {\n        type: 'number',\n        action: 'removed',\n        isChanged: true,\n        fromValue: input.value,\n        toValue,\n        annotation: input.annotation,\n      }\n    case 'string':\n      return removedString(input, toValue, options)\n    case 'array':\n      return removedArray(input, toValue, options)\n    case 'object':\n      return removedObject(input, toValue, options)\n    default:\n      throw new Error('Unhandled diff type')\n  }\n}\n\nexport function addedInput<A>(\n  input: Input<A>,\n  fromValue: null | undefined,\n  options: DiffOptions,\n): Diff<A> & {action: 'added'} {\n  switch (input.type) {\n    case 'null':\n      return {\n        type: 'null',\n        action: 'added',\n        isChanged: true,\n        fromValue,\n        toValue: null,\n        annotation: input.annotation,\n      }\n    case 'boolean':\n      return {\n        type: 'boolean',\n        action: 'added',\n        isChanged: true,\n        fromValue,\n        toValue: input.value,\n        annotation: input.annotation,\n      }\n    case 'number':\n      return {\n        type: 'number',\n        action: 'added',\n        isChanged: true,\n        fromValue,\n        toValue: input.value,\n        annotation: input.annotation,\n      }\n    case 'string':\n      return addedString(input, fromValue, options)\n    case 'array':\n      return addedArray(input, fromValue, options)\n    case 'object':\n      return addedObject(input, fromValue, options)\n    default:\n      throw new Error('Unhandled diff type')\n  }\n}\n","import {type ArrayInput, type Input} from '../types'\nimport {wrap} from './index'\n\nexport default class ArrayWrapper<A> implements ArrayInput<A> {\n  type = 'array' as const\n  length: number\n  value: unknown[]\n  annotation: A\n\n  private elements: Input<A>[] = []\n\n  constructor(value: unknown[], annotation: A) {\n    this.annotation = annotation\n    this.value = value\n    this.length = value.length\n  }\n\n  at(idx: number): Input<A> {\n    if (idx >= this.length) throw new Error('out of bounds')\n    const input = this.elements[idx]\n    if (input) {\n      return input\n    }\n\n    return (this.elements[idx] = wrap(this.value[idx], this.annotation))\n  }\n\n  annotationAt(): A {\n    return this.annotation\n  }\n}\n","type SimpleType = 'boolean' | 'number' | 'null'\n\nexport default class BasicWrapper<K extends SimpleType, V, A> {\n  type: K\n  value: V\n  annotation: A\n\n  constructor(type: K, value: V, annotation: A) {\n    this.type = type\n    this.value = value\n    this.annotation = annotation\n  }\n}\n","import {type Input, type ObjectInput} from '../types'\nimport {wrap} from './index'\n\nexport default class ObjectWrapper<A> implements ObjectInput<A> {\n  type = 'object' as const\n  value: Record<string, unknown>\n  keys: string[]\n  annotation: A\n\n  private fields: Record<string, Input<A>> = {}\n\n  constructor(value: Record<string, unknown>, annotation: A) {\n    this.value = value\n    this.annotation = annotation\n    this.keys = Object.keys(value)\n  }\n\n  get(key: string): Input<A> | undefined {\n    const input = this.fields[key]\n    if (input) {\n      return input\n    }\n\n    if (!this.value.hasOwnProperty(key)) {\n      return undefined\n    }\n\n    const raw = this.value[key]\n    return (this.fields[key] = wrap(raw, this.annotation))\n  }\n}\n","import {type StringInput} from '../types'\n\nexport default class StringWrapper<A> implements StringInput<A> {\n  type = 'string' as const\n  value: string\n  annotation: A\n\n  constructor(value: string, annotation: A) {\n    this.value = value\n    this.annotation = annotation\n  }\n\n  sliceAnnotation(start: number, end: number): {text: string; annotation: A}[] {\n    return [{text: this.value.slice(start, end), annotation: this.annotation}]\n  }\n}\n","import {type Input} from '../types'\nimport ArrayWrapper from './array'\nimport BasicWrapper from './basic'\nimport ObjectWrapper from './object'\nimport StringWrapper from './string'\n\n/**\n * Takes an input (any JSON-serializable value) and an annotation, and generates an input\n * object for it, to be used with {@link diffInput | the diffInput() method} and others.\n *\n * @param input - The value to wrap in an input object\n * @param annotation - Annotation attached to the input - will be bound to generated diffs\n * @returns A input object\n * @throws if `input` is not a JSON-serializable type\n * @public\n */\nexport function wrap<A>(input: unknown, annotation: A): Input<A> {\n  if (Array.isArray(input)) {\n    return new ArrayWrapper(input, annotation)\n  } else if (input === null) {\n    return new BasicWrapper('null', input, annotation)\n  }\n\n  const type = typeof input\n  switch (type) {\n    case 'number':\n      return new BasicWrapper(type, input as number, annotation)\n    case 'boolean':\n      return new BasicWrapper(type, input as boolean, annotation)\n    case 'object':\n      return new ObjectWrapper(input as Record<string, unknown>, annotation)\n    case 'string':\n      return new StringWrapper(input as string, annotation)\n    default:\n      throw new Error(`cannot wrap value of type: ${type}`)\n  }\n}\n"],"names":["items"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12]}},
    {"offset": {"line": 12620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12626, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/bifur-client/dist/esm/createConnect.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Observable } from 'rxjs';\nvar WebSocketError = /** @class */ (function (_super) {\n    __extends(WebSocketError, _super);\n    function WebSocketError(message, type, code, reason) {\n        var _this = _super.call(this, message) || this;\n        _this.type = type;\n        _this.code = code;\n        _this.reason = reason;\n        return _this;\n    }\n    return WebSocketError;\n}(Error));\nexport { WebSocketError };\nexport function createConnect(getWebsocketInstance) {\n    return function (url) {\n        return new Observable(function (subscriber) {\n            var ws = getWebsocketInstance(url);\n            var didUnsubscribe = false;\n            var onOpen = function () {\n                subscriber.next(ws);\n            };\n            var onError = function () {\n                subscriber.error(new WebSocketError('WebSocket connection error', 'CONNECTION_ERROR'));\n            };\n            var onClose = function (ev) {\n                if (!didUnsubscribe) {\n                    subscriber.error(new WebSocketError('WebSocket connection error', 'CONNECTION_CLOSED', ev.code, ev.reason));\n                }\n                else {\n                    subscriber.complete();\n                }\n            };\n            ws.onopen = onOpen;\n            ws.onclose = onClose;\n            ws.onerror = onError;\n            return function () {\n                didUnsubscribe = true;\n                ws.close(1000, 'WebSockets connection closed by client');\n            };\n        });\n    };\n}\n"],"names":[],"mappings":";;;;AAeA;AAfA,IAAI,YAAY,AAAC,IAAI,IAAI,IAAI,CAAC,SAAS,IAAK,AAAC;IACzC,IAAI,gBAAgB,SAAU,CAAC,EAAE,CAAC;QAC9B,gBAAgB,OAAO,cAAc,IAChC,CAAA;YAAE,WAAW,EAAE;QAAC,CAAA,aAAa,SAAS,SAAU,CAAC,EAAE,CAAC;YAAI,EAAE,SAAS,GAAG;QAAG,KAC1E,SAAU,CAAC,EAAE,CAAC;YAAI,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QAAE;QACpG,OAAO,cAAc,GAAG;IAC5B;IACA,OAAO,SAAU,CAAC,EAAE,CAAC;QACjB,IAAI,OAAO,MAAM,cAAc,MAAM,MACjC,MAAM,IAAI,UAAU,yBAAyB,OAAO,KAAK;QAC7D,cAAc,GAAG;QACjB,SAAS;YAAO,IAAI,CAAC,WAAW,GAAG;QAAG;QACtC,EAAE,SAAS,GAAG,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,SAAS,EAAE,IAAI,IAAI;IACvF;AACJ;;AAEA,IAAI,iBAAgC,SAAU,MAAM;IAChD,UAAU,gBAAgB;IAC1B,SAAS,eAAe,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM;QAC/C,IAAI,QAAQ,OAAO,IAAI,CAAC,IAAI,EAAE,YAAY,IAAI;QAC9C,MAAM,IAAI,GAAG;QACb,MAAM,IAAI,GAAG;QACb,MAAM,MAAM,GAAG;QACf,OAAO;IACX;IACA,OAAO;AACX,EAAE;;AAEK,SAAS,cAAc,oBAAoB;IAC9C,OAAO,SAAU,GAAG;QAChB,OAAO,IAAI,4IAAA,CAAA,aAAU,CAAC,SAAU,UAAU;YACtC,IAAI,KAAK,qBAAqB;YAC9B,IAAI,iBAAiB;YACrB,IAAI,SAAS;gBACT,WAAW,IAAI,CAAC;YACpB;YACA,IAAI,UAAU;gBACV,WAAW,KAAK,CAAC,IAAI,eAAe,8BAA8B;YACtE;YACA,IAAI,UAAU,SAAU,EAAE;gBACtB,IAAI,CAAC,gBAAgB;oBACjB,WAAW,KAAK,CAAC,IAAI,eAAe,8BAA8B,qBAAqB,GAAG,IAAI,EAAE,GAAG,MAAM;gBAC7G,OACK;oBACD,WAAW,QAAQ;gBACvB;YACJ;YACA,GAAG,MAAM,GAAG;YACZ,GAAG,OAAO,GAAG;YACb,GAAG,OAAO,GAAG;YACb,OAAO;gBACH,iBAAiB;gBACjB,GAAG,KAAK,CAAC,MAAM;YACnB;QACJ;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 12692, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12698, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/bifur-client/dist/esm/createClient.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { distinctUntilChanged, filter, finalize, map, mapTo, mergeMap, share, shareReplay, switchMap, take, } from 'rxjs/operators';\nimport { combineLatest, defer, EMPTY, fromEvent, merge, of, partition, } from 'rxjs';\nimport { customAlphabet } from 'nanoid';\n// at 1000 IDs per second ~4 million years needed in order to have a 1% probability of at least one collision.\n// => https://zelark.github.io/nano-id-cc/\nvar defaultGetNextRequestId = customAlphabet('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-', 20);\nvar HEARTBEAT = '♥';\nfunction formatRequest(method, params, id) {\n    return JSON.stringify({\n        jsonrpc: '2.0',\n        method: method,\n        params: addApiVersion(params, 'v1'),\n        id: id,\n    });\n}\nfunction tryParse(input) {\n    try {\n        return [null, JSON.parse(input)];\n    }\n    catch (error) {\n        return error instanceof Error ? [error] : [new Error(\"\".concat(error))];\n    }\n}\nfunction addApiVersion(params, v) {\n    return __assign(__assign({}, params), { apiVersion: v });\n}\nexport var createClient = function (connection$, options) {\n    if (options === void 0) { options = {}; }\n    var token$ = options.token$, _a = options.getNextRequestId, getNextRequestId = _a === void 0 ? defaultGetNextRequestId : _a;\n    var _b = partition(connection$.pipe(switchMap(function (connection) { return fromEvent(connection, 'message'); })), function (event) { return event.data === HEARTBEAT; }), heartbeats$ = _b[0], responses$ = _b[1];\n    var parsedResponses$ = responses$.pipe(mergeMap(function (response) {\n        var _a = tryParse(response.data), err = _a[0], msg = _a[1];\n        if (err) {\n            console.warn('Unable to parse message: %s', err.message);\n            return EMPTY;\n        }\n        if (!msg || !msg.jsonrpc) {\n            console.warn('Received empty or non-jsonrpc message: %s', msg);\n            return EMPTY;\n        }\n        return of(msg);\n    }), share());\n    var authedConnection$ = token$\n        ? combineLatest([token$, connection$]).pipe(distinctUntilChanged(function (_a, _b) {\n            var oldToken = _a[0], oldSocket = _a[1];\n            var newToken = _b[0], newSocket = _b[1];\n            return oldToken === newToken && oldSocket === newSocket;\n        }), switchMap(function (_a) {\n            var token = _a[0], ws = _a[1];\n            return token\n                ? call(ws, 'authorization', {\n                    authorization: \"Bearer \".concat(token),\n                }).pipe(take(1), mapTo(ws))\n                : of(ws);\n        }), shareReplay({ refCount: true, bufferSize: 1 }))\n        : connection$;\n    function call(ws, method, params) {\n        if (params === void 0) { params = {}; }\n        var requestId = getNextRequestId();\n        return merge(parsedResponses$.pipe(filter(function (rpcResult) { return rpcResult.id === requestId; }), map(function (rpcResult) { return rpcResult.result; })), defer(function () {\n            ws.send(formatRequest(method, params, requestId));\n            return EMPTY;\n        }));\n    }\n    // Will call the rpc method and return an observable that emits the first reply and then ends\n    function requestMethod(method, params) {\n        return authedConnection$.pipe(take(1), mergeMap(function (ws) { return call(ws, method, params).pipe(take(1)); }));\n    }\n    // Will call the rpc method with the '_subscribe' suffix and return an observable of all received messages and\n    // keeps the subscription open forever/until unsubscribe\n    function requestSubscribe(method, params) {\n        return authedConnection$.pipe(take(1), mergeMap(function (ws) {\n            return call(ws, \"\".concat(method, \"_subscribe\"), params).pipe(take(1), mergeMap(function (subscriptionId) {\n                return parsedResponses$.pipe(filter(function (message) {\n                    return message.method === \"\".concat(method, \"_subscription\") &&\n                        message.params.subscription === subscriptionId;\n                }), map(function (message) { return message.params.result; }), finalize(function () {\n                    if (ws.readyState !== ws.CLOSED &&\n                        ws.readyState !== ws.CLOSING) {\n                        ws.send(formatRequest(\"\".concat(method, \"_unsubscribe\"), { subscriptionId: subscriptionId }, getNextRequestId()));\n                    }\n                }));\n            }));\n        }));\n    }\n    return {\n        // heartbeat$ is a stream of date objects representing when the \"last message was received\"\n        // it will keep the connection open until it is unsubscribed and can therefore be used to keep connection alive\n        // between requests\n        heartbeats: merge(authedConnection$, heartbeats$, responses$).pipe(map(function () { return new Date(); })),\n        listen: function (method, params) {\n            return requestSubscribe(method, params);\n        },\n        request: function (method, params) {\n            return requestMethod(method, params);\n        },\n    };\n};\n"],"names":[],"mappings":";;;AAYA;AADA;AAEA;AAbA,IAAI,WAAW,AAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAK;IACtC,WAAW,OAAO,MAAM,IAAI,SAAS,CAAC;QAClC,IAAK,IAAI,GAAG,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAI,GAAG,IAAK;YACjD,IAAI,SAAS,CAAC,EAAE;YAChB,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IACzD,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QACnB;QACA,OAAO;IACX;IACA,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;AAChC;;;;AAIA,8GAA8G;AAC9G,0CAA0C;AAC1C,IAAI,0BAA0B,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD,EAAE,mEAAmE;AAChH,IAAI,YAAY;AAChB,SAAS,cAAc,MAAM,EAAE,MAAM,EAAE,EAAE;IACrC,OAAO,KAAK,SAAS,CAAC;QAClB,SAAS;QACT,QAAQ;QACR,QAAQ,cAAc,QAAQ;QAC9B,IAAI;IACR;AACJ;AACA,SAAS,SAAS,KAAK;IACnB,IAAI;QACA,OAAO;YAAC;YAAM,KAAK,KAAK,CAAC;SAAO;IACpC,EACA,OAAO,OAAO;QACV,OAAO,iBAAiB,QAAQ;YAAC;SAAM,GAAG;YAAC,IAAI,MAAM,GAAG,MAAM,CAAC;SAAQ;IAC3E;AACJ;AACA,SAAS,cAAc,MAAM,EAAE,CAAC;IAC5B,OAAO,SAAS,SAAS,CAAC,GAAG,SAAS;QAAE,YAAY;IAAE;AAC1D;AACO,IAAI,eAAe,SAAU,WAAW,EAAE,OAAO;IACpD,IAAI,YAAY,KAAK,GAAG;QAAE,UAAU,CAAC;IAAG;IACxC,IAAI,SAAS,QAAQ,MAAM,EAAE,KAAK,QAAQ,gBAAgB,EAAE,mBAAmB,OAAO,KAAK,IAAI,0BAA0B;IACzH,IAAI,KAAK,CAAA,GAAA,4IAAA,CAAA,YAAS,AAAD,EAAE,YAAY,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,YAAS,AAAD,EAAE,SAAU,UAAU;QAAI,OAAO,CAAA,GAAA,4IAAA,CAAA,YAAS,AAAD,EAAE,YAAY;IAAY,KAAK,SAAU,KAAK;QAAI,OAAO,MAAM,IAAI,KAAK;IAAW,IAAI,cAAc,EAAE,CAAC,EAAE,EAAE,aAAa,EAAE,CAAC,EAAE;IACnN,IAAI,mBAAmB,WAAW,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE,SAAU,QAAQ;QAC9D,IAAI,KAAK,SAAS,SAAS,IAAI,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE;QAC1D,IAAI,KAAK;YACL,QAAQ,IAAI,CAAC,+BAA+B,IAAI,OAAO;YACvD,OAAO,4IAAA,CAAA,QAAK;QAChB;QACA,IAAI,CAAC,OAAO,CAAC,IAAI,OAAO,EAAE;YACtB,QAAQ,IAAI,CAAC,6CAA6C;YAC1D,OAAO,4IAAA,CAAA,QAAK;QAChB;QACA,OAAO,CAAA,GAAA,4IAAA,CAAA,KAAE,AAAD,EAAE;IACd,IAAI,CAAA,GAAA,yJAAA,CAAA,QAAK,AAAD;IACR,IAAI,oBAAoB,SAClB,CAAA,GAAA,4IAAA,CAAA,gBAAa,AAAD,EAAE;QAAC;QAAQ;KAAY,EAAE,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,uBAAoB,AAAD,EAAE,SAAU,EAAE,EAAE,EAAE;QAC7E,IAAI,WAAW,EAAE,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,EAAE;QACvC,IAAI,WAAW,EAAE,CAAC,EAAE,EAAE,YAAY,EAAE,CAAC,EAAE;QACvC,OAAO,aAAa,YAAY,cAAc;IAClD,IAAI,CAAA,GAAA,yJAAA,CAAA,YAAS,AAAD,EAAE,SAAU,EAAE;QACtB,IAAI,QAAQ,EAAE,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QAC7B,OAAO,QACD,KAAK,IAAI,iBAAiB;YACxB,eAAe,UAAU,MAAM,CAAC;QACpC,GAAG,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,OAAI,AAAD,EAAE,IAAI,CAAA,GAAA,yJAAA,CAAA,QAAK,AAAD,EAAE,OACrB,CAAA,GAAA,4IAAA,CAAA,KAAE,AAAD,EAAE;IACb,IAAI,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE;QAAE,UAAU;QAAM,YAAY;IAAE,MAC9C;IACN,SAAS,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM;QAC5B,IAAI,WAAW,KAAK,GAAG;YAAE,SAAS,CAAC;QAAG;QACtC,IAAI,YAAY;QAChB,OAAO,CAAA,GAAA,4IAAA,CAAA,QAAK,AAAD,EAAE,iBAAiB,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,SAAU,SAAS;YAAI,OAAO,UAAU,EAAE,KAAK;QAAW,IAAI,CAAA,GAAA,yJAAA,CAAA,MAAG,AAAD,EAAE,SAAU,SAAS;YAAI,OAAO,UAAU,MAAM;QAAE,KAAK,CAAA,GAAA,4IAAA,CAAA,QAAK,AAAD,EAAE;YACnK,GAAG,IAAI,CAAC,cAAc,QAAQ,QAAQ;YACtC,OAAO,4IAAA,CAAA,QAAK;QAChB;IACJ;IACA,6FAA6F;IAC7F,SAAS,cAAc,MAAM,EAAE,MAAM;QACjC,OAAO,kBAAkB,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,OAAI,AAAD,EAAE,IAAI,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE,SAAU,EAAE;YAAI,OAAO,KAAK,IAAI,QAAQ,QAAQ,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,OAAI,AAAD,EAAE;QAAK;IACnH;IACA,8GAA8G;IAC9G,wDAAwD;IACxD,SAAS,iBAAiB,MAAM,EAAE,MAAM;QACpC,OAAO,kBAAkB,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,OAAI,AAAD,EAAE,IAAI,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE,SAAU,EAAE;YACxD,OAAO,KAAK,IAAI,GAAG,MAAM,CAAC,QAAQ,eAAe,QAAQ,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,OAAI,AAAD,EAAE,IAAI,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE,SAAU,cAAc;gBACpG,OAAO,iBAAiB,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,SAAM,AAAD,EAAE,SAAU,OAAO;oBACjD,OAAO,QAAQ,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,oBACxC,QAAQ,MAAM,CAAC,YAAY,KAAK;gBACxC,IAAI,CAAA,GAAA,yJAAA,CAAA,MAAG,AAAD,EAAE,SAAU,OAAO;oBAAI,OAAO,QAAQ,MAAM,CAAC,MAAM;gBAAE,IAAI,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE;oBACpE,IAAI,GAAG,UAAU,KAAK,GAAG,MAAM,IAC3B,GAAG,UAAU,KAAK,GAAG,OAAO,EAAE;wBAC9B,GAAG,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,QAAQ,iBAAiB;4BAAE,gBAAgB;wBAAe,GAAG;oBACjG;gBACJ;YACJ;QACJ;IACJ;IACA,OAAO;QACH,2FAA2F;QAC3F,+GAA+G;QAC/G,mBAAmB;QACnB,YAAY,CAAA,GAAA,4IAAA,CAAA,QAAK,AAAD,EAAE,mBAAmB,aAAa,YAAY,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,MAAG,AAAD,EAAE;YAAc,OAAO,IAAI;QAAQ;QACxG,QAAQ,SAAU,MAAM,EAAE,MAAM;YAC5B,OAAO,iBAAiB,QAAQ;QACpC;QACA,SAAS,SAAU,MAAM,EAAE,MAAM;YAC7B,OAAO,cAAc,QAAQ;QACjC;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 12840, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12846, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/bifur-client/dist/esm/operators.js"],"sourcesContent":["import { timer, race } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n// Operator that will time out using <withObservable> if <due> time passes before receiving the first value\nexport var timeoutFirstWith = function (due, withObservable) {\n    return function (input$) {\n        return race(input$, timer(due).pipe(mergeMap(function () { return withObservable; })));\n    };\n};\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,IAAI,mBAAmB,SAAU,GAAG,EAAE,cAAc;IACvD,OAAO,SAAU,MAAM;QACnB,OAAO,CAAA,GAAA,4IAAA,CAAA,OAAI,AAAD,EAAE,QAAQ,CAAA,GAAA,4IAAA,CAAA,QAAK,AAAD,EAAE,KAAK,IAAI,CAAC,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD,EAAE;YAAc,OAAO;QAAgB;IACtF;AACJ","ignoreList":[0]}},
    {"offset": {"line": 12860, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12866, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/bifur-client/dist/esm/index.js"],"sourcesContent":["import { createClient } from './createClient';\nimport { createConnect } from './createConnect';\nimport { timeoutFirstWith } from './operators';\nimport { shareReplay, takeUntil } from 'rxjs/operators';\nimport { throwError, fromEvent, of } from 'rxjs';\nvar id = function (arg) { return arg; };\nexport { ERROR_CODES } from './errorCodes';\nexport { createClient };\nexport function fromUrl(url, options) {\n    if (options === void 0) { options = {}; }\n    var timeout = options.timeout, token$ = options.token$;\n    var connect = createConnect(function (url, protocols) {\n        return new window.WebSocket(url, protocols);\n    });\n    return createClient(connect(url).pipe(timeout\n        ? timeoutFirstWith(timeout, throwError(function () {\n            return new Error(\"Timeout after \".concat(timeout, \" while establishing WebSockets connection\"));\n        }))\n        : id, shareReplay({ refCount: true }), takeUntil(fromEvent(window, 'beforeunload'))), { token$: token$ });\n}\nexport function fromSanityClient(client) {\n    var _a = client.config(), dataset = _a.dataset, token = _a.token;\n    return fromUrl(client.getUrl(\"/socket/\".concat(dataset)).replace(/^http/, 'ws'), token ? { token$: of(token) } : {});\n}\n"],"names":[],"mappings":";;;;AACA;AADA;AAEA;AAEA;AADA;;;;;;AAEA,IAAI,KAAK,SAAU,GAAG;IAAI,OAAO;AAAK;;;AAG/B,SAAS,QAAQ,GAAG,EAAE,OAAO;IAChC,IAAI,YAAY,KAAK,GAAG;QAAE,UAAU,CAAC;IAAG;IACxC,IAAI,UAAU,QAAQ,OAAO,EAAE,SAAS,QAAQ,MAAM;IACtD,IAAI,UAAU,CAAA,GAAA,2KAAA,CAAA,gBAAa,AAAD,EAAE,SAAU,GAAG,EAAE,SAAS;QAChD,OAAO,IAAI,OAAO,SAAS,CAAC,KAAK;IACrC;IACA,OAAO,CAAA,GAAA,0KAAA,CAAA,eAAY,AAAD,EAAE,QAAQ,KAAK,IAAI,CAAC,UAChC,CAAA,GAAA,uKAAA,CAAA,mBAAgB,AAAD,EAAE,SAAS,CAAA,GAAA,4IAAA,CAAA,aAAU,AAAD,EAAE;QACnC,OAAO,IAAI,MAAM,iBAAiB,MAAM,CAAC,SAAS;IACtD,MACE,IAAI,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE;QAAE,UAAU;IAAK,IAAI,CAAA,GAAA,yJAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,4IAAA,CAAA,YAAS,AAAD,EAAE,QAAQ,mBAAmB;QAAE,QAAQ;IAAO;AAC/G;AACO,SAAS,iBAAiB,MAAM;IACnC,IAAI,KAAK,OAAO,MAAM,IAAI,UAAU,GAAG,OAAO,EAAE,QAAQ,GAAG,KAAK;IAChE,OAAO,QAAQ,OAAO,MAAM,CAAC,WAAW,MAAM,CAAC,UAAU,OAAO,CAAC,SAAS,OAAO,QAAQ;QAAE,QAAQ,CAAA,GAAA,4IAAA,CAAA,KAAE,AAAD,EAAE;IAAO,IAAI,CAAC;AACtH","ignoreList":[0]}},
    {"offset": {"line": 12907, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12913, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/logos/src/groqLogo.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/logos/src/groqMonogram.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/logos/src/sanityLogo.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/logos/src/sanityMonogram.tsx"],"sourcesContent":["import {hues} from '@sanity/color'\nimport {forwardRef} from 'react'\n\n/**\n * @public\n */\nexport const GroqLogo = forwardRef(function GroqLogo(\n  props: React.SVGProps<SVGSVGElement>,\n  ref: React.Ref<SVGSVGElement>,\n) {\n  return (\n    <svg\n      data-sanity-icon=\"groq-logo\"\n      height=\"1em\"\n      viewBox=\"0 0 304 64\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n      ref={ref}\n    >\n      <path d=\"M32 0L0 32H32V0Z\" fill={hues.magenta[400].hex} />\n      <path d=\"M32 32H0L32 64V32Z\" fill={hues.green[300].hex} />\n      <path d=\"M64 32H32V64L64 32Z\" fill={hues.purple[300].hex} />\n      <path d=\"M112 0L80 32H112V0Z\" fill={hues.green[300].hex} />\n      <path d=\"M112 0H80V32L112 0Z\" fill={hues.purple[300].hex} />\n      <path d=\"M112 32H80L112 64V32Z\" fill={hues.yellow[200].hex} />\n      <path d=\"M144 64L112 32V64H144Z\" fill={hues.blue[300].hex} />\n      <path d=\"M80 32V64H112L80 32Z\" fill={hues.orange[400].hex} />\n      <path d=\"M112 0V32H144L112 0Z\" fill={hues.magenta[400].hex} />\n      <path d=\"M192 0L160 32H192V0Z\" fill={hues.yellow[200].hex} />\n      <path d=\"M192 32H160L192 64V32Z\" fill={hues.orange[400].hex} />\n      <path d=\"M224 32H192V64L224 32Z\" fill={hues.green[300].hex} />\n      <path d=\"M192 0V32H224L192 0Z\" fill={hues.blue[300].hex} />\n      <path d=\"M272 0L240 32H272V0Z\" fill={hues.purple[300].hex} />\n      <path d=\"M304 32L272 64H304V32Z\" fill={hues.magenta[400].hex} />\n      <path d=\"M272 32H240L272 64V32Z\" fill={hues.blue[300].hex} />\n      <path d=\"M304 32H272V64L304 32Z\" fill={hues.yellow[200].hex} />\n      <path d=\"M272 0V32H304L272 0Z\" fill={hues.green[300].hex} />\n    </svg>\n  )\n})\nGroqLogo.displayName = 'ForwardRef(GroqLogo)'\n","import {hues} from '@sanity/color'\nimport {forwardRef} from 'react'\n\n/**\n * @public\n */\nexport const GroqMonogram = forwardRef(function GroqMonogram(\n  props: React.SVGProps<SVGSVGElement>,\n  ref: React.Ref<SVGSVGElement>,\n) {\n  return (\n    <svg\n      data-sanity-icon=\"groq-monogram\"\n      width=\"1em\"\n      height=\"1em\"\n      viewBox=\"0 0 128 128\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n      ref={ref}\n    >\n      <rect width=\"128\" height=\"128\" rx=\"8\" fill={hues.green[950].hex} />\n      <rect y=\"32\" width=\"64\" height=\"64\" fill={hues.green[800].hex} />\n      <path d=\"M64 32L32 64H64V32Z\" fill={hues.magenta[400].hex} />\n      <path d=\"M64 64H32L64 96V64Z\" fill={hues.green[300].hex} />\n      <path d=\"M96 64H64V96L96 64Z\" fill={hues.purple[300].hex} />\n    </svg>\n  )\n})\nGroqMonogram.displayName = 'ForwardRef(GroqMonogram)'\n","import {hues, white} from '@sanity/color'\nimport {forwardRef} from 'react'\n\n/**\n * @public\n */\nexport interface SanityLogoProps {\n  dark?: boolean\n}\n\nconst schemes = {\n  light: [hues.red[200].hex, hues.red[300].hex, hues.red[500].hex],\n  dark: [hues.gray[500].hex, hues.gray[300].hex, white.hex],\n}\n\n/**\n * @public\n */\nexport const SanityLogo = forwardRef(function SanityLogo(\n  props: SanityLogoProps & React.SVGProps<SVGSVGElement>,\n  ref: React.Ref<SVGSVGElement>,\n) {\n  const {dark, ...svgProps} = props\n  const scheme = schemes[dark ? 'dark' : 'light']\n\n  return (\n    <svg\n      data-sanity-icon=\"sanity-logo\"\n      height=\"1em\"\n      viewBox=\"0 0 352 100\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...svgProps}\n      ref={ref}\n    >\n      <path d=\"M311.14 57.234V80.0016H298.499V57.234\" fill={scheme[1]} />\n      <path d=\"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z\" fill={scheme[2]} />\n      <path\n        d=\"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z\"\n        fill={scheme[1]}\n      />\n      <path d=\"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z\" fill={scheme[1]} />\n      <path\n        d=\"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z\"\n        fill={scheme[0]}\n      />\n      <path\n        d=\"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z\"\n        fill={scheme[2]}\n      />\n      <path d=\"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z\" fill={scheme[2]} />\n      <path d=\"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z\" fill={scheme[1]} />\n      <path\n        d=\"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z\"\n        fill={scheme[2]}\n      />\n      <path d=\"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z\" fill={scheme[1]} />\n      <path\n        d=\"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z\"\n        fill={scheme[0]}\n      />\n      <path\n        d=\"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z\"\n        fill={scheme[1]}\n      />\n      <path d=\"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z\" fill={scheme[2]} />\n      <path\n        d=\"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926\"\n        fill={scheme[2]}\n      />\n      <path\n        d=\"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748\"\n        fill={scheme[1]}\n      />\n      <path\n        d=\"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124\"\n        fill={scheme[1]}\n      />\n    </svg>\n  )\n})\nSanityLogo.displayName = 'ForwardRef(SanityLogo)'\n","import {hues, white} from '@sanity/color'\nimport {forwardRef} from 'react'\n\n/**\n * @public\n */\nexport interface SanityMonogramColor {\n  bg1: string\n  bg2: string\n  fg: string\n}\n\n/**\n * @public\n */\nexport interface SanityMonogramProps {\n  color?: SanityMonogramColor\n}\n\nconst SANITY_MONOGRAM_COLOR: SanityMonogramColor = {\n  bg1: hues.red[500].hex,\n  bg2: hues.red[200].hex,\n  fg: white.hex,\n}\n\n/**\n * @public\n */\nexport const SanityMonogram = forwardRef(function SanityMonogram(\n  props: SanityMonogramProps & Omit<React.SVGProps<SVGSVGElement>, 'color'>,\n  ref: React.Ref<SVGSVGElement>,\n) {\n  const {color = SANITY_MONOGRAM_COLOR, ...restProps} = props\n\n  return (\n    <svg\n      data-sanity-icon=\"sanity-monogram\"\n      width=\"1em\"\n      height=\"1em\"\n      viewBox=\"0 0 128 128\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...restProps}\n      ref={ref}\n    >\n      <rect width=\"128\" height=\"128\" rx=\"8\" fill={color.bg1} />\n      <path\n        d=\"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163\"\n        fill={color.fg}\n      />\n      <path\n        d=\"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995\"\n        fill={color.bg2}\n      />\n      <path\n        d=\"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682\"\n        fill={color.bg2}\n      />\n    </svg>\n  )\n})\nSanityMonogram.displayName = 'ForwardRef(SanityMonogram)'\n"],"names":[],"mappings":";;;;;;;;;;;;AAMO,MAAM,qNAAW,aAAA,EAAW,SACjC,KAAA,EACA,GAAA,EACA;IAEE,OAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,OAAA,EAAC,OAAA;QACC,oBAAiB;QACjB,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACL,GAAG,KAAA;QACJ;QAEA,UAAA;YAAC,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAA,QAAA;gBAAK,GAAE;gBAAmB,yJAAM,OAAA,CAAK,OAAA,CAAQ,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YACxD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAqB,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YACxD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC1D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YACzD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC1D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAwB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC5D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,IAAA,CAAK,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,MAAM,0JAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,yJAAM,OAAA,CAAK,OAAA,CAAQ,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC5D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,MAAM,0JAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC7D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC5D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,yJAAM,OAAA,CAAK,IAAA,CAAK,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YACzD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,OAAA,CAAQ,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC9D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,IAAA,CAAK,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAyB,yJAAM,OAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC7D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAuB,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;SAAA;IAAA;AAGhE,CAAC;AACD,SAAS,WAAA,GAAc;ACnChB,MAAM,mBAAe,mNAAA,EAAW,SACrC,KAAA,EACA,GAAA,EACA;IAEE,OAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,OAAA,EAAC,OAAA;QACC,oBAAiB;QACjB,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACL,GAAG,KAAA;QACJ;QAEA,UAAA;YAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAK;gBAAA,OAAM;gBAAM,QAAO;gBAAM,IAAG;gBAAI,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAK,CAAA;YAChE,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAA,QAAA;gBAAK,GAAE;gBAAK,OAAM;gBAAK,QAAO;gBAAK,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAK,CAAA;YAC/D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,yJAAM,OAAA,CAAK,OAAA,CAAQ,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YAC3D,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,yJAAM,OAAA,CAAK,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;YACzD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAsB,MAAM,0JAAA,CAAK,MAAA,CAAO,GAAG,CAAA,CAAE,GAAA;YAAA,CAAK;SAAA;IAAA;AAGhE,CAAC;AACD,aAAa,WAAA,GAAc;ACnB3B,MAAM,UAAU;IACd,OAAO;2JAAC,OAAA,CAAK,GAAA,CAAI,GAAG,CAAA,CAAE,GAAA;2JAAK,OAAA,CAAK,GAAA,CAAI,GAAG,CAAA,CAAE,GAAA;2JAAK,OAAA,CAAK,GAAA,CAAI,GAAG,CAAA,CAAE,GAAG;KAAA;IAC/D,MAAM;2JAAC,OAAA,CAAK,IAAA,CAAK,GAAG,CAAA,CAAE,GAAA;QAAK,0JAAA,CAAK,IAAA,CAAK,GAAG,CAAA,CAAE,GAAA;2JAAK,QAAA,CAAM,GAAG;KAAA;AAC1D,GAKa,uNAAa,aAAA,EAAW,SACnC,KAAA,EACA,GAAA,EACA;IACM,MAAA,EAAC,IAAA,EAAM,GAAG,SAAQ,CAAA,GAAI,OACtB,SAAS,OAAA,CAAQ,OAAO,SAAS,OAAO,CAAA;IAG5C,OAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,OAAA,EAAC,OAAA;QACC,oBAAiB;QACjB,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACL,GAAG,QAAA;QACJ;QAEA,UAAA;YAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBAAK,GAAE;gBAAwC,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAChE,QAAK;gBAAA,GAAE;gBAAmE,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YAC5F,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAChB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EACC,QAAK;gBAAA,GAAE;gBAA4D,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YACrF,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAEhB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAChB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EACC,QAAK;gBAAA,GAAE;gBAAoD,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAC5E,QAAK;gBAAA,GAAE;gBAA0D,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YACnF,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAChB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EACC,QAAK;gBAAA,GAAE;gBAA4D,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YACrF,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAEhB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAChB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EACC,QAAK;gBAAA,GAAE;gBAAiE,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA,CAAG;YAC1F,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAEhB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;YAEhB,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAA,CAAO,CAAC,CAAA;YAAA;SAChB;IAAA;AAGN,CAAC;AACD,WAAW,WAAA,GAAc;AC9DzB,MAAM,wBAA6C;IACjD,wJAAK,OAAA,CAAK,GAAA,CAAI,GAAG,CAAA,CAAE,GAAA;IACnB,wJAAK,OAAA,CAAK,GAAA,CAAI,GAAG,CAAA,CAAE,GAAA;IACnB,uJAAI,QAAA,CAAM,GAAA;AACZ,GAKa,2NAAiB,aAAA,EAAW,SACvC,KAAA,EACA,GAAA,EACA;IACA,MAAM,EAAC,QAAQ,qBAAA,EAAuB,GAAG,WAAA,GAAa;IAGpD,OAAA,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,OAAA,EAAC,OAAA;QACC,oBAAiB;QACjB,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;QACL,GAAG,SAAA;QACJ;QAEA,UAAA;YAAC,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAA,QAAA;gBAAK,OAAM;gBAAM,QAAO;gBAAM,IAAG;gBAAI,MAAM,MAAM,GAAA;YAAK,CAAA;YACvD,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAM,EAAA;YAAA;YAEd,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAM,GAAA;YAAA;YAEd,aAAA,GAAA,CAAA,GAAA,uNAAA,CAAA,MAAA,EAAC,QAAA;gBACC,GAAE;gBACF,MAAM,MAAM,GAAA;YAAA;SACd;IAAA;AAGN,CAAC;AACD,eAAe,WAAA,GAAc","ignoreList":[0,1,2,3]}},
    {"offset": {"line": 13180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13186, "column": 0}, "map": {"version":3,"file":"index.mjs","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/vision/src/i18n/index.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/vision/src/visionTool.ts"],"sourcesContent":["import {defineLocaleResourceBundle} from 'sanity'\n\n/**\n * The locale namespace for the vision tool\n *\n * @internal\n */\nexport const visionLocaleNamespace = 'vision' as const\n\n/**\n * The default locale bundle for the vision tool, which is US English.\n *\n * @internal\n */\nexport const visionUsEnglishLocaleBundle = defineLocaleResourceBundle({\n  locale: 'en-US',\n  namespace: visionLocaleNamespace,\n  resources: () => import('./resources'),\n})\n","import {EyeOpenIcon} from '@sanity/icons'\nimport {lazy} from 'react'\nimport {definePlugin} from 'sanity'\nimport {route} from 'sanity/router'\n\nimport {visionUsEnglishLocaleBundle} from './i18n'\nimport {type VisionToolConfig} from './types'\n\nexport const visionTool = definePlugin<VisionToolConfig | void>((options) => {\n  const {name, title, icon, ...config} = options || {}\n  return {\n    name: '@sanity/vision',\n    tools: [\n      {\n        name: name || 'vision',\n        title: title || 'Vision',\n        icon: icon || EyeOpenIcon,\n        component: lazy(() => import('./SanityVision')),\n        options: config,\n        router: route.create('/*'),\n      },\n    ],\n    i18n: {\n      bundles: [visionUsEnglishLocaleBundle],\n    },\n  }\n})\n"],"names":["visionLocaleNamespace","visionUsEnglishLocaleBundle","defineLocaleResourceBundle","locale","namespace","resources","visionTool","definePlugin","options","name","title","icon","config","tools","EyeOpenIcon","component","lazy","router","route","create","i18n","bundles"],"mappings":";;;;;;;;;;;;AAOaA,MAAAA,wBAAwB,UAOxBC,0LAA8BC,6BAAAA,EAA2B;IACpEC,QAAQ;IACRC,WAAWJ;IACXK,WAAWA,MAAM,OAAO,iBAAa;AACvC,CAAC,GCVYC,aAAaC,2KAAAA,EAAuCC,CAAY,YAAA;IACrE,MAAA,EAACC,IAAAA,EAAMC,KAAAA,EAAOC,IAAAA,EAAM,GAAGC,QAAM,GAAIJ,WAAW,CAAC;IAC5C,OAAA;QACLC,MAAM;QACNI,OAAO;YACL;gBACEJ,MAAMA,QAAQ;gBACdC,OAAOA,SAAS;gBAChBC,MAAMA,2JAAQG,cAAAA;gBACdC,qNAAWC,OAAAA,EAAK,MAAM,OAAO,oBAAgB,CAAC;gBAC9CR,SAASI;gBACTK,iKAAQC,QAAAA,CAAMC,MAAAA,CAAO,IAAI;YAAA,CAC1B;SAAA;QAEHC,MAAM;YACJC,SAAS;gBAACpB,2BAA2B;aAAA;QAAA;IAEzC;AACF,CAAC","ignoreList":[0,1]}},
    {"offset": {"line": 13225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13231, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/constants.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/util/props.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/useDocumentLocations.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/i18n/index.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/PresentationContext.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/usePresentationTool.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/document/useCurrentPresentationToolName.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/document/LocationsBanner.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/document/PresentationDocumentContext.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/document/PresentationDocumentHeader.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/document/PresentationDocumentProvider.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/fieldActions/openInStructure.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/getIntentState.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/PresentationSpinner.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/router.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/plugin.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/PresentationNavigateContext.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/usePresentationNavigate.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/PresentationParamsContext.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/usePresentationParams.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/overlays/SharedStateContext.tsx","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/overlays/useSharedState.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/node_modules/.pnpm/valibot%400.31.1/node_modules/valibot/dist/index.js","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/reducers/presentationReducer.ts"],"sourcesContent":["import {ComposeIcon} from '@sanity/icons'\n\nexport const DEFAULT_TOOL_ICON = ComposeIcon\nexport const DEFAULT_TOOL_NAME = 'presentation'\nexport const DEFAULT_TOOL_TITLE = 'Presentation'\n\n// @todo import from core sanity package\nexport const COMMENTS_INSPECTOR_NAME = 'sanity/structure/comments'\n\nexport const EDIT_INTENT_MODE = 'presentation'\n\n// How long we wait until an iframe is loaded until we consider it to be slow and possibly failed\nexport const MAX_TIME_TO_OVERLAYS_CONNECTION = 3_000 // ms\n\n// The API version to use when using `@sanity/client`\nexport const API_VERSION = '2023-10-16'\n\n// Heartbeats shouldn't fire on intervals that are so short it causes performance issues\nexport const MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL = 1000 // ms\n\n// Batch size for fetching documents building up the cache\nexport const LIVE_QUERY_CACHE_BATCH_SIZE = 100\n\n// Total cache size for documents that are live queried\nexport const LIVE_QUERY_CACHE_SIZE = 2048\n\n// The interval at which we check if existing popups have been closed\nexport const POPUP_CHECK_INTERVAL = 1000 // ms\n\ndeclare global {\n  const PRESENTATION_ENABLE_LIVE_DRAFT_EVENTS: unknown\n}\n\n// Feature flag that uses the new Live Draft Content API instead of the Listen API + Mendoza events\nexport const LIVE_DRAFT_EVENTS_ENABLED =\n  typeof PRESENTATION_ENABLE_LIVE_DRAFT_EVENTS === 'string'\n    ? PRESENTATION_ENABLE_LIVE_DRAFT_EVENTS === 'true'\n    : // @ts-expect-error: env vars are not typed\n      process.env.SANITY_STUDIO_PRESENTATION_ENABLE_LIVE_DRAFT_EVENTS === 'true'\n","import {\n  combineLatest,\n  from,\n  isObservable,\n  map,\n  mergeAll,\n  Observable,\n  of,\n  scan,\n  switchMap,\n} from 'rxjs'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Props<K extends keyof any, T> = {\n  [P in K]: T | Observable<T>\n}\n\nfunction keysOf<T extends object>(value: T) {\n  return Object.keys(value) as (keyof T)[]\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setKey(source: Record<string, unknown>, key: any, value: unknown) {\n  return {\n    ...source,\n    [key]: value,\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function props<K extends keyof any, T>(options: {wait?: boolean} = {}) {\n  return (source: Observable<Props<K, T>>): Observable<Record<string, unknown>> => {\n    return new Observable<Props<K, T>>((observer) => source.subscribe(observer)).pipe(\n      switchMap((object) => {\n        const keyObservables = keysOf(object).map((key) => {\n          const value = object[key]\n          return isObservable(value) ? from(value).pipe(map((val) => [key, val])) : of([key, value])\n        })\n\n        return options.wait\n          ? combineLatest(keyObservables).pipe(\n              map((pairs) => pairs.reduce((acc, [key, value]) => setKey(acc, key, value), {})),\n            )\n          : from(keyObservables).pipe(\n              mergeAll(),\n              scan((acc, [key, value]) => setKey(acc, key, value), {}),\n            )\n      }),\n    )\n  }\n}\n","import {get} from 'lodash'\nimport {useEffect, useMemo, useState} from 'react'\nimport {isObservable, map, Observable, of, switchMap} from 'rxjs'\nimport {\n  isRecord,\n  isReference,\n  useDocumentStore,\n  type DocumentStore,\n  type Previewable,\n  type SanityDocument,\n} from './internals'\nimport type {\n  DocumentLocationResolver,\n  DocumentLocationResolverObject,\n  DocumentLocationResolvers,\n  DocumentLocationsState,\n  DocumentLocationsStatus,\n} from './types'\nimport {props} from './util/props'\n\nconst INITIAL_STATE: DocumentLocationsState = {locations: []}\n\nfunction getDocumentId(value: Previewable) {\n  if (isReference(value)) {\n    return value._ref\n  }\n  return '_id' in value ? value._id : undefined\n}\n\nfunction cleanPreviewable(id: string | undefined, previewable: Previewable) {\n  const clean: Record<string, unknown> = id ? {...previewable, _id: id} : {...previewable}\n\n  if (clean['_type'] === 'reference') {\n    delete clean['_type']\n    delete clean['_ref']\n    delete clean['_weak']\n    delete clean['_dataset']\n    delete clean['_projectId']\n    delete clean['_strengthenOnPublish']\n  }\n\n  return clean\n}\n\nfunction listen(id: string, fields: string[], store: DocumentStore) {\n  const projection = fields.join(', ')\n  const query = `*[_id==$id][0]{${projection}}`\n  const params = {id}\n  return store.listenQuery(query, params, {\n    perspective: 'previewDrafts',\n  }) as Observable<SanityDocument | null>\n}\n\nfunction observeDocument(\n  value: Previewable | null,\n  paths: string[][],\n  store: DocumentStore,\n): Observable<Record<string, unknown> | null> {\n  if (!value || typeof value !== 'object') {\n    return of(value)\n  }\n\n  const id = getDocumentId(value)\n  const currentValue = cleanPreviewable(id, value)\n\n  const headlessPaths = paths.filter((path) => !(path[0] in currentValue))\n\n  if (id && headlessPaths.length) {\n    const fields = [...new Set(headlessPaths.map((path: string[]) => path[0]))]\n    return listen(id, fields, store).pipe(\n      switchMap((snapshot) => {\n        if (snapshot) {\n          return observeDocument(snapshot, paths, store)\n        }\n        return of(null)\n      }),\n    )\n  }\n\n  const leads: Record<string, string[][]> = {}\n  paths.forEach((path) => {\n    const [head, ...tail] = path\n    if (!leads[head]) {\n      leads[head] = []\n    }\n    leads[head].push(tail)\n  })\n  const next = Object.keys(leads).reduce((res: Record<string, unknown>, head) => {\n    const tails = leads[head].filter((tail) => tail.length > 0)\n    if (tails.length === 0) {\n      res[head] = isRecord(value) ? (value as Record<string, unknown>)[head] : undefined\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      res[head] = observeDocument((value as any)[head], tails, store)\n    }\n    return res\n  }, currentValue)\n\n  return of(next).pipe(props({wait: true}))\n}\n\nfunction observeForLocations(\n  documentId: string,\n  resolver: DocumentLocationResolverObject<string>,\n  documentStore: DocumentStore,\n) {\n  const {select} = resolver\n  const paths = Object.values(select).map((value) => String(value).split('.')) || []\n  const doc = {_type: 'reference', _ref: documentId}\n  return observeDocument(doc, paths, documentStore).pipe(\n    map((doc) => {\n      return Object.keys(select).reduce<Record<string, unknown>>((acc, key) => {\n        acc[key] = get(doc, select[key])\n        return acc\n      }, {})\n    }),\n    map(resolver.resolve),\n  )\n}\n\nexport function useDocumentLocations(props: {\n  id: string\n  resolvers?: DocumentLocationResolver | DocumentLocationResolvers\n  type: string\n}): {\n  state: DocumentLocationsState\n  status: DocumentLocationsStatus\n} {\n  const {id, resolvers, type} = props\n  const documentStore = useDocumentStore()\n  const [locationsState, setLocationsState] = useState<DocumentLocationsState>(INITIAL_STATE)\n\n  const resolver = resolvers && (typeof resolvers === 'function' ? resolvers : resolvers[type])\n\n  const [locationsStatus, setLocationsStatus] = useState<DocumentLocationsStatus>(\n    resolver ? 'resolving' : 'empty',\n  )\n\n  const result = useMemo(() => {\n    if (!resolver) return undefined\n\n    // Original/advanced resolver which requires explicit use of Observables\n    if (typeof resolver === 'function') {\n      const params = {id, type}\n      const context = {documentStore}\n      const _result = resolver(params, context)\n      return isObservable(_result) ? _result : of(_result)\n    }\n\n    // Simplified resolver pattern which abstracts away Observable logic\n    if ('select' in resolver && 'resolve' in resolver) {\n      return observeForLocations(id, resolver, documentStore)\n    }\n\n    // Resolver is explicitly provided state\n    return of(resolver)\n  }, [documentStore, id, resolver, type])\n\n  useEffect(() => {\n    const sub = result?.subscribe((state) => {\n      setLocationsState(state || INITIAL_STATE)\n      setLocationsStatus(state ? 'resolved' : 'empty')\n    })\n\n    return () => sub?.unsubscribe()\n  }, [result])\n\n  return {\n    state: locationsState,\n    status: locationsStatus,\n  }\n}\n","import {defineLocaleResourceBundle} from 'sanity'\n\n/**\n * The locale namespace for the presentation tool\n *\n * @public\n */\nexport const presentationLocaleNamespace = 'presentation' as const\n\n/**\n * The default locale bundle for the presentation tool, which is US English.\n *\n * @internal\n */\nexport const presentationUsEnglishLocaleBundle = defineLocaleResourceBundle({\n  locale: 'en-US',\n  namespace: presentationLocaleNamespace,\n  resources: () => import('./resources'),\n})\n","import {createContext} from 'react'\nimport type {\n  PresentationNavigate,\n  PresentationParams,\n  PresentationSearchParams,\n  StructureDocumentPaneParams,\n} from './types'\n\nexport interface PresentationContextValue {\n  devMode: boolean\n  name: string\n  navigate: PresentationNavigate\n  params: PresentationParams\n  structureParams: StructureDocumentPaneParams\n  searchParams: PresentationSearchParams\n}\n\nexport const PresentationContext = createContext<PresentationContextValue | null>(null)\n","import {useContext} from 'react'\nimport {PresentationContext, type PresentationContextValue} from './PresentationContext'\n\nexport function usePresentationTool(throwOnMissingContext?: true): PresentationContextValue\nexport function usePresentationTool(throwOnMissingContext: false): PresentationContextValue | null\nexport function usePresentationTool(throwOnMissingContext = true): PresentationContextValue | null {\n  const presentation = useContext(PresentationContext)\n\n  if (throwOnMissingContext && !presentation) {\n    throw new Error('Presentation context is missing')\n  }\n\n  return presentation\n}\n","import {usePresentationTool} from '../usePresentationTool'\n\nexport function useCurrentPresentationToolName(): string | undefined {\n  return usePresentationTool(false)?.name ?? undefined\n}\n","import {\n  ChevronRightIcon,\n  DesktopIcon,\n  ErrorOutlineIcon,\n  InfoOutlineIcon,\n  WarningOutlineIcon,\n} from '@sanity/icons'\nimport {Box, Card, Flex, Spinner, Stack, Text} from '@sanity/ui'\nimport {\n  createElement,\n  useCallback,\n  useContext,\n  useState,\n  type ComponentType,\n  type ReactNode,\n} from 'react'\nimport {useTranslation, type ObjectSchemaType} from 'sanity'\nimport {useIntentLink} from 'sanity/router'\nimport {DEFAULT_TOOL_NAME, DEFAULT_TOOL_TITLE} from '../constants'\nimport {presentationLocaleNamespace} from '../i18n'\nimport {PresentationContext} from '../PresentationContext'\nimport type {DocumentLocation, DocumentLocationsState, PresentationPluginOptions} from '../types'\nimport {useCurrentPresentationToolName} from './useCurrentPresentationToolName'\n\nconst TONE_ICONS: Record<'positive' | 'caution' | 'critical', ComponentType> = {\n  positive: InfoOutlineIcon,\n  caution: WarningOutlineIcon,\n  critical: ErrorOutlineIcon,\n}\n\nexport function LocationsBanner(props: {\n  documentId: string\n  isResolving: boolean\n  options: PresentationPluginOptions\n  schemaType: ObjectSchemaType\n  showPresentationTitle: boolean\n  state: DocumentLocationsState\n}): ReactNode {\n  const {documentId, isResolving, options, schemaType, showPresentationTitle} = props\n  const {locations, message, tone} = props.state\n  const len = locations?.length || 0\n\n  const {t} = useTranslation(presentationLocaleNamespace)\n  const presentation = useContext(PresentationContext)\n  const [expanded, setExpanded] = useState(false)\n  const toggle = useCallback(() => {\n    if (!len) return\n    setExpanded((v) => !v)\n  }, [len])\n\n  const title = isResolving\n    ? t('locations-banner.resolving.text')\n    : message || t('locations-banner.locations-count', {count: len})\n\n  return (\n    <Card padding={1} radius={2} border tone={tone}>\n      <div style={{margin: -1}}>\n        {!locations && (\n          <Flex align=\"flex-start\" gap={3} padding={3}>\n            {tone && (\n              <Box flex=\"none\">\n                <Text size={1}>{createElement(TONE_ICONS[tone])}</Text>\n              </Box>\n            )}\n            <Box flex={1}>\n              <Text size={1} weight=\"medium\">\n                {showPresentationTitle && <>{options.title || DEFAULT_TOOL_TITLE} &middot; </>}\n                {title}\n              </Text>\n            </Box>\n          </Flex>\n        )}\n        {locations && (\n          <>\n            <Card\n              as={len ? 'button' : undefined}\n              onClick={toggle}\n              padding={3}\n              radius={1}\n              tone=\"inherit\"\n            >\n              <Flex gap={3}>\n                <Box flex=\"none\">\n                  {isResolving ? (\n                    <Spinner size={1} />\n                  ) : (\n                    <Text size={1}>\n                      {len === 0 ? (\n                        <InfoOutlineIcon />\n                      ) : (\n                        <ChevronRightIcon\n                          style={{\n                            transform: `rotate(${expanded ? '90deg' : 0})`,\n                            transition: 'transform 100ms ease-in-out',\n                          }}\n                        />\n                      )}\n                    </Text>\n                  )}\n                </Box>\n                <Box flex={1}>\n                  <Text size={1} weight=\"medium\">\n                    {showPresentationTitle && <>{options.title || DEFAULT_TOOL_TITLE} &middot; </>}\n                    {title}\n                  </Text>\n                </Box>\n              </Flex>\n            </Card>\n            <Stack hidden={!expanded} marginTop={1} space={1}>\n              {locations.map((l, index) => (\n                <LocationItem\n                  active={\n                    (options.name || DEFAULT_TOOL_NAME) === presentation?.name &&\n                    l.href === presentation?.params.preview\n                  }\n                  documentId={documentId}\n                  documentType={schemaType.name}\n                  key={index}\n                  node={l}\n                  toolName={options.name || DEFAULT_TOOL_NAME}\n                />\n              ))}\n            </Stack>\n          </>\n        )}\n      </div>\n    </Card>\n  )\n}\n\nfunction LocationItem(props: {\n  active: boolean\n  documentId: string\n  documentType: string\n  node: DocumentLocation\n  toolName: string\n}) {\n  const {documentId, documentType, node, active, toolName} = props\n  const presentation = useContext(PresentationContext)\n  const currentPresentationToolName = useCurrentPresentationToolName()\n  const isCurrentTool = toolName === currentPresentationToolName\n  const navigate = presentation?.navigate\n\n  const presentationLinkProps = useIntentLink({\n    intent: 'edit',\n    params: {\n      id: documentId,\n      type: documentType,\n      mode: 'presentation',\n      presentation: toolName,\n      ...presentation?.structureParams,\n      preview: node.href,\n    },\n  })\n\n  const handleCurrentToolClick = useCallback(() => {\n    navigate?.({}, {preview: node.href})\n  }, [node.href, navigate])\n\n  return (\n    <Card\n      {...(isCurrentTool ? {} : presentationLinkProps)}\n      as=\"a\"\n      key={node.href}\n      onClick={isCurrentTool ? handleCurrentToolClick : presentationLinkProps.onClick}\n      padding={3}\n      radius={1}\n      pressed={active}\n      tone=\"inherit\"\n    >\n      <Flex gap={3}>\n        <Box flex=\"none\">\n          <Text size={1}>\n            <DesktopIcon />\n          </Text>\n        </Box>\n        <Stack flex={1} space={2}>\n          <Text size={1} weight=\"medium\">\n            {node.title}\n          </Text>\n          <Text muted size={1} textOverflow=\"ellipsis\">\n            {node.href}\n          </Text>\n        </Stack>\n      </Flex>\n    </Card>\n  )\n}\n","import {createContext} from 'react'\nimport type {PresentationDocumentContextValue} from './types'\n\nexport const PresentationDocumentContext = createContext<PresentationDocumentContextValue | null>(\n  null,\n)\n","import {rem, Stack} from '@sanity/ui'\nimport {useContext, type ReactNode} from 'react'\nimport {type ObjectSchemaType} from 'sanity'\nimport {styled} from 'styled-components'\nimport {type PublishedId} from '../internals'\nimport type {PresentationPluginOptions} from '../types'\nimport {useDocumentLocations} from '../useDocumentLocations'\nimport {LocationsBanner} from './LocationsBanner'\nimport {PresentationDocumentContext} from './PresentationDocumentContext'\n\nconst LocationStack = styled(Stack)`\n  min-height: ${rem(42)};\n\n  & + &:empty {\n    display: none;\n  }\n`\n\nexport function PresentationDocumentHeader(props: {\n  documentId: PublishedId\n  options: PresentationPluginOptions\n  schemaType: ObjectSchemaType\n}): ReactNode {\n  const {documentId, options, schemaType} = props\n\n  const context = useContext(PresentationDocumentContext)\n  const {state, status} = useDocumentLocations({\n    id: documentId,\n    resolvers: options.resolve?.locations || options.locate,\n    type: schemaType.name,\n  })\n\n  if ((context && context.options[0] !== options) || status === 'empty') {\n    return null\n  }\n\n  const contextOptions = context?.options || []\n\n  return (\n    <LocationStack marginBottom={5} space={5}>\n      <Stack space={2}>\n        {contextOptions.map((options, idx) => (\n          <LocationsBanner\n            documentId={documentId}\n            isResolving={status === 'resolving'}\n            key={idx}\n            options={options}\n            schemaType={schemaType}\n            showPresentationTitle={contextOptions.length > 1}\n            state={state}\n          />\n        ))}\n      </Stack>\n    </LocationStack>\n  )\n}\n","import {\n  useCallback,\n  useContext,\n  useLayoutEffect,\n  useMemo,\n  useState,\n  type ReactElement,\n  type ReactNode,\n} from 'react'\nimport {useEffectEvent} from 'use-effect-event'\nimport type {PresentationPluginOptions} from '../types'\nimport {PresentationDocumentContext} from './PresentationDocumentContext'\nimport type {PresentationDocumentContextValue} from './types'\n\n/** @internal */\nexport function PresentationDocumentProvider(props: {\n  children?: ReactNode\n  options: PresentationPluginOptions\n}): ReactElement {\n  const {children, options} = props\n  const parent = useContext(PresentationDocumentContext)\n  const parentRegister = parent?.register\n\n  const [optionsArray, setOptionsArray] = useState<PresentationPluginOptions[]>(() => [])\n\n  const register = useCallback(\n    (options: PresentationPluginOptions) => {\n      if (parentRegister) {\n        return parentRegister(options)\n      }\n\n      setOptionsArray((prev) => [options].concat(prev))\n\n      return () => {\n        setOptionsArray((prev) => prev.filter((o) => o !== options))\n      }\n    },\n    [parentRegister],\n  )\n\n  const context: PresentationDocumentContextValue = useMemo(\n    () => ({\n      options: parent?.options || optionsArray,\n      register,\n    }),\n    [optionsArray, parent, register],\n  )\n\n  const registerEffectEvent = useEffectEvent((options: PresentationPluginOptions) =>\n    register(options),\n  )\n  useLayoutEffect(() => registerEffectEvent(options), [registerEffectEvent, options])\n\n  return (\n    <PresentationDocumentContext.Provider value={context}>\n      {children}\n    </PresentationDocumentContext.Provider>\n  )\n}\n","import {MasterDetailIcon} from '@sanity/icons'\nimport {useContext, useMemo} from 'react'\nimport {type Tool} from 'sanity'\nimport {useRouter} from 'sanity/router'\nimport {\n  defineDocumentFieldAction,\n  isRecord,\n  pathToString,\n  useWorkspace,\n  type DocumentFieldActionItem,\n} from '../internals'\nimport {PresentationContext} from '../PresentationContext'\n\nexport const openInStructure = defineDocumentFieldAction({\n  name: 'presentation/openInStructure',\n  useAction({documentId, documentType, path}) {\n    const workspace = useWorkspace()\n    const {navigateIntent} = useRouter()\n    const presentation = useContext(PresentationContext)\n\n    const defaultStructureTool = useMemo(\n      () => findStructureTool(workspace.tools, documentId, documentType),\n      [documentId, documentType, workspace.tools],\n    )\n\n    return {\n      type: 'action',\n      hidden: !presentation || path.length > 0 || !defaultStructureTool,\n      icon: defaultStructureTool?.icon || MasterDetailIcon,\n      title: `Open in ${defaultStructureTool?.title || 'Structure'}`,\n      onAction() {\n        navigateIntent('edit', {\n          id: documentId,\n          type: documentType,\n          mode: 'structure',\n          path: pathToString(path),\n        })\n      },\n      renderAsButton: true,\n    } satisfies DocumentFieldActionItem\n  },\n})\n\nfunction findStructureTool(\n  tools: Tool[],\n  documentId: string,\n  documentType: string,\n): Tool | undefined {\n  const results = tools.map((t) => {\n    const match = t.canHandleIntent?.(\n      'edit',\n      {\n        id: documentId,\n        type: documentType,\n        mode: 'structure',\n      },\n      {},\n    )\n\n    return {tool: t, match}\n  })\n\n  const modeMatches = results.filter((t) => isRecord(t.match) && t.match['mode'])\n\n  if (modeMatches.length > 0) {\n    return modeMatches[0].tool\n  }\n\n  const matches = results.filter((t) => t.match)\n\n  return matches[0]?.tool\n}\n","import {uuid} from '@sanity/uuid'\nimport {type RouterState, type SearchParam} from 'sanity/router'\nimport {encodeJsonParams, getPublishedId} from './internals'\nimport type {PresentationSearchParams, PresentationStateParams} from './types'\n\nconst preservedSearchParamKeys: Array<keyof PresentationSearchParams> = [\n  'preview',\n  'perspective',\n  'viewport',\n]\n\n/**\n * @internal\n */\nexport function getIntentState(\n  intent: string,\n  params: Record<string, string>,\n  routerState: RouterState | undefined,\n  payload: unknown,\n):\n  | (PresentationStateParams & {_searchParams: SearchParam[]})\n  | {intent: string; params: Record<string, string>; payload: unknown} {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const {id, mode, path, presentation, type, ...searchParams} = params\n\n  const preservedSearchParams = (routerState?._searchParams || [])\n    // @todo Casting https://github.com/microsoft/TypeScript/issues/14520\n    .filter(([key]) => preservedSearchParamKeys.includes(key as keyof PresentationSearchParams))\n    .reduce((acc, [key, value]) => ({...acc, [key]: value}), {} as Record<string, string>)\n\n  const _searchParams = {\n    ...preservedSearchParams,\n    ...searchParams,\n  }\n\n  if (intent === 'edit' && id) {\n    _searchParams['preview'] =\n      _searchParams['preview'] || new URLSearchParams(window.location.search).get('preview') || '/'\n    return {\n      type: type || '*',\n      id: getPublishedId(id),\n      path,\n      _searchParams: Object.entries(_searchParams),\n    }\n  }\n\n  if (intent === 'create') {\n    _searchParams['preview'] =\n      _searchParams['preview'] || new URLSearchParams(window.location.search).get('preview') || '/'\n\n    if (payload && typeof payload === 'object') {\n      _searchParams['templateParams'] = encodeJsonParams(payload as Record<string, unknown>)\n    }\n\n    return {\n      type: type || '*',\n      id: id || uuid(),\n      _searchParams: Object.entries(_searchParams),\n    }\n  }\n  return {intent, params, payload}\n}\n","import {Flex, Spinner} from '@sanity/ui'\n\nexport function PresentationSpinner(): React.JSX.Element {\n  return (\n    <Flex align=\"center\" direction=\"column\" height=\"fill\" justify=\"center\" style={{width: '100%'}}>\n      <Spinner />\n    </Flex>\n  )\n}\n","import {route} from 'sanity/router'\n\nexport const router = route.create('/', {__unsafe_disableScopedSearchParams: true}, [\n  route.intents('/intent'),\n  route.create(':type', [route.create(':id', [route.create(':path')])]),\n])\n","import type {SanityDocument} from '@sanity/client'\nimport {lazy, Suspense} from 'react'\nimport {definePlugin, isDocumentSchemaType, type InputProps} from 'sanity'\nimport {DEFAULT_TOOL_ICON, DEFAULT_TOOL_NAME, EDIT_INTENT_MODE} from './constants'\nimport {PresentationDocumentHeader} from './document/PresentationDocumentHeader'\nimport {PresentationDocumentProvider} from './document/PresentationDocumentProvider'\nimport {openInStructure} from './fieldActions/openInStructure'\nimport {getIntentState} from './getIntentState'\nimport {presentationUsEnglishLocaleBundle} from './i18n'\nimport {getPublishedId} from './internals'\nimport {PresentationSpinner} from './PresentationSpinner'\nimport {router} from './router'\nimport type {\n  DocumentLocationResolverObject,\n  DocumentLocationsState,\n  DocumentResolver,\n  PresentationPluginOptions,\n} from './types'\n\nconst PresentationTool = lazy(() => import('./PresentationToolGrantsCheck'))\nconst BroadcastDisplayedDocument = lazy(() => import('./loader/BroadcastDisplayedDocument'))\n\n/**\n * Define locations for a given document type.\n * This function doesn't do anything itself, it is used to provide type information.\n * @param resolver - resolver that return locations for a document.\n * @public\n */\nexport function defineLocations<K extends string>(\n  resolver: DocumentLocationResolverObject<K> | DocumentLocationsState,\n): typeof resolver {\n  return resolver\n}\n\n/**\n * Define documents for a given location.\n * This function doesn't do anything itself, it is used to provide type information.\n * @param resolvers - resolvers that return documents.\n * @public\n */\nexport function defineDocuments(resolvers: DocumentResolver[]): typeof resolvers {\n  return resolvers\n}\n\nexport const presentationTool = definePlugin<PresentationPluginOptions>((options) => {\n  const toolName = options.name || DEFAULT_TOOL_NAME\n\n  if ('locate' in options) {\n    // eslint-disable-next-line no-console\n    console.warn('Presentation’s `locate` option is deprecated. Use `resolve.locations` instead.')\n  }\n\n  const hasLocationsResolver = !!(options.resolve?.locations || options.locate)\n\n  function PresentationDocumentInput(props: InputProps) {\n    const value = props.value as SanityDocument\n    const documentId = value?._id ? getPublishedId(value?._id) : undefined\n\n    if (isDocumentSchemaType(props.schemaType)) {\n      return (\n        <PresentationDocumentProvider options={options}>\n          {hasLocationsResolver && documentId && (\n            <PresentationDocumentHeader\n              documentId={documentId}\n              options={options}\n              schemaType={props.schemaType}\n            />\n          )}\n          <Suspense fallback={<PresentationSpinner />}>{props.renderDefault(props)}</Suspense>\n          <Suspense key=\"broadcast-displayed-document\">\n            <BroadcastDisplayedDocument key={documentId} value={value} />\n          </Suspense>\n        </PresentationDocumentProvider>\n      )\n    }\n\n    return props.renderDefault(props)\n  }\n\n  function canHandleCreateIntent(params: Record<string, unknown>) {\n    // We can't handle create intents without a `type` parameter\n    if (!('type' in params)) {\n      return false\n    }\n\n    if ('presentation' in params && params['presentation'] !== toolName) {\n      return false\n    }\n\n    return 'template' in params ? {template: true} : true\n  }\n\n  function canHandleEditIntent(params: Record<string, unknown>) {\n    // We can't handle edit intents without `type` or `id` parameters\n    if (!('type' in params) || !('id' in params)) {\n      return false\n    }\n\n    if ('presentation' in params && params['presentation'] !== toolName) {\n      return false\n    }\n\n    return 'mode' in params ? {mode: params['mode'] === EDIT_INTENT_MODE} : true\n  }\n\n  return {\n    i18n: {\n      bundles: [presentationUsEnglishLocaleBundle],\n    },\n    document: {\n      unstable_fieldActions: (prev) => {\n        return [\n          ...prev.filter((a) => a.name !== openInStructure.name), // prevent duplication\n          openInStructure,\n        ]\n      },\n    },\n\n    form: {\n      components: {\n        input: PresentationDocumentInput,\n      },\n    },\n\n    tools: [\n      {\n        icon: options.icon || DEFAULT_TOOL_ICON,\n        name: toolName,\n        title: options.title,\n        component: PresentationTool,\n        options,\n        canHandleIntent(intent, params) {\n          if (intent === 'create') return canHandleCreateIntent(params)\n          if (intent === 'edit') return canHandleEditIntent(params)\n          return false\n        },\n        getIntentState,\n        router,\n      },\n    ],\n  }\n})\n","import {createContext} from 'react'\n\nexport type PresentationNavigateContextValue = (\n  preview: string | undefined,\n  document?: {type: string; id: string},\n) => void\n\nexport const PresentationNavigateContext = createContext<PresentationNavigateContextValue | null>(\n  null,\n)\n","import {useContext} from 'react'\nimport {\n  PresentationNavigateContext,\n  type PresentationNavigateContextValue,\n} from './PresentationNavigateContext'\n\nexport function usePresentationNavigate(): PresentationNavigateContextValue {\n  const navigate = useContext(PresentationNavigateContext)\n\n  if (!navigate) {\n    throw new Error('Presentation navigate context is missing')\n  }\n\n  return navigate\n}\n\nexport type {PresentationNavigateContextValue}\n","import {createContext} from 'react'\nimport type {PresentationParams} from './types'\n\nexport const PresentationParamsContext = createContext<PresentationParams | null>(null)\n","import {useContext} from 'react'\nimport {PresentationParamsContext} from './PresentationParamsContext'\nimport type {PresentationParams} from './types'\n\n/** @public */\nexport function usePresentationParams(throwOnMissingContext?: true): PresentationParams\n/** @public */\nexport function usePresentationParams(throwOnMissingContext: false): PresentationParams | null\n/** @public */\nexport function usePresentationParams(throwOnMissingContext = true): PresentationParams | null {\n  const params = useContext(PresentationParamsContext)\n\n  if (throwOnMissingContext && !params) {\n    throw new Error('Presentation params context is missing')\n  }\n\n  return params\n}\n","import type {Serializable} from '@repo/visual-editing-helpers'\nimport {createContext} from 'react'\n\nexport interface SharedStateContextValue {\n  removeValue: (key: string) => void\n  setValue: (key: string, value: Serializable) => void\n}\n\nexport const SharedStateContext = createContext<SharedStateContextValue | null>(null)\n","import type {Serializable} from '@repo/visual-editing-helpers'\nimport {useContext, useEffect} from 'react'\nimport {SharedStateContext} from './SharedStateContext'\n\nexport const useSharedState = (key: string, value: Serializable): undefined => {\n  const context = useContext(SharedStateContext)\n\n  if (!context) {\n    throw new Error('Preview Snapshots context is missing')\n  }\n\n  const {setValue} = context\n\n  useEffect(() => {\n    setValue(key, value)\n  }, [key, value, setValue])\n\n  return undefined\n}\n","// src/regex.ts\nvar BIC_REGEX = /^[A-Z]{6}(?!00)[A-Z\\d]{2}(?:[A-Z\\d]{3})?$/u;\nvar CUID2_REGEX = /^[a-z][\\da-z]*$/u;\nvar DECIMAL_REGEX = /^\\d+$/u;\nvar EMAIL_REGEX = /^[\\w+-]+(?:\\.[\\w+-]+)*@[\\da-z]+(?:[.-][\\da-z]+)*\\.[a-z]{2,}$/iu;\nvar EMOJI_REGEX = /^[\\p{Extended_Pictographic}\\p{Emoji_Component}]+$/u;\nvar HEXADECIMAL_REGEX = /^(?:0h|0x)?[\\da-f]+$/iu;\nvar HEX_COLOR_REGEX = /^#(?:[\\da-f]{3,4}|[\\da-f]{6}|[\\da-f]{8})$/iu;\nvar IMEI_REGEX = /^\\d{15}$|^\\d{2}-\\d{6}-\\d{6}-\\d$/u;\nvar IPV4_REGEX = (\n  // eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive\n  /^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$/u\n);\nvar IPV6_REGEX = /^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$/iu;\nvar IP_REGEX = /^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$|^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$/iu;\nvar ISO_DATE_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])$/u;\nvar ISO_DATE_TIME_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_REGEX = /^(?:0\\d|1\\d|2[0-3]):[0-5]\\d$/u;\nvar ISO_TIME_SECOND_REGEX = /^(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}$/u;\nvar ISO_TIMESTAMP_REGEX = /^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}(?:\\.\\d{1,9})?(?:Z|[+-](?:0\\d|1\\d|2[0-3])(?::?[0-5]\\d)?)$/u;\nvar ISO_WEEK_REGEX = /^\\d{4}-W(?:0[1-9]|[1-4]\\d|5[0-3])$/u;\nvar MAC48_REGEX = /^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$/iu;\nvar MAC64_REGEX = /^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$/iu;\nvar MAC_REGEX = /^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$|^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$/iu;\nvar OCTAL_REGEX = /^(?:0o)?[0-7]+$/iu;\nvar ULID_REGEX = /^[\\da-hjkmnp-tv-z]{26}$/iu;\nvar UUID_REGEX = /^[\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12}$/iu;\n\n// src/storages/globalConfig/globalConfig.ts\nvar store;\nfunction setGlobalConfig(config2) {\n  store = { ...store, ...config2 };\n}\nfunction getGlobalConfig(config2) {\n  return {\n    lang: config2?.lang ?? store?.lang,\n    message: config2?.message,\n    abortEarly: config2?.abortEarly ?? store?.abortEarly,\n    abortPipeEarly: config2?.abortPipeEarly ?? store?.abortPipeEarly,\n    skipPipe: config2?.skipPipe\n  };\n}\nfunction deleteGlobalConfig() {\n  store = void 0;\n}\n\n// src/storages/globalMessage/globalMessage.ts\nvar store2;\nfunction setGlobalMessage(message, lang) {\n  if (!store2)\n    store2 = /* @__PURE__ */ new Map();\n  store2.set(lang, message);\n}\nfunction getGlobalMessage(lang) {\n  return store2?.get(lang);\n}\nfunction deleteGlobalMessage(lang) {\n  store2?.delete(lang);\n}\n\n// src/storages/schemaMessage/schemaMessage.ts\nvar store3;\nfunction setSchemaMessage(message, lang) {\n  if (!store3)\n    store3 = /* @__PURE__ */ new Map();\n  store3.set(lang, message);\n}\nfunction getSchemaMessage(lang) {\n  return store3?.get(lang);\n}\nfunction deleteSchemaMessage(lang) {\n  store3?.delete(lang);\n}\n\n// src/storages/specificMessage/specificMessage.ts\nvar store4;\nfunction setSpecificMessage(reference, message, lang) {\n  if (!store4)\n    store4 = /* @__PURE__ */ new Map();\n  if (!store4.get(reference))\n    store4.set(reference, /* @__PURE__ */ new Map());\n  store4.get(reference).set(lang, message);\n}\nfunction getSpecificMessage(reference, lang) {\n  return store4?.get(reference)?.get(lang);\n}\nfunction deleteSpecificMessage(reference, lang) {\n  store4?.get(reference)?.delete(lang);\n}\n\n// src/utils/_stringify/_stringify.ts\nfunction _stringify(input) {\n  let type = typeof input;\n  if (type === \"object\") {\n    type = (input && Object.getPrototypeOf(input)?.constructor?.name) ?? \"null\";\n  }\n  return type === \"string\" ? `\"${input}\"` : type === \"number\" || type === \"bigint\" || type === \"boolean\" ? `${input}` : type;\n}\n\n// src/utils/_addIssue/_addIssue.ts\nfunction _addIssue(context, label, dataset, config2, other) {\n  const input = other && \"input\" in other ? other.input : dataset.value;\n  const expected = other?.expected ?? context.expects;\n  const received = other?.received ?? _stringify(input);\n  const issue = {\n    kind: context.kind,\n    type: context.type,\n    input,\n    expected,\n    received,\n    message: `Invalid ${label}: ${expected ? `Expected ${expected} but r` : \"R\"}eceived ${received}`,\n    // @ts-expect-error\n    requirement: context.requirement,\n    path: other?.path,\n    issues: other?.issues,\n    lang: config2.lang,\n    abortEarly: config2.abortEarly,\n    abortPipeEarly: config2.abortPipeEarly,\n    skipPipe: config2.skipPipe\n  };\n  const isSchema = context.kind === \"schema\";\n  const message = (\n    // @ts-expect-error\n    context.message ?? getSpecificMessage(context.reference, issue.lang) ?? (isSchema ? getSchemaMessage(issue.lang) : null) ?? config2.message ?? getGlobalMessage(issue.lang)\n  );\n  if (message) {\n    issue.message = typeof message === \"function\" ? message(issue) : message;\n  }\n  if (isSchema) {\n    dataset.typed = false;\n  }\n  if (dataset.issues) {\n    dataset.issues.push(issue);\n  } else {\n    dataset.issues = [issue];\n  }\n}\n\n// src/utils/_isAllowedObjectKey/_isAllowedObjectKey.ts\nfunction _isAllowedObjectKey(key) {\n  return key !== \"__proto__\" && key !== \"prototype\" && key !== \"constructor\";\n}\n\n// src/utils/_isLuhnAlgo/_isLuhnAlgo.ts\nvar NON_DIGIT_REGEX = /\\D/gu;\nfunction _isLuhnAlgo(input) {\n  const number2 = input.replace(NON_DIGIT_REGEX, \"\");\n  let length2 = number2.length;\n  let bit = 1;\n  let sum = 0;\n  while (length2) {\n    const value2 = +number2[--length2];\n    bit ^= 1;\n    sum += bit ? [0, 2, 4, 6, 8, 1, 3, 5, 7, 9][value2] : value2;\n  }\n  return sum % 10 === 0;\n}\n\n// src/utils/entriesFromList/entriesFromList.ts\nfunction entriesFromList(list, schema) {\n  const entries = {};\n  for (const key of list) {\n    entries[key] = schema;\n  }\n  return entries;\n}\n\n// src/utils/getDotPath/getDotPath.ts\nfunction getDotPath(issue) {\n  if (issue.path) {\n    let key = \"\";\n    for (const item of issue.path) {\n      if (\"key\" in item && (typeof item.key === \"string\" || typeof item.key === \"number\")) {\n        if (key) {\n          key += `.${item.key}`;\n        } else {\n          key += item.key;\n        }\n      } else {\n        return null;\n      }\n    }\n    return key;\n  }\n  return null;\n}\n\n// src/utils/isOfKind/isOfKind.ts\nfunction isOfKind(kind, object2) {\n  return object2.kind === kind;\n}\n\n// src/utils/isOfType/isOfType.ts\nfunction isOfType(type, object2) {\n  return object2.type === type;\n}\n\n// src/utils/isValiError/isValiError.ts\nfunction isValiError(error) {\n  return error instanceof ValiError;\n}\n\n// src/utils/ValiError/ValiError.ts\nvar ValiError = class extends Error {\n  /**\n   * The error issues.\n   */\n  issues;\n  /**\n   * Creates a Valibot error with useful information.\n   *\n   * @param issues The error issues.\n   */\n  constructor(issues) {\n    super(issues[0].message);\n    this.name = \"ValiError\";\n    this.issues = issues;\n  }\n};\n\n// src/actions/bic/bic.ts\nfunction bic(message) {\n  return {\n    kind: \"validation\",\n    type: \"bic\",\n    reference: bic,\n    async: false,\n    expects: null,\n    requirement: BIC_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"BIC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/bytes/bytes.ts\nfunction bytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"bytes\",\n    reference: bytes,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 !== this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/brand/brand.ts\nfunction brand(name) {\n  return {\n    kind: \"transformation\",\n    type: \"brand\",\n    reference: brand,\n    async: false,\n    name,\n    _run(dataset) {\n      return dataset;\n    }\n  };\n}\n\n// src/actions/check/check.ts\nfunction check(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: check,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/check/checkAsync.ts\nfunction checkAsync(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"check\",\n    reference: checkAsync,\n    async: true,\n    expects: null,\n    requirement,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.typed && !await this.requirement(dataset.value)) {\n        _addIssue(this, \"input\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/creditCard/creditCard.ts\nvar CREDIT_CARD_REGEX = /^(?:\\d{14,19}|\\d{4}(?: \\d{3,6}){2,4}|\\d{4}(?:-\\d{3,6}){2,4})$/u;\nvar SANITIZE_REGEX = /[- ]/gu;\nvar PROVIDER_REGEX_LIST = [\n  // American Express\n  /^3[47]\\d{13}$/u,\n  // Diners Club\n  /^3(?:0[0-5]|[68]\\d)\\d{11,13}$/u,\n  // Discover\n  /^6(?:011|5\\d{2})\\d{12,15}$/u,\n  // JCB\n  /^(?:2131|1800|35\\d{3})\\d{11}$/u,\n  // Mastercard\n  /^5[1-5]\\d{2}|(?:222\\d|22[3-9]\\d|2[3-6]\\d{2}|27[01]\\d|2720)\\d{12}$/u,\n  // UnionPay\n  /^(?:6[27]\\d{14,17}|81\\d{14,17})$/u,\n  // Visa\n  /^4\\d{12}(?:\\d{3,6})?$/u\n];\nfunction creditCard(message) {\n  return {\n    kind: \"validation\",\n    type: \"credit_card\",\n    reference: creditCard,\n    async: false,\n    expects: null,\n    requirement(input) {\n      let sanitized;\n      return CREDIT_CARD_REGEX.test(input) && // Remove any hyphens and blanks\n      (sanitized = input.replace(SANITIZE_REGEX, \"\")) && // Check if it matches a provider\n      PROVIDER_REGEX_LIST.some((regex2) => regex2.test(sanitized)) && // Check if passes luhn algorithm\n      _isLuhnAlgo(sanitized);\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"credit card\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/cuid2/cuid2.ts\nfunction cuid2(message) {\n  return {\n    kind: \"validation\",\n    type: \"cuid2\",\n    reference: cuid2,\n    async: false,\n    expects: null,\n    requirement: CUID2_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"Cuid2\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/decimal/decimal.ts\nfunction decimal(message) {\n  return {\n    kind: \"validation\",\n    type: \"decimal\",\n    reference: decimal,\n    async: false,\n    expects: null,\n    requirement: DECIMAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"decimal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/email/email.ts\nfunction email(message) {\n  return {\n    kind: \"validation\",\n    type: \"email\",\n    reference: email,\n    expects: null,\n    async: false,\n    requirement: EMAIL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"email\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/emoji/emoji.ts\nfunction emoji(message) {\n  return {\n    kind: \"validation\",\n    type: \"emoji\",\n    reference: emoji,\n    async: false,\n    expects: null,\n    requirement: EMOJI_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"emoji\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/empty/empty.ts\nfunction empty(message) {\n  return {\n    kind: \"validation\",\n    type: \"empty\",\n    reference: empty,\n    async: false,\n    expects: \"0\",\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length > 0) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/endsWith/endsWith.ts\nfunction endsWith(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"ends_with\",\n    reference: endsWith,\n    async: false,\n    expects: `\"${requirement}\"`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.endsWith(this.requirement)) {\n        _addIssue(this, \"end\", dataset, config2, {\n          received: `\"${dataset.value.slice(-this.requirement.length)}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/every/every.ts\nfunction every(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"every\",\n    reference: every,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.every(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/excludes/excludes.ts\nfunction excludes(requirement, message) {\n  const received = _stringify(requirement);\n  return {\n    kind: \"validation\",\n    type: \"excludes\",\n    reference: excludes,\n    async: false,\n    expects: `!${received}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.includes(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2, { received });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/finite/finite.ts\nfunction finite(message) {\n  return {\n    kind: \"validation\",\n    type: \"finite\",\n    reference: finite,\n    async: false,\n    expects: null,\n    requirement: Number.isFinite,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"finite\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hash/hash.ts\nvar HASH_LENGTHS = {\n  md4: 32,\n  md5: 32,\n  sha1: 40,\n  sha256: 64,\n  sha384: 96,\n  sha512: 128,\n  ripemd128: 32,\n  ripemd160: 40,\n  tiger128: 32,\n  tiger160: 40,\n  tiger192: 48,\n  crc32: 8,\n  crc32b: 8,\n  adler32: 8\n};\nfunction hash(types, message) {\n  return {\n    kind: \"validation\",\n    type: \"hash\",\n    reference: hash,\n    expects: null,\n    async: false,\n    requirement: RegExp(\n      types.map((type) => `^[a-f0-9]{${HASH_LENGTHS[type]}}$`).join(\"|\"),\n      \"iu\"\n    ),\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hash\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hexadecimal/hexadecimal.ts\nfunction hexadecimal(message) {\n  return {\n    kind: \"validation\",\n    type: \"hexadecimal\",\n    reference: hexadecimal,\n    async: false,\n    expects: null,\n    requirement: HEXADECIMAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hexadecimal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/hexColor/hexColor.ts\nfunction hexColor(message) {\n  return {\n    kind: \"validation\",\n    type: \"hex_color\",\n    reference: hexColor,\n    async: false,\n    expects: null,\n    requirement: HEX_COLOR_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"hex color\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/imei/imei.ts\nfunction imei(message) {\n  return {\n    kind: \"validation\",\n    type: \"imei\",\n    reference: imei,\n    async: false,\n    expects: null,\n    requirement(input) {\n      return IMEI_REGEX.test(input) && _isLuhnAlgo(input);\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"IMEI\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/includes/includes.ts\nfunction includes(requirement, message) {\n  const expects = _stringify(requirement);\n  return {\n    kind: \"validation\",\n    type: \"includes\",\n    reference: includes,\n    async: false,\n    expects,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.includes(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2, {\n          received: `!${expects}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/integer/integer.ts\nfunction integer(message) {\n  return {\n    kind: \"validation\",\n    type: \"integer\",\n    reference: integer,\n    async: false,\n    expects: null,\n    requirement: Number.isInteger,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"integer\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ip/ip.ts\nfunction ip(message) {\n  return {\n    kind: \"validation\",\n    type: \"ip\",\n    reference: ip,\n    async: false,\n    expects: null,\n    requirement: IP_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IP\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ipv4/ipv4.ts\nfunction ipv4(message) {\n  return {\n    kind: \"validation\",\n    type: \"ipv4\",\n    reference: ipv4,\n    async: false,\n    expects: null,\n    requirement: IPV4_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IPv4\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ipv6/ipv6.ts\nfunction ipv6(message) {\n  return {\n    kind: \"validation\",\n    type: \"ipv6\",\n    reference: ipv6,\n    async: false,\n    expects: null,\n    requirement: IPV6_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"IPv6\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoDate/isoDate.ts\nfunction isoDate(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_date\",\n    reference: isoDate,\n    async: false,\n    expects: null,\n    requirement: ISO_DATE_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"date\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoDateTime/isoDateTime.ts\nfunction isoDateTime(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_date_time\",\n    reference: isoDateTime,\n    async: false,\n    expects: null,\n    requirement: ISO_DATE_TIME_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"date-time\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTime/isoTime.ts\nfunction isoTime(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_time\",\n    reference: isoTime,\n    async: false,\n    expects: null,\n    requirement: ISO_TIME_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"time\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTimeSecond/isoTimeSecond.ts\nfunction isoTimeSecond(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_time_second\",\n    reference: isoTimeSecond,\n    async: false,\n    expects: null,\n    requirement: ISO_TIME_SECOND_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"time-second\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoTimestamp/isoTimestamp.ts\nfunction isoTimestamp(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_timestamp\",\n    reference: isoTimestamp,\n    async: false,\n    expects: null,\n    requirement: ISO_TIMESTAMP_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"timestamp\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/isoWeek/isoWeek.ts\nfunction isoWeek(message) {\n  return {\n    kind: \"validation\",\n    type: \"iso_week\",\n    reference: isoWeek,\n    async: false,\n    expects: null,\n    requirement: ISO_WEEK_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"week\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/length/length.ts\nfunction length(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"length\",\n    reference: length,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length !== this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac/mac.ts\nfunction mac(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac\",\n    reference: mac,\n    async: false,\n    expects: null,\n    requirement: MAC_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac48/mac48.ts\nfunction mac48(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac48\",\n    reference: mac48,\n    async: false,\n    expects: null,\n    requirement: MAC48_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"48-bit MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mac64/mac64.ts\nfunction mac64(message) {\n  return {\n    kind: \"validation\",\n    type: \"mac64\",\n    reference: mac64,\n    async: false,\n    expects: null,\n    requirement: MAC64_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"64-bit MAC\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxBytes/maxBytes.ts\nfunction maxBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_bytes\",\n    reference: maxBytes,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 > this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxLength/maxLength.ts\nfunction maxLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_length\",\n    reference: maxLength,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length > this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxSize/maxSize.ts\nfunction maxSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_size\",\n    reference: maxSize,\n    async: false,\n    expects: `<=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size > this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/maxValue/maxValue.ts\nfunction maxValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"max_value\",\n    reference: maxValue,\n    async: false,\n    expects: `<=${requirement instanceof Date ? requirement.toJSON() : _stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value > this.requirement) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/mimeType/mimeType.ts\nfunction mimeType(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"mime_type\",\n    reference: mimeType,\n    async: false,\n    expects: requirement.map((option) => `\"${option}\"`).join(\" | \") || \"never\",\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.includes(dataset.value.type)) {\n        _addIssue(this, \"MIME type\", dataset, config2, {\n          received: `\"${dataset.value.type}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minBytes/minBytes.ts\nfunction minBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_bytes\",\n    reference: minBytes,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 < this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minLength/minLength.ts\nfunction minLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_length\",\n    reference: minLength,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length < this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minSize/minSize.ts\nfunction minSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_size\",\n    reference: minSize,\n    async: false,\n    expects: `>=${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size < this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/minValue/minValue.ts\nfunction minValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"min_value\",\n    reference: minValue,\n    async: false,\n    expects: `>=${requirement instanceof Date ? requirement.toJSON() : _stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value < this.requirement) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/multipleOf/multipleOf.ts\nfunction multipleOf(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"multiple_of\",\n    reference: multipleOf,\n    async: false,\n    expects: `%${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value % this.requirement !== 0) {\n        _addIssue(this, \"multiple\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/nonEmpty/nonEmpty.ts\nfunction nonEmpty(message) {\n  return {\n    kind: \"validation\",\n    type: \"non_empty\",\n    reference: nonEmpty,\n    async: false,\n    expects: \"!0\",\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length === 0) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: \"0\"\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notBytes/notBytes.ts\nfunction notBytes(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_bytes\",\n    reference: notBytes,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed) {\n        const length2 = new TextEncoder().encode(dataset.value).length;\n        if (length2 === this.requirement) {\n          _addIssue(this, \"bytes\", dataset, config2, {\n            received: `${length2}`\n          });\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notLength/notLength.ts\nfunction notLength(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_length\",\n    reference: notLength,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.length === this.requirement) {\n        _addIssue(this, \"length\", dataset, config2, {\n          received: `${dataset.value.length}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notSize/notSize.ts\nfunction notSize(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_size\",\n    reference: notSize,\n    async: false,\n    expects: `!${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size === this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/notValue/notValue.ts\nfunction notValue(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"not_value\",\n    reference: notValue,\n    async: false,\n    expects: requirement instanceof Date ? `!${requirement.toJSON()}` : `!${_stringify(requirement)}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && this.requirement <= dataset.value && this.requirement >= dataset.value) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/octal/octal.ts\nfunction octal(message) {\n  return {\n    kind: \"validation\",\n    type: \"octal\",\n    reference: octal,\n    async: false,\n    expects: null,\n    requirement: OCTAL_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"octal\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/readonly/readonly.ts\nfunction readonly() {\n  return {\n    kind: \"transformation\",\n    type: \"readonly\",\n    reference: readonly,\n    async: false,\n    _run(dataset) {\n      return dataset;\n    }\n  };\n}\n\n// src/actions/regex/regex.ts\nfunction regex(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"regex\",\n    reference: regex,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"format\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/safeInteger/safeInteger.ts\nfunction safeInteger(message) {\n  return {\n    kind: \"validation\",\n    type: \"safe_integer\",\n    reference: safeInteger,\n    async: false,\n    expects: null,\n    requirement: Number.isSafeInteger,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"safe integer\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/size/size.ts\nfunction size(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"size\",\n    reference: size,\n    async: false,\n    expects: `${requirement}`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && dataset.value.size !== this.requirement) {\n        _addIssue(this, \"size\", dataset, config2, {\n          received: `${dataset.value.size}`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/some/some.ts\nfunction some(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"some\",\n    reference: some,\n    async: false,\n    expects: null,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.some(this.requirement)) {\n        _addIssue(this, \"content\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/startsWith/startsWith.ts\nfunction startsWith(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"starts_with\",\n    reference: startsWith,\n    async: false,\n    expects: `\"${requirement}\"`,\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !dataset.value.startsWith(this.requirement)) {\n        _addIssue(this, \"start\", dataset, config2, {\n          received: `\"${dataset.value.slice(0, this.requirement.length)}\"`\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toLowerCase/toLowerCase.ts\nfunction toLowerCase() {\n  return {\n    kind: \"transformation\",\n    type: \"to_lower_case\",\n    reference: toLowerCase,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.toLowerCase();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toMaxValue/toMaxValue.ts\nfunction toMaxValue(requirement) {\n  return {\n    kind: \"transformation\",\n    type: \"to_max_value\",\n    reference: toMaxValue,\n    async: false,\n    requirement,\n    _run(dataset) {\n      dataset.value = dataset.value > this.requirement ? this.requirement : dataset.value;\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toMinValue/toMinValue.ts\nfunction toMinValue(requirement) {\n  return {\n    kind: \"transformation\",\n    type: \"to_min_value\",\n    reference: toMinValue,\n    async: false,\n    requirement,\n    _run(dataset) {\n      dataset.value = dataset.value < this.requirement ? this.requirement : dataset.value;\n      return dataset;\n    }\n  };\n}\n\n// src/actions/toUpperCase/toUpperCase.ts\nfunction toUpperCase() {\n  return {\n    kind: \"transformation\",\n    type: \"to_upper_case\",\n    reference: toUpperCase,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.toUpperCase();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/transform/transform.ts\nfunction transform(action) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: transform,\n    async: false,\n    action,\n    _run(dataset) {\n      dataset.value = action(dataset.value);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/transform/transformAsync.ts\nfunction transformAsync(action) {\n  return {\n    kind: \"transformation\",\n    type: \"transform\",\n    reference: transformAsync,\n    async: true,\n    action,\n    async _run(dataset) {\n      dataset.value = await action(dataset.value);\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trim/trim.ts\nfunction trim() {\n  return {\n    kind: \"transformation\",\n    type: \"trim\",\n    reference: trim,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trim();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trimEnd/trimEnd.ts\nfunction trimEnd() {\n  return {\n    kind: \"transformation\",\n    type: \"trim_end\",\n    reference: trimEnd,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trimEnd();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/trimStart/trimStart.ts\nfunction trimStart() {\n  return {\n    kind: \"transformation\",\n    type: \"trim_start\",\n    reference: trimStart,\n    async: false,\n    _run(dataset) {\n      dataset.value = dataset.value.trimStart();\n      return dataset;\n    }\n  };\n}\n\n// src/actions/ulid/ulid.ts\nfunction ulid(message) {\n  return {\n    kind: \"validation\",\n    type: \"ulid\",\n    reference: ulid,\n    async: false,\n    expects: null,\n    requirement: ULID_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"ULID\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/url/url.ts\nfunction url(message) {\n  return {\n    kind: \"validation\",\n    type: \"url\",\n    reference: url,\n    async: false,\n    expects: null,\n    requirement(input) {\n      try {\n        new URL(input);\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement(dataset.value)) {\n        _addIssue(this, \"URL\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/uuid/uuid.ts\nfunction uuid(message) {\n  return {\n    kind: \"validation\",\n    type: \"uuid\",\n    reference: uuid,\n    async: false,\n    expects: null,\n    requirement: UUID_REGEX,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !this.requirement.test(dataset.value)) {\n        _addIssue(this, \"UUID\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/actions/value/value.ts\nfunction value(requirement, message) {\n  return {\n    kind: \"validation\",\n    type: \"value\",\n    reference: value,\n    async: false,\n    expects: requirement instanceof Date ? requirement.toJSON() : _stringify(requirement),\n    requirement,\n    message,\n    _run(dataset, config2) {\n      if (dataset.typed && !(this.requirement <= dataset.value && this.requirement >= dataset.value)) {\n        _addIssue(this, \"value\", dataset, config2, {\n          received: dataset.value instanceof Date ? dataset.value.toJSON() : _stringify(dataset.value)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/config/config.ts\nfunction config(schema, config2) {\n  return {\n    ...schema,\n    _run(dataset, config_) {\n      return schema._run(dataset, { ...config_, ...config2 });\n    }\n  };\n}\n\n// src/methods/getFallback/getFallback.ts\nfunction getFallback(schema, dataset, config2) {\n  return typeof schema.fallback === \"function\" ? (\n    // @ts-expect-error\n    schema.fallback(dataset, config2)\n  ) : (\n    // @ts-expect-error\n    schema.fallback\n  );\n}\n\n// src/methods/fallback/fallback.ts\nfunction fallback(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    _run(dataset, config2) {\n      schema._run(dataset, config2);\n      return dataset.issues ? { typed: true, value: getFallback(this, dataset, config2) } : dataset;\n    }\n  };\n}\n\n// src/methods/fallback/fallbackAsync.ts\nfunction fallbackAsync(schema, fallback2) {\n  return {\n    ...schema,\n    fallback: fallback2,\n    async: true,\n    async _run(dataset, config2) {\n      schema._run(dataset, config2);\n      return dataset.issues ? (\n        // @ts-expect-error\n        { typed: true, value: await getFallback(this, dataset, config2) }\n      ) : dataset;\n    }\n  };\n}\n\n// src/methods/flatten/flatten.ts\nfunction flatten(issues) {\n  const flatErrors = {};\n  for (const issue of issues) {\n    if (issue.path) {\n      const dotPath = getDotPath(issue);\n      if (dotPath) {\n        if (!flatErrors.nested) {\n          flatErrors.nested = {};\n        }\n        if (flatErrors.nested[dotPath]) {\n          flatErrors.nested[dotPath].push(issue.message);\n        } else {\n          flatErrors.nested[dotPath] = [issue.message];\n        }\n      } else {\n        if (flatErrors.other) {\n          flatErrors.other.push(issue.message);\n        } else {\n          flatErrors.other = [issue.message];\n        }\n      }\n    } else {\n      if (flatErrors.root) {\n        flatErrors.root.push(issue.message);\n      } else {\n        flatErrors.root = [issue.message];\n      }\n    }\n  }\n  return flatErrors;\n}\n\n// src/methods/forward/forward.ts\nfunction forward(action, pathKeys) {\n  return {\n    ...action,\n    _run(dataset, config2) {\n      const prevIssues = dataset.issues && [...dataset.issues];\n      action._run(dataset, config2);\n      if (dataset.issues) {\n        for (const issue of dataset.issues) {\n          if (!prevIssues?.includes(issue)) {\n            let pathInput = dataset.value;\n            for (const key of pathKeys) {\n              const pathValue = pathInput[key];\n              const pathItem = {\n                type: \"unknown\",\n                origin: \"value\",\n                input: pathInput,\n                key,\n                value: pathValue\n              };\n              if (issue.path) {\n                issue.path.push(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              if (!pathValue) {\n                break;\n              }\n              pathInput = pathValue;\n            }\n          }\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/forward/forwardAsync.ts\nfunction forwardAsync(action, pathKeys) {\n  return {\n    ...action,\n    async: true,\n    async _run(dataset, config2) {\n      const prevIssues = dataset.issues && [...dataset.issues];\n      await action._run(dataset, config2);\n      if (dataset.issues) {\n        for (const issue of dataset.issues) {\n          if (!prevIssues?.includes(issue)) {\n            let pathInput = dataset.value;\n            for (const key of pathKeys) {\n              const pathValue = pathInput[key];\n              const pathItem = {\n                type: \"unknown\",\n                origin: \"value\",\n                input: pathInput,\n                key,\n                value: pathValue\n              };\n              if (issue.path) {\n                issue.path.push(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              if (!pathValue) {\n                break;\n              }\n              pathInput = pathValue;\n            }\n          }\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/getDefault/getDefault.ts\nfunction getDefault(schema, dataset, config2) {\n  return typeof schema.default === \"function\" ? (\n    // @ts-expect-error\n    schema.default(dataset, config2)\n  ) : (\n    // @ts-expect-error\n    schema.default\n  );\n}\n\n// src/methods/getDefaults/getDefaults.ts\nfunction getDefaults(schema) {\n  if (\"entries\" in schema) {\n    const object2 = {};\n    for (const key in schema.entries) {\n      object2[key] = getDefaults(schema.entries[key]);\n    }\n    return object2;\n  }\n  if (\"items\" in schema) {\n    return schema.items.map(getDefaults);\n  }\n  return getDefault(schema);\n}\n\n// src/methods/getDefaults/getDefaultsAsync.ts\nasync function getDefaultsAsync(schema) {\n  if (\"entries\" in schema) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getDefaultsAsync(value2)\n        ])\n      )\n    );\n  }\n  if (\"items\" in schema) {\n    return Promise.all(schema.items.map(getDefaultsAsync));\n  }\n  return getDefault(schema);\n}\n\n// src/methods/getFallbacks/getFallbacks.ts\nfunction getFallbacks(schema) {\n  if (\"entries\" in schema) {\n    const object2 = {};\n    for (const key in schema.entries) {\n      object2[key] = getFallbacks(schema.entries[key]);\n    }\n    return object2;\n  }\n  if (\"items\" in schema) {\n    return schema.items.map(getFallbacks);\n  }\n  return getFallback(schema);\n}\n\n// src/methods/getFallbacks/getFallbacksAsync.ts\nasync function getFallbacksAsync(schema) {\n  if (\"entries\" in schema) {\n    return Object.fromEntries(\n      await Promise.all(\n        Object.entries(schema.entries).map(async ([key, value2]) => [\n          key,\n          await getFallbacksAsync(value2)\n        ])\n      )\n    );\n  }\n  if (\"items\" in schema) {\n    return Promise.all(schema.items.map(getFallbacksAsync));\n  }\n  return getFallback(schema);\n}\n\n// src/methods/is/is.ts\nfunction is(schema, input) {\n  return !schema._run({ typed: false, value: input }, { abortEarly: true }).issues;\n}\n\n// src/schemas/any/any.ts\nfunction any() {\n  return {\n    kind: \"schema\",\n    type: \"any\",\n    reference: any,\n    expects: \"any\",\n    async: false,\n    _run(dataset) {\n      dataset.typed = true;\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/array/array.ts\nfunction array(item, message) {\n  return {\n    kind: \"schema\",\n    type: \"array\",\n    reference: array,\n    expects: \"Array\",\n    async: false,\n    item,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < input.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.item._run({ typed: false, value: value2 }, config2);\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/array/arrayAsync.ts\nfunction arrayAsync(item, message) {\n  return {\n    kind: \"schema\",\n    type: \"array\",\n    reference: arrayAsync,\n    expects: \"Array\",\n    async: true,\n    item,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          input.map((value2) => this.item._run({ typed: false, value: value2 }, config2))\n        );\n        for (let key = 0; key < itemDatasets.length; key++) {\n          const itemDataset = itemDatasets[key];\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"array\",\n              origin: \"value\",\n              input,\n              key,\n              value: input[key]\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/bigint/bigint.ts\nfunction bigint(message) {\n  return {\n    kind: \"schema\",\n    type: \"bigint\",\n    reference: bigint,\n    expects: \"bigint\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"bigint\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/blob/blob.ts\nfunction blob(message) {\n  return {\n    kind: \"schema\",\n    type: \"blob\",\n    reference: blob,\n    expects: \"Blob\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof Blob) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/boolean/boolean.ts\nfunction boolean(message) {\n  return {\n    kind: \"schema\",\n    type: \"boolean\",\n    reference: boolean,\n    expects: \"boolean\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"boolean\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/custom/custom.ts\nfunction custom(check2, message) {\n  return {\n    kind: \"schema\",\n    type: \"custom\",\n    reference: custom,\n    expects: \"unknown\",\n    async: false,\n    check: check2,\n    message,\n    _run(dataset, config2) {\n      if (this.check(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/custom/customAsync.ts\nfunction customAsync(check2, message) {\n  return {\n    kind: \"schema\",\n    type: \"custom\",\n    reference: customAsync,\n    expects: \"unknown\",\n    async: true,\n    check: check2,\n    message,\n    async _run(dataset, config2) {\n      if (await this.check(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/date/date.ts\nfunction date(message) {\n  return {\n    kind: \"schema\",\n    type: \"date\",\n    reference: date,\n    expects: \"Date\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof Date && !isNaN(dataset.value.getTime())) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/enum/enum.ts\nfunction enum_(enum__, message) {\n  const options = Object.entries(enum__).filter(([key]) => isNaN(+key)).map(([, value2]) => value2);\n  return {\n    kind: \"schema\",\n    type: \"enum\",\n    reference: enum_,\n    expects: options.map(_stringify).join(\" | \") || \"never\",\n    async: false,\n    enum: enum__,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.includes(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/instance/instance.ts\nfunction instance(class_, message) {\n  return {\n    kind: \"schema\",\n    type: \"instance\",\n    reference: instance,\n    expects: class_.name,\n    async: false,\n    class: class_,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value instanceof this.class) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/intersect/utils/_merge/_merge.ts\nfunction _merge(value1, value2) {\n  if (typeof value1 === typeof value2) {\n    if (value1 === value2 || value1 instanceof Date && value2 instanceof Date && +value1 === +value2) {\n      return { value: value1 };\n    }\n    if (value1 && value2 && value1.constructor === Object && value2.constructor === Object) {\n      for (const key in value2) {\n        if (key in value1) {\n          const dataset = _merge(value1[key], value2[key]);\n          if (dataset.issue) {\n            return dataset;\n          }\n          value1[key] = dataset.value;\n        } else {\n          value1[key] = value2[key];\n        }\n      }\n      return { value: value1 };\n    }\n    if (Array.isArray(value1) && Array.isArray(value2)) {\n      if (value1.length === value2.length) {\n        for (let index = 0; index < value1.length; index++) {\n          const dataset = _merge(value1[index], value2[index]);\n          if (dataset.issue) {\n            return dataset;\n          }\n          value1[index] = dataset.value;\n        }\n        return { value: value1 };\n      }\n    }\n  }\n  return { issue: true };\n}\n\n// src/schemas/intersect/intersect.ts\nfunction intersect(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"intersect\",\n    reference: intersect,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.length) {\n        const input = dataset.value;\n        let outputs;\n        dataset.typed = true;\n        for (const schema of this.options) {\n          const optionDataset = schema._run(\n            { typed: false, value: input },\n            config2\n          );\n          if (optionDataset.issues) {\n            if (dataset.issues) {\n              dataset.issues.push(...optionDataset.issues);\n            } else {\n              dataset.issues = optionDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!optionDataset.typed) {\n            dataset.typed = false;\n          }\n          if (dataset.typed) {\n            if (outputs) {\n              outputs.push(optionDataset.value);\n            } else {\n              outputs = [optionDataset.value];\n            }\n          }\n        }\n        if (dataset.typed) {\n          dataset.value = outputs[0];\n          for (let index = 1; index < outputs.length; index++) {\n            const mergeDataset = _merge(dataset.value, outputs[index]);\n            if (mergeDataset.issue) {\n              _addIssue(this, \"type\", dataset, config2, {\n                received: \"unknown\"\n              });\n              break;\n            }\n            dataset.value = mergeDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/intersect/intersectAsync.ts\nfunction intersectAsync(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"intersect\",\n    reference: intersectAsync,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" & \") || \"never\",\n    async: true,\n    options,\n    message,\n    async _run(dataset, config2) {\n      if (this.options.length) {\n        const input = dataset.value;\n        let outputs;\n        dataset.typed = true;\n        const optionDatasets = await Promise.all(\n          this.options.map(\n            (schema) => schema._run({ typed: false, value: input }, config2)\n          )\n        );\n        for (const optionDataset of optionDatasets) {\n          if (optionDataset.issues) {\n            if (dataset.issues) {\n              dataset.issues.push(...optionDataset.issues);\n            } else {\n              dataset.issues = optionDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!optionDataset.typed) {\n            dataset.typed = false;\n          }\n          if (dataset.typed) {\n            if (outputs) {\n              outputs.push(optionDataset.value);\n            } else {\n              outputs = [optionDataset.value];\n            }\n          }\n        }\n        if (dataset.typed) {\n          dataset.value = outputs[0];\n          for (let index = 1; index < outputs.length; index++) {\n            const mergeDataset = _merge(dataset.value, outputs[index]);\n            if (mergeDataset.issue) {\n              _addIssue(this, \"type\", dataset, config2, {\n                received: \"unknown\"\n              });\n              break;\n            }\n            dataset.value = mergeDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/lazy/lazy.ts\nfunction lazy(getter) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: lazy,\n    expects: \"unknown\",\n    async: false,\n    getter,\n    _run(dataset, config2) {\n      return this.getter(dataset.value)._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/lazy/lazyAsync.ts\nfunction lazyAsync(getter) {\n  return {\n    kind: \"schema\",\n    type: \"lazy\",\n    reference: lazyAsync,\n    expects: \"unknown\",\n    async: true,\n    getter,\n    async _run(dataset, config2) {\n      return (await this.getter(dataset.value))._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/literal/literal.ts\nfunction literal(literal_, message) {\n  return {\n    kind: \"schema\",\n    type: \"literal\",\n    reference: literal,\n    expects: _stringify(literal_),\n    async: false,\n    literal: literal_,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === this.literal) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseObject/looseObject.ts\nfunction looseObject(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: looseObject,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isAllowedObjectKey(key) && !(key in this.entries)) {\n              dataset.value[key] = input[key];\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseObject/looseObjectAsync.ts\nfunction looseObjectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_object\",\n    reference: looseObjectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isAllowedObjectKey(key) && !(key in this.entries)) {\n              dataset.value[key] = input[key];\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseTuple/looseTuple.ts\nfunction looseTuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_tuple\",\n    reference: looseTuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = items.length; key < input.length; key++) {\n            dataset.value.push(input[key]);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/looseTuple/looseTupleAsync.ts\nfunction looseTupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"loose_tuple\",\n    reference: looseTupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = items.length; key < input.length; key++) {\n            dataset.value.push(input[key]);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/map/map.ts\nfunction map(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"map\",\n    reference: map,\n    expects: \"Map\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Map) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Map();\n        for (const [inputKey, inputValue] of input) {\n          const keyDataset = this.key._run(\n            { typed: false, value: inputKey },\n            config2\n          );\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"key\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of keyDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          const valueDataset = this.value._run(\n            { typed: false, value: inputValue },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"value\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.set(keyDataset.value, valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/map/mapAsync.ts\nfunction mapAsync(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"map\",\n    reference: mapAsync,\n    expects: \"Map\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Map) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Map();\n        const datasets = await Promise.all(\n          [...input].map(\n            ([inputKey, inputValue]) => Promise.all([\n              inputKey,\n              inputValue,\n              this.key._run({ typed: false, value: inputKey }, config2),\n              this.value._run({ typed: false, value: inputValue }, config2)\n            ])\n          )\n        );\n        for (const [\n          inputKey,\n          inputValue,\n          keyDataset,\n          valueDataset\n        ] of datasets) {\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"key\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of keyDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"map\",\n              origin: \"value\",\n              input,\n              key: inputKey,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.set(keyDataset.value, valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nan/nan.ts\nfunction nan(message) {\n  return {\n    kind: \"schema\",\n    type: \"nan\",\n    reference: nan,\n    expects: \"NaN\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (Number.isNaN(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/never/never.ts\nfunction never(message) {\n  return {\n    kind: \"schema\",\n    type: \"never\",\n    reference: never,\n    expects: \"never\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      _addIssue(this, \"type\", dataset, config2);\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullable.ts\nfunction nonNullable(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullable\",\n    reference: nonNullable,\n    expects: \"!null\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullable/nonNullableAsync.ts\nfunction nonNullableAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullable\",\n    reference: nonNullableAsync,\n    expects: \"!null\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === null) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullish.ts\nfunction nonNullish(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullish\",\n    reference: nonNullish,\n    expects: \"!null & !undefined\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonNullish/nonNullishAsync.ts\nfunction nonNullishAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_nullish\",\n    reference: nonNullishAsync,\n    expects: \"!null & !undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptional.ts\nfunction nonOptional(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_optional\",\n    reference: nonOptional,\n    expects: \"!undefined\",\n    async: false,\n    wrapped,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/nonOptional/nonOptionalAsync.ts\nfunction nonOptionalAsync(wrapped, message) {\n  return {\n    kind: \"schema\",\n    type: \"non_optional\",\n    reference: nonOptionalAsync,\n    expects: \"!undefined\",\n    async: true,\n    wrapped,\n    message,\n    async _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        _addIssue(this, \"type\", dataset, config2);\n        return dataset;\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n}\n\n// src/schemas/null/null.ts\nfunction null_(message) {\n  return {\n    kind: \"schema\",\n    type: \"null\",\n    reference: null_,\n    expects: \"null\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/nullable/nullable.ts\nfunction nullable(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullable\",\n    reference: nullable,\n    expects: `${wrapped.expects} | null`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === null) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullable/nullableAsync.ts\nfunction nullableAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullable\",\n    reference: nullableAsync,\n    expects: `${wrapped.expects} | null`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === null) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullish/nullish.ts\nfunction nullish(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullish\",\n    reference: nullish,\n    expects: `${wrapped.expects} | null | undefined`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null || dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/nullish/nullishAsync.ts\nfunction nullishAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"nullish\",\n    reference: nullishAsync,\n    expects: `${wrapped.expects} | null | undefined`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === null || dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === null || dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/number/number.ts\nfunction number(message) {\n  return {\n    kind: \"schema\",\n    type: \"number\",\n    reference: number,\n    expects: \"number\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"number\" && !isNaN(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/object/object.ts\nfunction object(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"object\",\n    reference: object,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/object/objectAsync.ts\nfunction objectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"object\",\n    reference: objectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/objectWithRest/objectWithRest.ts\nfunction objectWithRest(entries, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"object_with_rest\",\n    reference: objectWithRest,\n    expects: \"Object\",\n    async: false,\n    entries,\n    rest,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (_isAllowedObjectKey(key) && !(key in this.entries)) {\n              const value2 = input[key];\n              const valueDataset = this.rest._run(\n                { typed: false, value: value2 },\n                config2\n              );\n              if (valueDataset.issues) {\n                const pathItem = {\n                  type: \"object\",\n                  origin: \"value\",\n                  input,\n                  key,\n                  value: value2\n                };\n                for (const issue of valueDataset.issues) {\n                  if (issue.path) {\n                    issue.path.unshift(pathItem);\n                  } else {\n                    issue.path = [pathItem];\n                  }\n                  dataset.issues?.push(issue);\n                }\n                if (!dataset.issues) {\n                  dataset.issues = valueDataset.issues;\n                }\n                if (config2.abortEarly) {\n                  dataset.typed = false;\n                  break;\n                }\n              }\n              if (!valueDataset.typed) {\n                dataset.typed = false;\n              }\n              dataset.value[key] = valueDataset.value;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/objectWithRest/objectWithRestAsync.ts\nfunction objectWithRestAsync(entries, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"object_with_rest\",\n    reference: objectWithRestAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    rest,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const [normalDatasets, restDatasets] = await Promise.all([\n          // Parse schema of each normal entry\n          Promise.all(\n            Object.entries(this.entries).map(async ([key, schema]) => {\n              const value2 = input[key];\n              return [\n                key,\n                value2,\n                await schema._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          ),\n          // Parse other entries with rest schema\n          Promise.all(\n            Object.entries(input).filter(\n              ([key]) => _isAllowedObjectKey(key) && !(key in this.entries)\n            ).map(\n              async ([key, value2]) => [\n                key,\n                value2,\n                await this.rest._run({ typed: false, value: value2 }, config2)\n              ]\n            )\n          )\n        ]);\n        for (const [key, value2, valueDataset] of normalDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const [key, value2, valueDataset] of restDatasets) {\n            if (valueDataset.issues) {\n              const pathItem = {\n                type: \"object\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of valueDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = valueDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!valueDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/optional/optional.ts\nfunction optional(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: optional,\n    expects: `${wrapped.expects} | undefined`,\n    async: false,\n    wrapped,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/optional/optionalAsync.ts\nfunction optionalAsync(wrapped, ...args) {\n  const schema = {\n    kind: \"schema\",\n    type: \"optional\",\n    reference: optionalAsync,\n    expects: `${wrapped.expects} | undefined`,\n    async: true,\n    wrapped,\n    async _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        if (\"default\" in this) {\n          dataset.value = await getDefault(\n            this,\n            dataset,\n            config2\n          );\n        }\n        if (dataset.value === void 0) {\n          dataset.typed = true;\n          return dataset;\n        }\n      }\n      return this.wrapped._run(dataset, config2);\n    }\n  };\n  if (0 in args) {\n    schema.default = args[0];\n  }\n  return schema;\n}\n\n// src/schemas/picklist/picklist.ts\nfunction picklist(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"picklist\",\n    reference: picklist,\n    expects: options.map(_stringify).join(\" | \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      if (this.options.includes(dataset.value)) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/record/record.ts\nfunction record(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: record,\n    expects: \"Object\",\n    async: false,\n    key,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const entryKey in input) {\n          if (_isAllowedObjectKey(entryKey)) {\n            const entryValue = input[entryKey];\n            const keyDataset = this.key._run(\n              { typed: false, value: entryKey },\n              config2\n            );\n            if (keyDataset.issues) {\n              const pathItem = {\n                type: \"record\",\n                origin: \"key\",\n                input,\n                key: entryKey,\n                value: entryValue\n              };\n              for (const issue of keyDataset.issues) {\n                issue.path = [pathItem];\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = keyDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            const valueDataset = this.value._run(\n              { typed: false, value: entryValue },\n              config2\n            );\n            if (valueDataset.issues) {\n              const pathItem = {\n                type: \"record\",\n                origin: \"value\",\n                input,\n                key: entryKey,\n                value: entryValue\n              };\n              for (const issue of valueDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = valueDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!keyDataset.typed || !valueDataset.typed) {\n              dataset.typed = false;\n            }\n            if (keyDataset.typed) {\n              dataset.value[keyDataset.value] = valueDataset.value;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/record/recordAsync.ts\nfunction recordAsync(key, value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"record\",\n    reference: recordAsync,\n    expects: \"Object\",\n    async: true,\n    key,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const datasets = await Promise.all(\n          Object.entries(input).filter(([key2]) => _isAllowedObjectKey(key2)).map(\n            ([entryKey, entryValue]) => Promise.all([\n              entryKey,\n              entryValue,\n              this.key._run({ typed: false, value: entryKey }, config2),\n              this.value._run({ typed: false, value: entryValue }, config2)\n            ])\n          )\n        );\n        for (const [\n          entryKey,\n          entryValue,\n          keyDataset,\n          valueDataset\n        ] of datasets) {\n          if (keyDataset.issues) {\n            const pathItem = {\n              type: \"record\",\n              origin: \"key\",\n              input,\n              key: entryKey,\n              value: entryValue\n            };\n            for (const issue of keyDataset.issues) {\n              issue.path = [pathItem];\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = keyDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"record\",\n              origin: \"value\",\n              input,\n              key: entryKey,\n              value: entryValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!keyDataset.typed || !valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (keyDataset.typed) {\n            dataset.value[keyDataset.value] = valueDataset.value;\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/set/set.ts\nfunction set(value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"set\",\n    reference: set,\n    expects: \"Set\",\n    async: false,\n    value: value2,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Set) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Set();\n        for (const inputValue of input) {\n          const valueDataset = this.value._run(\n            { typed: false, value: inputValue },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"set\",\n              origin: \"value\",\n              input,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.add(valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/set/setAsync.ts\nfunction setAsync(value2, message) {\n  return {\n    kind: \"schema\",\n    type: \"set\",\n    reference: setAsync,\n    expects: \"Set\",\n    async: true,\n    value: value2,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input instanceof Set) {\n        dataset.typed = true;\n        dataset.value = /* @__PURE__ */ new Set();\n        const valueDatasets = await Promise.all(\n          [...input].map(\n            async (inputValue) => [\n              inputValue,\n              await this.value._run(\n                { typed: false, value: inputValue },\n                config2\n              )\n            ]\n          )\n        );\n        for (const [inputValue, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"set\",\n              origin: \"value\",\n              input,\n              value: inputValue\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.add(valueDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictObject/strictObject.ts\nfunction strictObject(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_object\",\n    reference: strictObject,\n    expects: \"Object\",\n    async: false,\n    entries,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        for (const key in this.entries) {\n          const value2 = input[key];\n          const valueDataset = this.entries[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (!(key in this.entries)) {\n              const value2 = input[key];\n              _addIssue(this, \"type\", dataset, config2, {\n                input: value2,\n                expected: \"never\",\n                path: [\n                  {\n                    type: \"object\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: value2\n                  }\n                ]\n              });\n              break;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictObject/strictObjectAsync.ts\nfunction strictObjectAsync(entries, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_object\",\n    reference: strictObjectAsync,\n    expects: \"Object\",\n    async: true,\n    entries,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        dataset.typed = true;\n        dataset.value = {};\n        const valueDatasets = await Promise.all(\n          Object.entries(this.entries).map(async ([key, schema]) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await schema._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, valueDataset] of valueDatasets) {\n          if (valueDataset.issues) {\n            const pathItem = {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of valueDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = valueDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!valueDataset.typed) {\n            dataset.typed = false;\n          }\n          if (valueDataset.value !== void 0 || key in input) {\n            dataset.value[key] = valueDataset.value;\n          }\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const key in input) {\n            if (!(key in this.entries)) {\n              const value2 = input[key];\n              _addIssue(this, \"type\", dataset, config2, {\n                input: value2,\n                expected: \"never\",\n                path: [\n                  {\n                    type: \"object\",\n                    origin: \"value\",\n                    input,\n                    key,\n                    value: value2\n                  }\n                ]\n              });\n              break;\n            }\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictTuple/strictTuple.ts\nfunction strictTuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_tuple\",\n    reference: strictTuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!(dataset.issues && config2.abortEarly) && items.length < input.length) {\n          const value2 = input[items.length];\n          _addIssue(this, \"type\", dataset, config2, {\n            input: value2,\n            expected: \"never\",\n            path: [\n              {\n                type: \"tuple\",\n                origin: \"value\",\n                input,\n                key: items.length,\n                value: value2\n              }\n            ]\n          });\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/strictTuple/strictTupleAsync.ts\nfunction strictTupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"strict_tuple\",\n    reference: strictTupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!(dataset.issues && config2.abortEarly) && items.length < input.length) {\n          const value2 = input[items.length];\n          _addIssue(this, \"type\", dataset, config2, {\n            input: value2,\n            expected: \"never\",\n            path: [\n              {\n                type: \"tuple\",\n                origin: \"value\",\n                input,\n                key: items.length,\n                value: value2\n              }\n            ]\n          });\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/string/string.ts\nfunction string(message) {\n  return {\n    kind: \"schema\",\n    type: \"string\",\n    reference: string,\n    expects: \"string\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"string\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/symbol/symbol.ts\nfunction symbol(message) {\n  return {\n    kind: \"schema\",\n    type: \"symbol\",\n    reference: symbol,\n    expects: \"symbol\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (typeof dataset.value === \"symbol\") {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tuple/tuple.ts\nfunction tuple(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple\",\n    reference: tuple,\n    expects: \"Array\",\n    async: false,\n    items,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tuple/tupleAsync.ts\nfunction tupleAsync(items, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple\",\n    reference: tupleAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const itemDatasets = await Promise.all(\n          items.map(async (item, key) => {\n            const value2 = input[key];\n            return [\n              key,\n              value2,\n              await item._run({ typed: false, value: value2 }, config2)\n            ];\n          })\n        );\n        for (const [key, value2, itemDataset] of itemDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tupleWithRest/tupleWithRest.ts\nfunction tupleWithRest(items, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple_with_rest\",\n    reference: tupleWithRest,\n    expects: \"Array\",\n    async: false,\n    items,\n    rest,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        for (let key = 0; key < items.length; key++) {\n          const value2 = input[key];\n          const itemDataset = this.items[key]._run(\n            { typed: false, value: value2 },\n            config2\n          );\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (let key = items.length; key < input.length; key++) {\n            const value2 = input[key];\n            const itemDataset = this.rest._run({ typed: false, value: value2 }, config2);\n            if (itemDataset.issues) {\n              const pathItem = {\n                type: \"tuple\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of itemDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = itemDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!itemDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value.push(itemDataset.value);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/tupleWithRest/tupleWithRestAsync.ts\nfunction tupleWithRestAsync(items, rest, message) {\n  return {\n    kind: \"schema\",\n    type: \"tuple_with_rest\",\n    reference: tupleWithRestAsync,\n    expects: \"Array\",\n    async: true,\n    items,\n    rest,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (Array.isArray(input)) {\n        dataset.typed = true;\n        dataset.value = [];\n        const [normalDatasets, restDatasets] = await Promise.all([\n          // Parse schema of each normal item\n          Promise.all(\n            items.map(async (item, key) => {\n              const value2 = input[key];\n              return [\n                key,\n                value2,\n                await item._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          ),\n          // Parse other items with rest schema\n          Promise.all(\n            input.slice(items.length).map(async (value2, key) => {\n              return [\n                key + items.length,\n                value2,\n                await rest._run({ typed: false, value: value2 }, config2)\n              ];\n            })\n          )\n        ]);\n        for (const [key, value2, itemDataset] of normalDatasets) {\n          if (itemDataset.issues) {\n            const pathItem = {\n              type: \"tuple\",\n              origin: \"value\",\n              input,\n              key,\n              value: value2\n            };\n            for (const issue of itemDataset.issues) {\n              if (issue.path) {\n                issue.path.unshift(pathItem);\n              } else {\n                issue.path = [pathItem];\n              }\n              dataset.issues?.push(issue);\n            }\n            if (!dataset.issues) {\n              dataset.issues = itemDataset.issues;\n            }\n            if (config2.abortEarly) {\n              dataset.typed = false;\n              break;\n            }\n          }\n          if (!itemDataset.typed) {\n            dataset.typed = false;\n          }\n          dataset.value.push(itemDataset.value);\n        }\n        if (!dataset.issues || !config2.abortEarly) {\n          for (const [key, value2, itemDataset] of restDatasets) {\n            if (itemDataset.issues) {\n              const pathItem = {\n                type: \"tuple\",\n                origin: \"value\",\n                input,\n                key,\n                value: value2\n              };\n              for (const issue of itemDataset.issues) {\n                if (issue.path) {\n                  issue.path.unshift(pathItem);\n                } else {\n                  issue.path = [pathItem];\n                }\n                dataset.issues?.push(issue);\n              }\n              if (!dataset.issues) {\n                dataset.issues = itemDataset.issues;\n              }\n              if (config2.abortEarly) {\n                dataset.typed = false;\n                break;\n              }\n            }\n            if (!itemDataset.typed) {\n              dataset.typed = false;\n            }\n            dataset.value.push(itemDataset.value);\n          }\n        }\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/undefined/undefined.ts\nfunction undefined_(message) {\n  return {\n    kind: \"schema\",\n    type: \"undefined\",\n    reference: undefined_,\n    expects: \"undefined\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/union/utils/_subIssues/_subIssues.ts\nfunction _subIssues(datasets) {\n  let issues;\n  if (datasets) {\n    for (const dataset of datasets) {\n      if (issues) {\n        issues.push(...dataset.issues);\n      } else {\n        issues = dataset.issues;\n      }\n    }\n  }\n  return issues;\n}\n\n// src/schemas/union/union.ts\nfunction union(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: union,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \") || \"never\",\n    async: false,\n    options,\n    message,\n    _run(dataset, config2) {\n      let validDataset;\n      let typedDatasets;\n      let untypedDatasets;\n      for (const schema of this.options) {\n        const optionDataset = schema._run(\n          { typed: false, value: dataset.value },\n          config2\n        );\n        if (optionDataset.typed) {\n          if (optionDataset.issues) {\n            if (typedDatasets) {\n              typedDatasets.push(optionDataset);\n            } else {\n              typedDatasets = [optionDataset];\n            }\n          } else {\n            validDataset = optionDataset;\n            break;\n          }\n        } else {\n          if (untypedDatasets) {\n            untypedDatasets.push(optionDataset);\n          } else {\n            untypedDatasets = [optionDataset];\n          }\n        }\n      }\n      if (validDataset) {\n        return validDataset;\n      }\n      if (typedDatasets) {\n        if (typedDatasets.length === 1) {\n          return typedDatasets[0];\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(typedDatasets)\n        });\n        dataset.typed = true;\n      } else if (untypedDatasets?.length === 1) {\n        return untypedDatasets[0];\n      } else {\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(untypedDatasets)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/union/unionAsync.ts\nfunction unionAsync(options, message) {\n  return {\n    kind: \"schema\",\n    type: \"union\",\n    reference: unionAsync,\n    expects: [...new Set(options.map((option) => option.expects))].join(\" | \") || \"never\",\n    async: true,\n    options,\n    message,\n    async _run(dataset, config2) {\n      let validDataset;\n      let typedDatasets;\n      let untypedDatasets;\n      for (const schema of this.options) {\n        const optionDataset = await schema._run(\n          { typed: false, value: dataset.value },\n          config2\n        );\n        if (optionDataset.typed) {\n          if (optionDataset.issues) {\n            if (typedDatasets) {\n              typedDatasets.push(optionDataset);\n            } else {\n              typedDatasets = [optionDataset];\n            }\n          } else {\n            validDataset = optionDataset;\n            break;\n          }\n        } else {\n          if (untypedDatasets) {\n            untypedDatasets.push(optionDataset);\n          } else {\n            untypedDatasets = [optionDataset];\n          }\n        }\n      }\n      if (validDataset) {\n        return validDataset;\n      }\n      if (typedDatasets) {\n        if (typedDatasets.length === 1) {\n          return typedDatasets[0];\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(typedDatasets)\n        });\n        dataset.typed = true;\n      } else if (untypedDatasets?.length === 1) {\n        return untypedDatasets[0];\n      } else {\n        _addIssue(this, \"type\", dataset, config2, {\n          issues: _subIssues(untypedDatasets)\n        });\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/unknown/unknown.ts\nfunction unknown() {\n  return {\n    kind: \"schema\",\n    type: \"unknown\",\n    reference: unknown,\n    expects: \"unknown\",\n    async: false,\n    _run(dataset) {\n      dataset.typed = true;\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/variant/utils/_discriminators/_discriminators.ts\nfunction _discriminators(key, options, set2 = /* @__PURE__ */ new Set()) {\n  for (const schema of options) {\n    if (schema.type === \"variant\") {\n      _discriminators(key, schema.options, set2);\n    } else {\n      set2.add(schema.entries[key].expects);\n    }\n  }\n  return set2;\n}\n\n// src/schemas/variant/variant.ts\nfunction variant(key, options, message) {\n  let expectedDiscriminators;\n  return {\n    kind: \"schema\",\n    type: \"variant\",\n    reference: variant,\n    expects: \"Object\",\n    async: false,\n    key,\n    options,\n    message,\n    _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        const discriminator = input[this.key];\n        if (this.key in input) {\n          let outputDataset;\n          for (const schema of this.options) {\n            if (schema.type === \"variant\" || !schema.entries[this.key]._run(\n              { typed: false, value: discriminator },\n              config2\n            ).issues) {\n              const optionDataset = schema._run(\n                { typed: false, value: input },\n                config2\n              );\n              if (!optionDataset.issues) {\n                return optionDataset;\n              }\n              if (!outputDataset || !outputDataset.typed && optionDataset.typed) {\n                outputDataset = optionDataset;\n              }\n            }\n          }\n          if (outputDataset) {\n            return outputDataset;\n          }\n        }\n        if (!expectedDiscriminators) {\n          expectedDiscriminators = [..._discriminators(this.key, this.options)].join(\" | \") || \"never\";\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          input: discriminator,\n          expected: expectedDiscriminators,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: discriminator\n            }\n          ]\n        });\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/variant/variantAsync.ts\nfunction variantAsync(key, options, message) {\n  let expectedDiscriminators;\n  return {\n    kind: \"schema\",\n    type: \"variant\",\n    reference: variantAsync,\n    expects: \"Object\",\n    async: true,\n    key,\n    options,\n    message,\n    async _run(dataset, config2) {\n      const input = dataset.value;\n      if (input && typeof input === \"object\") {\n        const discriminator = input[this.key];\n        if (this.key in input) {\n          let outputDataset;\n          for (const schema of this.options) {\n            if (schema.type === \"variant\" || !(await schema.entries[this.key]._run(\n              { typed: false, value: discriminator },\n              config2\n            )).issues) {\n              const optionDataset = await schema._run(\n                { typed: false, value: input },\n                config2\n              );\n              if (!optionDataset.issues) {\n                return optionDataset;\n              }\n              if (!outputDataset || !outputDataset.typed && optionDataset.typed) {\n                outputDataset = optionDataset;\n              }\n            }\n          }\n          if (outputDataset) {\n            return outputDataset;\n          }\n        }\n        if (!expectedDiscriminators) {\n          expectedDiscriminators = [..._discriminators(this.key, this.options)].join(\" | \") || \"never\";\n        }\n        _addIssue(this, \"type\", dataset, config2, {\n          input: discriminator,\n          expected: expectedDiscriminators,\n          path: [\n            {\n              type: \"object\",\n              origin: \"value\",\n              input,\n              key: this.key,\n              value: discriminator\n            }\n          ]\n        });\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/schemas/void/void.ts\nfunction void_(message) {\n  return {\n    kind: \"schema\",\n    type: \"void\",\n    reference: void_,\n    expects: \"void\",\n    async: false,\n    message,\n    _run(dataset, config2) {\n      if (dataset.value === void 0) {\n        dataset.typed = true;\n      } else {\n        _addIssue(this, \"type\", dataset, config2);\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/keyof/keyof.ts\nfunction keyof(schema, message) {\n  return picklist(Object.keys(schema.entries), message);\n}\n\n// src/methods/omit/omit.ts\nfunction omit(schema, keys) {\n  const entries = {\n    ...schema.entries\n  };\n  for (const key of keys) {\n    delete entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/parse/parse.ts\nfunction parse(schema, input, config2) {\n  const dataset = schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  if (dataset.issues) {\n    throw new ValiError(dataset.issues);\n  }\n  return dataset.value;\n}\n\n// src/methods/parse/parseAsync.ts\nasync function parseAsync(schema, input, config2) {\n  const dataset = await schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  if (dataset.issues) {\n    throw new ValiError(dataset.issues);\n  }\n  return dataset.value;\n}\n\n// src/methods/parser/parser.ts\nfunction parser(schema, config2) {\n  const func = (input) => parse(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/parser/parserAsync.ts\nfunction parserAsync(schema, config2) {\n  const func = (input) => parseAsync(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/partial/partial.ts\nfunction partial(schema, keys) {\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? optional(schema.entries[key]) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/partial/partialAsync.ts\nfunction partialAsync(schema, keys) {\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? optionalAsync(schema.entries[key]) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/pick/pick.ts\nfunction pick(schema, keys) {\n  const entries = {};\n  for (const key of keys) {\n    entries[key] = schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/pipe/pipe.ts\nfunction pipe(...pipe2) {\n  return {\n    ...pipe2[0],\n    pipe: pipe2,\n    _run(dataset, config2) {\n      for (let index = 0; index < pipe2.length; index++) {\n        dataset = pipe2[index]._run(dataset, config2);\n        const nextAction = pipe2[index + 1];\n        if (config2.skipPipe || dataset.issues && (config2.abortEarly || config2.abortPipeEarly || // TODO: This behavior must be documented!\n        nextAction?.kind === \"schema\" || nextAction?.kind === \"transformation\")) {\n          dataset.typed = false;\n          break;\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/pipe/pipeAsync.ts\nfunction pipeAsync(...pipe2) {\n  return {\n    ...pipe2[0],\n    pipe: pipe2,\n    async: true,\n    async _run(dataset, config2) {\n      for (let index = 0; index < pipe2.length; index++) {\n        dataset = await pipe2[index]._run(dataset, config2);\n        const nextAction = pipe2[index + 1];\n        if (config2.skipPipe || dataset.issues && (config2.abortEarly || config2.abortPipeEarly || // TODO: This behavior must be documented!\n        nextAction?.kind === \"schema\" || nextAction?.kind === \"transformation\")) {\n          dataset.typed = false;\n          break;\n        }\n      }\n      return dataset;\n    }\n  };\n}\n\n// src/methods/required/required.ts\nfunction required(schema, arg2, arg3) {\n  const keys = Array.isArray(arg2) ? arg2 : void 0;\n  const message = Array.isArray(arg2) ? arg3 : arg2;\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? nonOptional(schema.entries[key], message) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/required/requiredAsync.ts\nfunction requiredAsync(schema, arg2, arg3) {\n  const keys = Array.isArray(arg2) ? arg2 : void 0;\n  const message = Array.isArray(arg2) ? arg3 : arg2;\n  const entries = {};\n  for (const key in schema.entries) {\n    entries[key] = !keys || keys.includes(key) ? nonOptionalAsync(schema.entries[key], message) : schema.entries[key];\n  }\n  return { ...schema, entries };\n}\n\n// src/methods/safeParse/safeParse.ts\nfunction safeParse(schema, input, config2) {\n  const dataset = schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  return {\n    typed: dataset.typed,\n    success: !dataset.issues,\n    output: dataset.value,\n    issues: dataset.issues\n  };\n}\n\n// src/methods/safeParse/safeParseAsync.ts\nasync function safeParseAsync(schema, input, config2) {\n  const dataset = await schema._run(\n    { typed: false, value: input },\n    getGlobalConfig(config2)\n  );\n  return {\n    typed: dataset.typed,\n    success: !dataset.issues,\n    output: dataset.value,\n    issues: dataset.issues\n  };\n}\n\n// src/methods/safeParser/safeParser.ts\nfunction safeParser(schema, config2) {\n  const func = (input) => safeParse(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/safeParser/safeParserAsync.ts\nfunction safeParserAsync(schema, config2) {\n  const func = (input) => safeParseAsync(schema, input, config2);\n  func.schema = schema;\n  func.config = config2;\n  return func;\n}\n\n// src/methods/unwrap/unwrap.ts\nfunction unwrap(schema) {\n  return schema.wrapped;\n}\nexport {\n  BIC_REGEX,\n  CUID2_REGEX,\n  DECIMAL_REGEX,\n  EMAIL_REGEX,\n  EMOJI_REGEX,\n  HEXADECIMAL_REGEX,\n  HEX_COLOR_REGEX,\n  IMEI_REGEX,\n  IPV4_REGEX,\n  IPV6_REGEX,\n  IP_REGEX,\n  ISO_DATE_REGEX,\n  ISO_DATE_TIME_REGEX,\n  ISO_TIMESTAMP_REGEX,\n  ISO_TIME_REGEX,\n  ISO_TIME_SECOND_REGEX,\n  ISO_WEEK_REGEX,\n  MAC48_REGEX,\n  MAC64_REGEX,\n  MAC_REGEX,\n  OCTAL_REGEX,\n  ULID_REGEX,\n  UUID_REGEX,\n  ValiError,\n  _addIssue,\n  _isAllowedObjectKey,\n  _isLuhnAlgo,\n  _stringify,\n  any,\n  array,\n  arrayAsync,\n  bic,\n  bigint,\n  blob,\n  boolean,\n  brand,\n  bytes,\n  check,\n  checkAsync,\n  config,\n  creditCard,\n  cuid2,\n  custom,\n  customAsync,\n  date,\n  decimal,\n  deleteGlobalConfig,\n  deleteGlobalMessage,\n  deleteSchemaMessage,\n  deleteSpecificMessage,\n  email,\n  emoji,\n  empty,\n  endsWith,\n  entriesFromList,\n  enum_,\n  every,\n  excludes,\n  fallback,\n  fallbackAsync,\n  finite,\n  flatten,\n  forward,\n  forwardAsync,\n  getDefault,\n  getDefaults,\n  getDefaultsAsync,\n  getDotPath,\n  getFallback,\n  getFallbacks,\n  getFallbacksAsync,\n  getGlobalConfig,\n  getGlobalMessage,\n  getSchemaMessage,\n  getSpecificMessage,\n  hash,\n  hexColor,\n  hexadecimal,\n  imei,\n  includes,\n  instance,\n  integer,\n  intersect,\n  intersectAsync,\n  ip,\n  ipv4,\n  ipv6,\n  is,\n  isOfKind,\n  isOfType,\n  isValiError,\n  isoDate,\n  isoDateTime,\n  isoTime,\n  isoTimeSecond,\n  isoTimestamp,\n  isoWeek,\n  keyof,\n  lazy,\n  lazyAsync,\n  length,\n  literal,\n  looseObject,\n  looseObjectAsync,\n  looseTuple,\n  looseTupleAsync,\n  mac,\n  mac48,\n  mac64,\n  map,\n  mapAsync,\n  maxBytes,\n  maxLength,\n  maxSize,\n  maxValue,\n  mimeType,\n  minBytes,\n  minLength,\n  minSize,\n  minValue,\n  multipleOf,\n  nan,\n  never,\n  nonEmpty,\n  nonNullable,\n  nonNullableAsync,\n  nonNullish,\n  nonNullishAsync,\n  nonOptional,\n  nonOptionalAsync,\n  notBytes,\n  notLength,\n  notSize,\n  notValue,\n  null_,\n  nullable,\n  nullableAsync,\n  nullish,\n  nullishAsync,\n  number,\n  object,\n  objectAsync,\n  objectWithRest,\n  objectWithRestAsync,\n  octal,\n  omit,\n  optional,\n  optionalAsync,\n  parse,\n  parseAsync,\n  parser,\n  parserAsync,\n  partial,\n  partialAsync,\n  pick,\n  picklist,\n  pipe,\n  pipeAsync,\n  readonly,\n  record,\n  recordAsync,\n  regex,\n  required,\n  requiredAsync,\n  safeInteger,\n  safeParse,\n  safeParseAsync,\n  safeParser,\n  safeParserAsync,\n  set,\n  setAsync,\n  setGlobalConfig,\n  setGlobalMessage,\n  setSchemaMessage,\n  setSpecificMessage,\n  size,\n  some,\n  startsWith,\n  strictObject,\n  strictObjectAsync,\n  strictTuple,\n  strictTupleAsync,\n  string,\n  symbol,\n  toLowerCase,\n  toMaxValue,\n  toMinValue,\n  toUpperCase,\n  transform,\n  transformAsync,\n  trim,\n  trimEnd,\n  trimStart,\n  tuple,\n  tupleAsync,\n  tupleWithRest,\n  tupleWithRestAsync,\n  ulid,\n  undefined_,\n  union,\n  unionAsync,\n  unknown,\n  unwrap,\n  url,\n  uuid,\n  value,\n  variant,\n  variantAsync,\n  void_\n};\n","import type {Dispatch, Reducer} from 'react'\nimport {boolean, fallback, object, parse, picklist} from 'valibot'\n\nexport interface PresentationState {\n  mainDocument: boolean\n  iframe: {\n    status: 'loading' | 'loaded' | 'refreshing' | 'reloading'\n  }\n  visualEditing: {\n    overlaysEnabled: boolean\n  }\n}\n\nexport const ACTION_IFRAME_LOADED = 'ACTION_IFRAME_LOADED'\nexport const ACTION_IFRAME_REFRESH = 'ACTION_IFRAME_REFRESH'\nexport const ACTION_IFRAME_RELOAD = 'ACTION_IFRAME_RELOAD'\nexport const ACTION_VISUAL_EDITING_OVERLAYS_TOGGLE = 'ACTION_VISUAL_EDITING_OVERLAYS_TOGGLE'\n\nexport interface IframeLoadedAction {\n  type: typeof ACTION_IFRAME_LOADED\n}\nexport interface IframeRefreshAction {\n  type: typeof ACTION_IFRAME_REFRESH\n}\nexport interface IframeReloadAction {\n  type: typeof ACTION_IFRAME_RELOAD\n}\nexport interface VisualEditingOverlaysToggleAction {\n  type: typeof ACTION_VISUAL_EDITING_OVERLAYS_TOGGLE\n  enabled: boolean\n}\n\nexport type PresentationAction =\n  | IframeLoadedAction\n  | IframeRefreshAction\n  | IframeReloadAction\n  | VisualEditingOverlaysToggleAction\n\nexport const presentationReducer: Reducer<\n  Readonly<PresentationState>,\n  Readonly<PresentationAction>\n> = (state, action) => {\n  switch (action.type) {\n    case ACTION_IFRAME_LOADED:\n      return state.iframe.status === 'loaded'\n        ? state\n        : {\n            ...state,\n            iframe: {\n              ...state.iframe,\n              status: 'loaded',\n            },\n          }\n    case ACTION_IFRAME_REFRESH:\n      return state.iframe.status === 'refreshing'\n        ? state\n        : {\n            ...state,\n            iframe: {\n              ...state.iframe,\n              status: 'refreshing',\n            },\n          }\n    case ACTION_IFRAME_RELOAD:\n      return state.iframe.status === 'reloading'\n        ? state\n        : {\n            ...state,\n            iframe: {\n              ...state.iframe,\n              status: 'reloading',\n            },\n          }\n    case ACTION_VISUAL_EDITING_OVERLAYS_TOGGLE:\n      return toggleVisualEditingOverlays(state, action)\n    default:\n      return state\n  }\n}\n\nconst toggleVisualEditingOverlays: Reducer<\n  Readonly<PresentationState>,\n  Readonly<VisualEditingOverlaysToggleAction>\n> = (state, action) => {\n  if (state.visualEditing.overlaysEnabled === action.enabled) return state\n  return {\n    ...state,\n    visualEditing: {\n      ...state.visualEditing,\n      overlaysEnabled: action.enabled,\n    },\n  }\n}\n\nconst mainDocumentSchema = fallback(boolean(), false)\n\nconst iframeStatusSchema = picklist(['loading', 'loaded', 'refreshing', 'reloading'])\n\nconst initStateSchema = object({\n  mainDocument: mainDocumentSchema,\n  iframe: object({\n    status: iframeStatusSchema,\n  }),\n  visualEditing: object({overlaysEnabled: boolean()}),\n})\n\nconst INITIAL_PRESENTATION_STATE = {\n  mainDocument: false,\n  iframe: {\n    status: 'loading',\n  },\n  visualEditing: {\n    overlaysEnabled: false,\n  },\n} as const satisfies PresentationState\n\nexport function presentationReducerInit(\n  state: Readonly<Partial<PresentationState>>,\n): Readonly<PresentationState> {\n  return parse(initStateSchema, {...INITIAL_PRESENTATION_STATE, ...state})\n}\n\nexport type DispatchPresentationAction = Dispatch<Readonly<PresentationAction>>\n"],"names":["DEFAULT_TOOL_ICON","ComposeIcon","DEFAULT_TOOL_NAME","DEFAULT_TOOL_TITLE","COMMENTS_INSPECTOR_NAME","EDIT_INTENT_MODE","MAX_TIME_TO_OVERLAYS_CONNECTION","API_VERSION","MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL","LIVE_QUERY_CACHE_BATCH_SIZE","LIVE_QUERY_CACHE_SIZE","POPUP_CHECK_INTERVAL","keysOf","value","Object","keys","setKey","source","key","props","options","Observable","observer","subscribe","pipe","switchMap","object","keyObservables","map","isObservable","from","val","of","wait","combineLatest","pairs","reduce","acc","mergeAll","scan","INITIAL_STATE","locations","getDocumentId","isReference","_ref","_id","undefined","cleanPreviewable","id","previewable","clean","listen","fields","store","query","join","params","listenQuery","perspective","observeDocument","paths","currentValue","headlessPaths","filter","path","length","Set","snapshot","leads","forEach","head","tail","push","next","res","tails","isRecord","observeForLocations","documentId","resolver","documentStore","select","values","String","split","_type","doc","get","resolve","useDocumentLocations","$","_c","resolvers","type","useDocumentStore","locationsState","setLocationsState","useState","locationsStatus","setLocationsStatus","t0","bb0","t1","_result","result","t2","sub","state","unsubscribe","useEffect","t3","status","presentationLocaleNamespace","presentationUsEnglishLocaleBundle","defineLocaleResourceBundle","locale","namespace","resources","PresentationContext","createContext","usePresentationTool","throwOnMissingContext","presentation","useContext","Error","useCurrentPresentationToolName","name","TONE_ICONS","positive","InfoOutlineIcon","caution","WarningOutlineIcon","critical","ErrorOutlineIcon","LocationsBanner","isResolving","schemaType","showPresentationTitle","message","tone","len","t","useTranslation","expanded","setExpanded","toggle","useCallback","v","title","count","margin","createElement","transform","transition","l","index","href","preview","LocationItem","documentType","node","active","toolName","currentPresentationToolName","isCurrentTool","navigate","structureParams","intent","mode","presentationLinkProps","useIntentLink","handleCurrentToolClick","t4","onClick","t5","Symbol","for","t6","t7","t8","t9","PresentationDocumentContext","LocationStack","styled","Stack","rem","PresentationDocumentHeader","context","locate","contextOptions","options_0","idx","PresentationDocumentProvider","children","parent","parentRegister","register","optionsArray","setOptionsArray","_temp","prev","concat","prev_0","o","options_1","registerEffectEvent","useEffectEvent","useLayoutEffect","openInStructure","defineDocumentFieldAction","useAction","workspace","useWorkspace","navigateIntent","useRouter","defaultStructureTool","useMemo","findStructureTool","tools","hidden","icon","MasterDetailIcon","onAction","pathToString","renderAsButton","results","match","canHandleIntent","tool","modeMatches","preservedSearchParamKeys","getIntentState","routerState","payload","searchParams","_searchParams","includes","URLSearchParams","window","location","search","getPublishedId","entries","encodeJsonParams","uuid","PresentationSpinner","width","router","route","create","__unsafe_disableScopedSearchParams","intents","PresentationTool","lazy","BroadcastDisplayedDocument","defineLocations","defineDocuments","presentationTool","definePlugin","console","warn","hasLocationsResolver","PresentationDocumentInput","isDocumentSchemaType","renderDefault","canHandleCreateIntent","template","canHandleEditIntent","i18n","bundles","document","unstable_fieldActions","a","form","components","input","component","PresentationNavigateContext","usePresentationNavigate","PresentationParamsContext","usePresentationParams","SharedStateContext","useSharedState","setValue","getGlobalConfig","config2","lang","abortEarly","abortPipeEarly","skipPipe","store2","getGlobalMessage","store3","getSchemaMessage","store4","getSpecificMessage","reference","_stringify","getPrototypeOf","constructor","_addIssue","label","dataset","other","expected","expects","received","issue","kind","requirement","issues","isSchema","typed","_isAllowedObjectKey","ValiError","minLength","async","_run","getFallback","schema","fallback","fallback2","getDefault","default","boolean","value2","valueDataset","pathItem","origin","unshift","optional","wrapped","args","picklist","record","entryKey","entryValue","keyDataset","string","unknown","parse","pipe2","nextAction","ACTION_IFRAME_LOADED","ACTION_IFRAME_REFRESH","ACTION_IFRAME_RELOAD","ACTION_VISUAL_EDITING_OVERLAYS_TOGGLE","presentationReducer","action","iframe","toggleVisualEditingOverlays","visualEditing","overlaysEnabled","enabled","mainDocumentSchema","iframeStatusSchema","initStateSchema","mainDocument","INITIAL_PRESENTATION_STATE","presentationReducerInit"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}},
    {"offset": {"line": 14267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}