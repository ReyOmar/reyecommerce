{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/obliterator/iterator.js"],"sourcesContent":["/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED;;;;;CAKC,GACD,SAAS,SAAS,IAAI;IACpB,IAAI,OAAO,SAAS,YAClB,MAAM,IAAI,MAAM;IAElB,IAAI,CAAC,IAAI,GAAG;AACd;AAEA;;CAEC,GACD,IAAI,OAAO,WAAW,aACpB,SAAS,SAAS,CAAC,OAAO,QAAQ,CAAC,GAAG;IACpC,OAAO,IAAI;AACb;AAEF;;;;;CAKC,GACD,SAAS,EAAE,GAAG;IACZ,IAAI,OAAO,WACT,IAAI,KAAK,MAAM,EACf,IAAI;IAEN,OAAO,IAAI,SAAS;QAClB,IAAI,KAAK,GAAG,OAAO;YAAC,MAAM;QAAI;QAE9B,OAAO;YAAC,MAAM;YAAO,OAAO,IAAI,CAAC,IAAI;QAAA;IACvC;AACF;AAEA;;;;CAIC,GACD,SAAS,KAAK,GAAG;IACf,IAAI,WAAW,IAAI,SAAS;QAC1B,OAAO;YAAC,MAAM;QAAI;IACpB;IAEA,OAAO;AACT;AAEA;;;;;CAKC,GACD,SAAS,YAAY,GAAG,SAAU,QAAQ;IACxC,IAAI,IAAI,GACN,IAAI,SAAS,MAAM;IAErB,OAAO,IAAI,SAAS;QAClB,IAAI,KAAK,GAAG,OAAO;YAAC,MAAM;QAAI;QAE9B,OAAO;YAAC,MAAM;YAAO,OAAO,QAAQ,CAAC,IAAI;QAAA;IAC3C;AACF;AAEA;;;;;CAKC,GACD,SAAS,EAAE,GAAG,SAAU,KAAK;IAC3B,IAAI,iBAAiB,UAAU,OAAO;IAEtC,OACE,OAAO,UAAU,YACjB,UAAU,QACV,OAAO,MAAM,IAAI,KAAK;AAE1B;AAEA;;CAEC,GACD,OAAO,OAAO,GAAG","ignoreList":[0]}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/obliterator/support.js"],"sourcesContent":["exports.ARRAY_BUFFER_SUPPORT = typeof ArrayBuffer !== 'undefined';\nexports.SYMBOL_SUPPORT = typeof Symbol !== 'undefined';\n"],"names":[],"mappings":"AAAA,QAAQ,oBAAoB,GAAG,OAAO,gBAAgB;AACtD,QAAQ,cAAc,GAAG,OAAO,WAAW","ignoreList":[0]}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/obliterator/foreach.js"],"sourcesContent":["/**\n * Obliterator ForEach Function\n * =============================\n *\n * Helper function used to easily iterate over mixed values.\n */\nvar support = require('./support.js');\n\nvar ARRAY_BUFFER_SUPPORT = support.ARRAY_BUFFER_SUPPORT;\nvar SYMBOL_SUPPORT = support.SYMBOL_SUPPORT;\n\n/**\n * Function able to iterate over almost any iterable JS value.\n *\n * @param  {any}      iterable - Iterable value.\n * @param  {function} callback - Callback function.\n */\nmodule.exports = function forEach(iterable, callback) {\n  var iterator, k, i, l, s;\n\n  if (!iterable) throw new Error('obliterator/forEach: invalid iterable.');\n\n  if (typeof callback !== 'function')\n    throw new Error('obliterator/forEach: expecting a callback.');\n\n  // The target is an array or a string or function arguments\n  if (\n    Array.isArray(iterable) ||\n    (ARRAY_BUFFER_SUPPORT && ArrayBuffer.isView(iterable)) ||\n    typeof iterable === 'string' ||\n    iterable.toString() === '[object Arguments]'\n  ) {\n    for (i = 0, l = iterable.length; i < l; i++) callback(iterable[i], i);\n    return;\n  }\n\n  // The target has a #.forEach method\n  if (typeof iterable.forEach === 'function') {\n    iterable.forEach(callback);\n    return;\n  }\n\n  // The target is iterable\n  if (\n    SYMBOL_SUPPORT &&\n    Symbol.iterator in iterable &&\n    typeof iterable.next !== 'function'\n  ) {\n    iterable = iterable[Symbol.iterator]();\n  }\n\n  // The target is an iterator\n  if (typeof iterable.next === 'function') {\n    iterator = iterable;\n    i = 0;\n\n    while (((s = iterator.next()), s.done !== true)) {\n      callback(s.value, i);\n      i++;\n    }\n\n    return;\n  }\n\n  // The target is a plain object\n  for (k in iterable) {\n    if (iterable.hasOwnProperty(k)) {\n      callback(iterable[k], k);\n    }\n  }\n\n  return;\n};\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GACD,IAAI;AAEJ,IAAI,uBAAuB,QAAQ,oBAAoB;AACvD,IAAI,iBAAiB,QAAQ,cAAc;AAE3C;;;;;CAKC,GACD,OAAO,OAAO,GAAG,SAAS,QAAQ,QAAQ,EAAE,QAAQ;IAClD,IAAI,UAAU,GAAG,GAAG,GAAG;IAEvB,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;IAE/B,IAAI,OAAO,aAAa,YACtB,MAAM,IAAI,MAAM;IAElB,2DAA2D;IAC3D,IACE,MAAM,OAAO,CAAC,aACb,wBAAwB,YAAY,MAAM,CAAC,aAC5C,OAAO,aAAa,YACpB,SAAS,QAAQ,OAAO,sBACxB;QACA,IAAK,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IAAI,GAAG,IAAK,SAAS,QAAQ,CAAC,EAAE,EAAE;QACnE;IACF;IAEA,oCAAoC;IACpC,IAAI,OAAO,SAAS,OAAO,KAAK,YAAY;QAC1C,SAAS,OAAO,CAAC;QACjB;IACF;IAEA,yBAAyB;IACzB,IACE,kBACA,OAAO,QAAQ,IAAI,YACnB,OAAO,SAAS,IAAI,KAAK,YACzB;QACA,WAAW,QAAQ,CAAC,OAAO,QAAQ,CAAC;IACtC;IAEA,4BAA4B;IAC5B,IAAI,OAAO,SAAS,IAAI,KAAK,YAAY;QACvC,WAAW;QACX,IAAI;QAEJ,MAAQ,AAAC,IAAI,SAAS,IAAI,IAAK,EAAE,IAAI,KAAK,KAAO;YAC/C,SAAS,EAAE,KAAK,EAAE;YAClB;QACF;QAEA;IACF;IAEA,+BAA+B;IAC/B,IAAK,KAAK,SAAU;QAClB,IAAI,SAAS,cAAc,CAAC,IAAI;YAC9B,SAAS,QAAQ,CAAC,EAAE,EAAE;QACxB;IACF;IAEA;AACF","ignoreList":[0]}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/mnemonist/utils/typed-arrays.js"],"sourcesContent":["/**\n * Mnemonist Typed Array Helpers\n * ==============================\n *\n * Miscellaneous helpers related to typed arrays.\n */\n\n/**\n * When using an unsigned integer array to store pointers, one might want to\n * choose the optimal word size in regards to the actual numbers of pointers\n * to store.\n *\n * This helpers does just that.\n *\n * @param  {number} size - Expected size of the array to map.\n * @return {TypedArray}\n */\nvar MAX_8BIT_INTEGER = Math.pow(2, 8) - 1,\n    MAX_16BIT_INTEGER = Math.pow(2, 16) - 1,\n    MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;\n\nvar MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1,\n    MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1,\n    MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;\n\nexports.getPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_8BIT_INTEGER)\n    return Uint8Array;\n\n  if (maxIndex <= MAX_16BIT_INTEGER)\n    return Uint16Array;\n\n  if (maxIndex <= MAX_32BIT_INTEGER)\n    return Uint32Array;\n\n  throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');\n};\n\nexports.getSignedPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_SIGNED_8BIT_INTEGER)\n    return Int8Array;\n\n  if (maxIndex <= MAX_SIGNED_16BIT_INTEGER)\n    return Int16Array;\n\n  if (maxIndex <= MAX_SIGNED_32BIT_INTEGER)\n    return Int32Array;\n\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given number.\n *\n * @param  {number} value - Value to test.\n * @return {TypedArrayClass}\n */\nexports.getNumberType = function(value) {\n\n  // <= 32 bits itnteger?\n  if (value === (value | 0)) {\n\n    // Negative\n    if (Math.sign(value) === -1) {\n      if (value <= 127 && value >= -128)\n        return Int8Array;\n\n      if (value <= 32767 && value >= -32768)\n        return Int16Array;\n\n      return Int32Array;\n    }\n    else {\n\n      if (value <= 255)\n        return Uint8Array;\n\n      if (value <= 65535)\n        return Uint16Array;\n\n      return Uint32Array;\n    }\n  }\n\n  // 53 bits integer & floats\n  // NOTE: it's kinda hard to tell whether we could use 32bits or not...\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given array\n * of JavaScript numbers.\n *\n * @param  {array}    array  - Array to represent.\n * @param  {function} getter - Optional getter.\n * @return {TypedArrayClass}\n */\nvar TYPE_PRIORITY = {\n  Uint8Array: 1,\n  Int8Array: 2,\n  Uint16Array: 3,\n  Int16Array: 4,\n  Uint32Array: 5,\n  Int32Array: 6,\n  Float32Array: 7,\n  Float64Array: 8\n};\n\n// TODO: make this a one-shot for one value\nexports.getMinimalRepresentation = function(array, getter) {\n  var maxType = null,\n      maxPriority = 0,\n      p,\n      t,\n      v,\n      i,\n      l;\n\n  for (i = 0, l = array.length; i < l; i++) {\n    v = getter ? getter(array[i]) : array[i];\n    t = exports.getNumberType(v);\n    p = TYPE_PRIORITY[t.name];\n\n    if (p > maxPriority) {\n      maxPriority = p;\n      maxType = t;\n    }\n  }\n\n  return maxType;\n};\n\n/**\n * Function returning whether the given value is a typed array.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nexports.isTypedArray = function(value) {\n  return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);\n};\n\n/**\n * Function used to concat byte arrays.\n *\n * @param  {...ByteArray}\n * @return {ByteArray}\n */\nexports.concat = function() {\n  var length = 0,\n      i,\n      o,\n      l;\n\n  for (i = 0, l = arguments.length; i < l; i++)\n    length += arguments[i].length;\n\n  var array = new (arguments[0].constructor)(length);\n\n  for (i = 0, o = 0; i < l; i++) {\n    array.set(arguments[i], o);\n    o += arguments[i].length;\n  }\n\n  return array;\n};\n\n/**\n * Function used to initialize a byte array of indices.\n *\n * @param  {number}    length - Length of target.\n * @return {ByteArray}\n */\nexports.indices = function(length) {\n  var PointerArray = exports.getPointerArray(length);\n\n  var array = new PointerArray(length);\n\n  for (var i = 0; i < length; i++)\n    array[i] = i;\n\n  return array;\n};\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED;;;;;;;;;CASC,GACD,IAAI,mBAAmB,KAAK,GAAG,CAAC,GAAG,KAAK,GACpC,oBAAoB,KAAK,GAAG,CAAC,GAAG,MAAM,GACtC,oBAAoB,KAAK,GAAG,CAAC,GAAG,MAAM;AAE1C,IAAI,0BAA0B,KAAK,GAAG,CAAC,GAAG,KAAK,GAC3C,2BAA2B,KAAK,GAAG,CAAC,GAAG,MAAM,GAC7C,2BAA2B,KAAK,GAAG,CAAC,GAAG,MAAM;AAEjD,QAAQ,eAAe,GAAG,SAAS,IAAI;IACrC,IAAI,WAAW,OAAO;IAEtB,IAAI,YAAY,kBACd,OAAO;IAET,IAAI,YAAY,mBACd,OAAO;IAET,IAAI,YAAY,mBACd,OAAO;IAET,MAAM,IAAI,MAAM;AAClB;AAEA,QAAQ,qBAAqB,GAAG,SAAS,IAAI;IAC3C,IAAI,WAAW,OAAO;IAEtB,IAAI,YAAY,yBACd,OAAO;IAET,IAAI,YAAY,0BACd,OAAO;IAET,IAAI,YAAY,0BACd,OAAO;IAET,OAAO;AACT;AAEA;;;;;CAKC,GACD,QAAQ,aAAa,GAAG,SAAS,KAAK;IAEpC,uBAAuB;IACvB,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG;QAEzB,WAAW;QACX,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,GAAG;YAC3B,IAAI,SAAS,OAAO,SAAS,CAAC,KAC5B,OAAO;YAET,IAAI,SAAS,SAAS,SAAS,CAAC,OAC9B,OAAO;YAET,OAAO;QACT,OACK;YAEH,IAAI,SAAS,KACX,OAAO;YAET,IAAI,SAAS,OACX,OAAO;YAET,OAAO;QACT;IACF;IAEA,2BAA2B;IAC3B,sEAAsE;IACtE,OAAO;AACT;AAEA;;;;;;;CAOC,GACD,IAAI,gBAAgB;IAClB,YAAY;IACZ,WAAW;IACX,aAAa;IACb,YAAY;IACZ,aAAa;IACb,YAAY;IACZ,cAAc;IACd,cAAc;AAChB;AAEA,2CAA2C;AAC3C,QAAQ,wBAAwB,GAAG,SAAS,KAAK,EAAE,MAAM;IACvD,IAAI,UAAU,MACV,cAAc,GACd,GACA,GACA,GACA,GACA;IAEJ,IAAK,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAI,GAAG,IAAK;QACxC,IAAI,SAAS,OAAO,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE;QACxC,IAAI,QAAQ,aAAa,CAAC;QAC1B,IAAI,aAAa,CAAC,EAAE,IAAI,CAAC;QAEzB,IAAI,IAAI,aAAa;YACnB,cAAc;YACd,UAAU;QACZ;IACF;IAEA,OAAO;AACT;AAEA;;;;;CAKC,GACD,QAAQ,YAAY,GAAG,SAAS,KAAK;IACnC,OAAO,OAAO,gBAAgB,eAAe,YAAY,MAAM,CAAC;AAClE;AAEA;;;;;CAKC,GACD,QAAQ,MAAM,GAAG;IACf,IAAI,SAAS,GACT,GACA,GACA;IAEJ,IAAK,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAI,GAAG,IACvC,UAAU,SAAS,CAAC,EAAE,CAAC,MAAM;IAE/B,IAAI,QAAQ,IAAK,SAAS,CAAC,EAAE,CAAC,WAAW,CAAE;IAE3C,IAAK,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAK;QAC7B,MAAM,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE;QACxB,KAAK,SAAS,CAAC,EAAE,CAAC,MAAM;IAC1B;IAEA,OAAO;AACT;AAEA;;;;;CAKC,GACD,QAAQ,OAAO,GAAG,SAAS,MAAM;IAC/B,IAAI,eAAe,QAAQ,eAAe,CAAC;IAE3C,IAAI,QAAQ,IAAI,aAAa;IAE7B,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAC1B,KAAK,CAAC,EAAE,GAAG;IAEb,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/mnemonist/utils/iterables.js"],"sourcesContent":["/**\n * Mnemonist Iterable Function\n * ============================\n *\n * Harmonized iteration helpers over mixed iterable targets.\n */\nvar forEach = require('obliterator/foreach');\n\nvar typed = require('./typed-arrays.js');\n\n/**\n * Function used to determine whether the given object supports array-like\n * random access.\n *\n * @param  {any} target - Target object.\n * @return {boolean}\n */\nfunction isArrayLike(target) {\n  return Array.isArray(target) || typed.isTypedArray(target);\n}\n\n/**\n * Function used to guess the length of the structure over which we are going\n * to iterate.\n *\n * @param  {any} target - Target object.\n * @return {number|undefined}\n */\nfunction guessLength(target) {\n  if (typeof target.length === 'number')\n    return target.length;\n\n  if (typeof target.size === 'number')\n    return target.size;\n\n  return;\n}\n\n/**\n * Function used to convert an iterable to an array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArray(target) {\n  var l = guessLength(target);\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i++] = value;\n  });\n\n  return array;\n}\n\n/**\n * Same as above but returns a supplementary indices array.\n *\n * @param  {any}   target - Iteration target.\n * @return {array}\n */\nfunction toArrayWithIndices(target) {\n  var l = guessLength(target);\n\n  var IndexArray = typeof l === 'number' ?\n    typed.getPointerArray(l) :\n    Array;\n\n  var array = typeof l === 'number' ? new Array(l) : [];\n  var indices = typeof l === 'number' ? new IndexArray(l) : [];\n\n  var i = 0;\n\n  // TODO: we could optimize when given target is array like\n  forEach(target, function(value) {\n    array[i] = value;\n    indices[i] = i++;\n  });\n\n  return [array, indices];\n}\n\n/**\n * Exporting.\n */\nexports.isArrayLike = isArrayLike;\nexports.guessLength = guessLength;\nexports.toArray = toArray;\nexports.toArrayWithIndices = toArrayWithIndices;\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GACD,IAAI;AAEJ,IAAI;AAEJ;;;;;;CAMC,GACD,SAAS,YAAY,MAAM;IACzB,OAAO,MAAM,OAAO,CAAC,WAAW,MAAM,YAAY,CAAC;AACrD;AAEA;;;;;;CAMC,GACD,SAAS,YAAY,MAAM;IACzB,IAAI,OAAO,OAAO,MAAM,KAAK,UAC3B,OAAO,OAAO,MAAM;IAEtB,IAAI,OAAO,OAAO,IAAI,KAAK,UACzB,OAAO,OAAO,IAAI;IAEpB;AACF;AAEA;;;;;CAKC,GACD,SAAS,QAAQ,MAAM;IACrB,IAAI,IAAI,YAAY;IAEpB,IAAI,QAAQ,OAAO,MAAM,WAAW,IAAI,MAAM,KAAK,EAAE;IAErD,IAAI,IAAI;IAER,0DAA0D;IAC1D,QAAQ,QAAQ,SAAS,KAAK;QAC5B,KAAK,CAAC,IAAI,GAAG;IACf;IAEA,OAAO;AACT;AAEA;;;;;CAKC,GACD,SAAS,mBAAmB,MAAM;IAChC,IAAI,IAAI,YAAY;IAEpB,IAAI,aAAa,OAAO,MAAM,WAC5B,MAAM,eAAe,CAAC,KACtB;IAEF,IAAI,QAAQ,OAAO,MAAM,WAAW,IAAI,MAAM,KAAK,EAAE;IACrD,IAAI,UAAU,OAAO,MAAM,WAAW,IAAI,WAAW,KAAK,EAAE;IAE5D,IAAI,IAAI;IAER,0DAA0D;IAC1D,QAAQ,QAAQ,SAAS,KAAK;QAC5B,KAAK,CAAC,EAAE,GAAG;QACX,OAAO,CAAC,EAAE,GAAG;IACf;IAEA,OAAO;QAAC;QAAO;KAAQ;AACzB;AAEA;;CAEC,GACD,QAAQ,WAAW,GAAG;AACtB,QAAQ,WAAW,GAAG;AACtB,QAAQ,OAAO,GAAG;AAClB,QAAQ,kBAAkB,GAAG","ignoreList":[0]}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/mnemonist/lru-cache.js"],"sourcesContent":["/**\n * Mnemonist LRUCache\n * ===================\n *\n * JavaScript implementation of the LRU Cache data structure. To save up\n * memory and allocations this implementation represents its underlying\n * doubly-linked list as static arrays and pointers. Thus, memory is allocated\n * only once at instantiation and JS objects are never created to serve as\n * pointers. This also means this implementation does not trigger too many\n * garbage collections.\n *\n * Note that to save up memory, a LRU Cache can be implemented using a singly\n * linked list by storing predecessors' pointers as hashmap values.\n * However, this means more hashmap lookups and would probably slow the whole\n * thing down. What's more, pointers are not the things taking most space in\n * memory.\n */\nvar Iterator = require('obliterator/iterator'),\n    forEach = require('obliterator/foreach'),\n    typed = require('./utils/typed-arrays.js'),\n    iterables = require('./utils/iterables.js');\n\n/**\n * LRUCache.\n *\n * @constructor\n * @param {function} Keys     - Array class for storing keys.\n * @param {function} Values   - Array class for storing values.\n * @param {number}   capacity - Desired capacity.\n */\nfunction LRUCache(Keys, Values, capacity) {\n  if (arguments.length < 2) {\n    capacity = Keys;\n    Keys = null;\n    Values = null;\n  }\n\n  this.capacity = capacity;\n\n  if (typeof this.capacity !== 'number' || this.capacity <= 0)\n    throw new Error('mnemonist/lru-cache: capacity should be positive number.');\n  else if (!isFinite(this.capacity) || Math.floor(this.capacity) !== this.capacity)\n    throw new Error('mnemonist/lru-cache: capacity should be a finite positive integer.');\n\n  var PointerArray = typed.getPointerArray(capacity);\n\n  this.forward = new PointerArray(capacity);\n  this.backward = new PointerArray(capacity);\n  this.K = typeof Keys === 'function' ? new Keys(capacity) : new Array(capacity);\n  this.V = typeof Values === 'function' ? new Values(capacity) : new Array(capacity);\n\n  // Properties\n  this.size = 0;\n  this.head = 0;\n  this.tail = 0;\n  this.items = {};\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nLRUCache.prototype.clear = function() {\n  this.size = 0;\n  this.head = 0;\n  this.tail = 0;\n  this.items = {};\n};\n\n/**\n * Method used to splay a value on top.\n *\n * @param  {number}   pointer - Pointer of the value to splay on top.\n * @return {LRUCache}\n */\nLRUCache.prototype.splayOnTop = function(pointer) {\n  var oldHead = this.head;\n\n  if (this.head === pointer)\n    return this;\n\n  var previous = this.backward[pointer],\n      next = this.forward[pointer];\n\n  if (this.tail === pointer) {\n    this.tail = previous;\n  }\n  else {\n    this.backward[next] = previous;\n  }\n\n  this.forward[previous] = next;\n\n  this.backward[oldHead] = pointer;\n  this.head = pointer;\n  this.forward[pointer] = oldHead;\n\n  return this;\n};\n\n/**\n * Method used to set the value for the given key in the cache.\n *\n * @param  {any} key   - Key.\n * @param  {any} value - Value.\n * @return {undefined}\n */\nLRUCache.prototype.set = function(key, value) {\n\n  var pointer = this.items[key];\n\n  // The key already exists, we just need to update the value and splay on top\n  if (typeof pointer !== 'undefined') {\n    this.splayOnTop(pointer);\n    this.V[pointer] = value;\n\n    return;\n  }\n\n  // The cache is not yet full\n  if (this.size < this.capacity) {\n    pointer = this.size++;\n  }\n\n  // Cache is full, we need to drop the last value\n  else {\n    pointer = this.tail;\n    this.tail = this.backward[pointer];\n    delete this.items[this.K[pointer]];\n  }\n\n  // Storing key & value\n  this.items[key] = pointer;\n  this.K[pointer] = key;\n  this.V[pointer] = value;\n\n  // Moving the item at the front of the list\n  this.forward[pointer] = this.head;\n  this.backward[this.head] = pointer;\n  this.head = pointer;\n};\n\n/**\n * Method used to set the value for the given key in the cache\n *\n * @param  {any} key   - Key.\n * @param  {any} value - Value.\n * @return {{evicted: boolean, key: any, value: any}} An object containing the\n * key and value of an item that was overwritten or evicted in the set\n * operation, as well as a boolean indicating whether it was evicted due to\n * limited capacity. Return value is null if nothing was evicted or overwritten\n * during the set operation.\n */\nLRUCache.prototype.setpop = function(key, value) {\n  var oldValue = null;\n  var oldKey = null;\n\n  var pointer = this.items[key];\n\n  // The key already exists, we just need to update the value and splay on top\n  if (typeof pointer !== 'undefined') {\n    this.splayOnTop(pointer);\n    oldValue = this.V[pointer];\n    this.V[pointer] = value;\n    return {evicted: false, key: key, value: oldValue};\n  }\n\n  // The cache is not yet full\n  if (this.size < this.capacity) {\n    pointer = this.size++;\n  }\n\n  // Cache is full, we need to drop the last value\n  else {\n    pointer = this.tail;\n    this.tail = this.backward[pointer];\n    oldValue = this.V[pointer];\n    oldKey = this.K[pointer];\n    delete this.items[oldKey];\n  }\n\n  // Storing key & value\n  this.items[key] = pointer;\n  this.K[pointer] = key;\n  this.V[pointer] = value;\n\n  // Moving the item at the front of the list\n  this.forward[pointer] = this.head;\n  this.backward[this.head] = pointer;\n  this.head = pointer;\n\n  // Return object if eviction took place, otherwise return null\n  if (oldKey) {\n    return {evicted: true, key: oldKey, value: oldValue};\n  }\n  else {\n    return null;\n  }\n};\n\n/**\n * Method used to check whether the key exists in the cache.\n *\n * @param  {any} key   - Key.\n * @return {boolean}\n */\nLRUCache.prototype.has = function(key) {\n  return key in this.items;\n};\n\n/**\n * Method used to get the value attached to the given key. Will move the\n * related key to the front of the underlying linked list.\n *\n * @param  {any} key   - Key.\n * @return {any}\n */\nLRUCache.prototype.get = function(key) {\n  var pointer = this.items[key];\n\n  if (typeof pointer === 'undefined')\n    return;\n\n  this.splayOnTop(pointer);\n\n  return this.V[pointer];\n};\n\n/**\n * Method used to get the value attached to the given key. Does not modify\n * the ordering of the underlying linked list.\n *\n * @param  {any} key   - Key.\n * @return {any}\n */\nLRUCache.prototype.peek = function(key) {\n  var pointer = this.items[key];\n\n  if (typeof pointer === 'undefined')\n    return;\n\n  return this.V[pointer];\n};\n\n/**\n * Method used to iterate over the cache's entries using a callback.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nLRUCache.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var i = 0,\n      l = this.size;\n\n  var pointer = this.head,\n      keys = this.K,\n      values = this.V,\n      forward = this.forward;\n\n  while (i < l) {\n\n    callback.call(scope, values[pointer], keys[pointer], this);\n    pointer = forward[pointer];\n\n    i++;\n  }\n};\n\n/**\n * Method used to create an iterator over the cache's keys from most\n * recently used to least recently used.\n *\n * @return {Iterator}\n */\nLRUCache.prototype.keys = function() {\n  var i = 0,\n      l = this.size;\n\n  var pointer = this.head,\n      keys = this.K,\n      forward = this.forward;\n\n  return new Iterator(function() {\n    if (i >= l)\n      return {done: true};\n\n    var key = keys[pointer];\n\n    i++;\n\n    if (i < l)\n      pointer = forward[pointer];\n\n    return {\n      done: false,\n      value: key\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over the cache's values from most\n * recently used to least recently used.\n *\n * @return {Iterator}\n */\nLRUCache.prototype.values = function() {\n  var i = 0,\n      l = this.size;\n\n  var pointer = this.head,\n      values = this.V,\n      forward = this.forward;\n\n  return new Iterator(function() {\n    if (i >= l)\n      return {done: true};\n\n    var value = values[pointer];\n\n    i++;\n\n    if (i < l)\n      pointer = forward[pointer];\n\n    return {\n      done: false,\n      value: value\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over the cache's entries from most\n * recently used to least recently used.\n *\n * @return {Iterator}\n */\nLRUCache.prototype.entries = function() {\n  var i = 0,\n      l = this.size;\n\n  var pointer = this.head,\n      keys = this.K,\n      values = this.V,\n      forward = this.forward;\n\n  return new Iterator(function() {\n    if (i >= l)\n      return {done: true};\n\n    var key = keys[pointer],\n        value = values[pointer];\n\n    i++;\n\n    if (i < l)\n      pointer = forward[pointer];\n\n    return {\n      done: false,\n      value: [key, value]\n    };\n  });\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  LRUCache.prototype[Symbol.iterator] = LRUCache.prototype.entries;\n\n/**\n * Convenience known methods.\n */\nLRUCache.prototype.inspect = function() {\n  var proxy = new Map();\n\n  var iterator = this.entries(),\n      step;\n\n  while ((step = iterator.next(), !step.done))\n    proxy.set(step.value[0], step.value[1]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: LRUCache,\n    enumerable: false\n  });\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  LRUCache.prototype[Symbol.for('nodejs.util.inspect.custom')] = LRUCache.prototype.inspect;\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a structure.\n *\n * @param  {Iterable} iterable - Target iterable.\n * @param  {function} Keys     - Array class for storing keys.\n * @param  {function} Values   - Array class for storing values.\n * @param  {number}   capacity - Cache's capacity.\n * @return {LRUCache}\n */\nLRUCache.from = function(iterable, Keys, Values, capacity) {\n  if (arguments.length < 2) {\n    capacity = iterables.guessLength(iterable);\n\n    if (typeof capacity !== 'number')\n      throw new Error('mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.');\n  }\n  else if (arguments.length === 2) {\n    capacity = Keys;\n    Keys = null;\n    Values = null;\n  }\n\n  var cache = new LRUCache(Keys, Values, capacity);\n\n  forEach(iterable, function(value, key) {\n    cache.set(key, value);\n  });\n\n  return cache;\n};\n\n/**\n * Exporting.\n */\nmodule.exports = LRUCache;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 667, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/mnemonist/lru-cache-with-delete.js"],"sourcesContent":["/**\n * Mnemonist LRUCacheWithDelete\n * =============================\n *\n * An extension of LRUCache with delete functionality.\n */\n\nvar LRUCache = require('./lru-cache.js'),\n    forEach = require('obliterator/foreach'),\n    typed = require('./utils/typed-arrays.js'),\n    iterables = require('./utils/iterables.js');\n\n// The only complication with deleting items is that the LRU's\n// performance depends on having a fixed-size list of pointers; the\n// doubly-linked-list is happy to expand and contract.\n//\n// On delete, we record the position of the former item's pointer in a\n// list of \"holes\" in the pointer array. On insert, if there is a hole\n// the new pointer slots in to fill the hole; otherwise, it is\n// appended as usual. (Note: we are only talking here about the\n// internal pointer list. setting or getting an item promotes it\n// to the top of the LRU ranking no matter what came before)\n\nfunction LRUCacheWithDelete(Keys, Values, capacity) {\n  if (arguments.length < 2) {\n    LRUCache.call(this, Keys);\n  }\n  else {\n    LRUCache.call(this, Keys, Values, capacity);\n  }\n  var PointerArray = typed.getPointerArray(this.capacity);\n  this.deleted = new PointerArray(this.capacity);\n  this.deletedSize = 0;\n}\n\nfor (var k in LRUCache.prototype)\n  LRUCacheWithDelete.prototype[k] = LRUCache.prototype[k];\nif (typeof Symbol !== 'undefined')\n  LRUCacheWithDelete.prototype[Symbol.iterator] = LRUCache.prototype[Symbol.iterator];\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nLRUCacheWithDelete.prototype.clear = function() {\n  LRUCache.prototype.clear.call(this);\n  this.deletedSize = 0;\n};\n\n/**\n * Method used to set the value for the given key in the cache.\n *\n * @param  {any} key   - Key.\n * @param  {any} value - Value.\n * @return {undefined}\n */\nLRUCacheWithDelete.prototype.set = function(key, value) {\n\n  var pointer = this.items[key];\n\n  // The key already exists, we just need to update the value and splay on top\n  if (typeof pointer !== 'undefined') {\n    this.splayOnTop(pointer);\n    this.V[pointer] = value;\n\n    return;\n  }\n\n  // The cache is not yet full\n  if (this.size < this.capacity) {\n    if (this.deletedSize > 0) {\n      // If there is a \"hole\" in the pointer list, reuse it\n      pointer = this.deleted[--this.deletedSize];\n    }\n    else {\n      // otherwise append to the pointer list\n      pointer = this.size;\n    }\n    this.size++;\n  }\n\n  // Cache is full, we need to drop the last value\n  else {\n    pointer = this.tail;\n    this.tail = this.backward[pointer];\n    delete this.items[this.K[pointer]];\n  }\n\n  // Storing key & value\n  this.items[key] = pointer;\n  this.K[pointer] = key;\n  this.V[pointer] = value;\n\n  // Moving the item at the front of the list\n  this.forward[pointer] = this.head;\n  this.backward[this.head] = pointer;\n  this.head = pointer;\n};\n\n/**\n * Method used to set the value for the given key in the cache\n *\n * @param  {any} key   - Key.\n * @param  {any} value - Value.\n * @return {{evicted: boolean, key: any, value: any}} An object containing the\n * key and value of an item that was overwritten or evicted in the set\n * operation, as well as a boolean indicating whether it was evicted due to\n * limited capacity. Return value is null if nothing was evicted or overwritten\n * during the set operation.\n */\nLRUCacheWithDelete.prototype.setpop = function(key, value) {\n  var oldValue = null;\n  var oldKey = null;\n\n  var pointer = this.items[key];\n\n  // The key already exists, we just need to update the value and splay on top\n  if (typeof pointer !== 'undefined') {\n    this.splayOnTop(pointer);\n    oldValue = this.V[pointer];\n    this.V[pointer] = value;\n    return {evicted: false, key: key, value: oldValue};\n  }\n\n  // The cache is not yet full\n  if (this.size < this.capacity) {\n    if (this.deletedSize > 0) {\n      // If there is a \"hole\" in the pointer list, reuse it\n      pointer = this.deleted[--this.deletedSize];\n    }\n    else {\n      // otherwise append to the pointer list\n      pointer = this.size;\n    }\n    this.size++;\n  }\n\n  // Cache is full, we need to drop the last value\n  else {\n    pointer = this.tail;\n    this.tail = this.backward[pointer];\n    oldValue = this.V[pointer];\n    oldKey = this.K[pointer];\n    delete this.items[oldKey];\n  }\n\n  // Storing key & value\n  this.items[key] = pointer;\n  this.K[pointer] = key;\n  this.V[pointer] = value;\n\n  // Moving the item at the front of the list\n  this.forward[pointer] = this.head;\n  this.backward[this.head] = pointer;\n  this.head = pointer;\n\n  // Return object if eviction took place, otherwise return null\n  if (oldKey) {\n    return {evicted: true, key: oldKey, value: oldValue};\n  }\n  else {\n    return null;\n  }\n};\n\n/**\n * Method used to delete the entry for the given key in the cache.\n *\n * @param  {any} key   - Key.\n * @return {boolean}   - true if the item was present\n */\nLRUCacheWithDelete.prototype.delete = function(key) {\n\n  var pointer = this.items[key];\n\n  if (typeof pointer === 'undefined') {\n    return false;\n  }\n\n  delete this.items[key];\n\n  if (this.size === 1) {\n    this.size = 0;\n    this.head = 0;\n    this.tail = 0;\n    this.deletedSize = 0;\n    return true;\n  }\n\n  var previous = this.backward[pointer],\n      next = this.forward[pointer];\n\n  if (this.head === pointer) {\n    this.head = next;\n  }\n  if (this.tail === pointer) {\n    this.tail = previous;\n  }\n\n  this.forward[previous] = next;\n  this.backward[next] = previous;\n\n  this.size--;\n  this.deleted[this.deletedSize++] = pointer;\n\n  return true;\n};\n\n/**\n * Method used to remove and return the value for the given key in the cache.\n *\n * @param  {any} key                 - Key.\n * @param  {any} [missing=undefined] - Value to return if item is absent\n * @return {any} The value, if present; the missing indicator if absent\n */\nLRUCacheWithDelete.prototype.remove = function(key, missing = undefined) {\n\n  var pointer = this.items[key];\n\n  if (typeof pointer === 'undefined') {\n    return missing;\n  }\n\n  var dead = this.V[pointer];\n  delete this.items[key];\n\n  if (this.size === 1) {\n    this.size = 0;\n    this.head = 0;\n    this.tail = 0;\n    this.deletedSize = 0;\n    return dead;\n  }\n\n  var previous = this.backward[pointer],\n      next = this.forward[pointer];\n\n  if (this.head === pointer) {\n    this.head = next;\n  }\n  if (this.tail === pointer) {\n    this.tail = previous;\n  }\n\n  this.forward[previous] = next;\n  this.backward[next] = previous;\n\n  this.size--;\n  this.deleted[this.deletedSize++] = pointer;\n\n  return dead;\n};\n\n/**\n * Static @.from function taking an arbitrary iterable & converting it into\n * a structure.\n *\n * @param  {Iterable} iterable - Target iterable.\n * @param  {function} Keys     - Array class for storing keys.\n * @param  {function} Values   - Array class for storing values.\n * @param  {number}   capacity - Cache's capacity.\n * @return {LRUCacheWithDelete}\n */\nLRUCacheWithDelete.from = function(iterable, Keys, Values, capacity) {\n  if (arguments.length < 2) {\n    capacity = iterables.guessLength(iterable);\n\n    if (typeof capacity !== 'number')\n      throw new Error('mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.');\n  }\n  else if (arguments.length === 2) {\n    capacity = Keys;\n    Keys = null;\n    Values = null;\n  }\n\n  var cache = new LRUCacheWithDelete(Keys, Values, capacity);\n\n  forEach(iterable, function(value, key) {\n    cache.set(key, value);\n  });\n\n  return cache;\n};\n\nmodule.exports = LRUCacheWithDelete;\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED,IAAI,6GACA,4GACA,mHACA;AAEJ,8DAA8D;AAC9D,mEAAmE;AACnE,sDAAsD;AACtD,EAAE;AACF,sEAAsE;AACtE,sEAAsE;AACtE,8DAA8D;AAC9D,+DAA+D;AAC/D,gEAAgE;AAChE,4DAA4D;AAE5D,SAAS,mBAAmB,IAAI,EAAE,MAAM,EAAE,QAAQ;IAChD,IAAI,UAAU,MAAM,GAAG,GAAG;QACxB,SAAS,IAAI,CAAC,IAAI,EAAE;IACtB,OACK;QACH,SAAS,IAAI,CAAC,IAAI,EAAE,MAAM,QAAQ;IACpC;IACA,IAAI,eAAe,MAAM,eAAe,CAAC,IAAI,CAAC,QAAQ;IACtD,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,IAAI,CAAC,QAAQ;IAC7C,IAAI,CAAC,WAAW,GAAG;AACrB;AAEA,IAAK,IAAI,KAAK,SAAS,SAAS,CAC9B,mBAAmB,SAAS,CAAC,EAAE,GAAG,SAAS,SAAS,CAAC,EAAE;AACzD,IAAI,OAAO,WAAW,aACpB,mBAAmB,SAAS,CAAC,OAAO,QAAQ,CAAC,GAAG,SAAS,SAAS,CAAC,OAAO,QAAQ,CAAC;AAErF;;;;CAIC,GACD,mBAAmB,SAAS,CAAC,KAAK,GAAG;IACnC,SAAS,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;IAClC,IAAI,CAAC,WAAW,GAAG;AACrB;AAEA;;;;;;CAMC,GACD,mBAAmB,SAAS,CAAC,GAAG,GAAG,SAAS,GAAG,EAAE,KAAK;IAEpD,IAAI,UAAU,IAAI,CAAC,KAAK,CAAC,IAAI;IAE7B,4EAA4E;IAC5E,IAAI,OAAO,YAAY,aAAa;QAClC,IAAI,CAAC,UAAU,CAAC;QAChB,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;QAElB;IACF;IAEA,4BAA4B;IAC5B,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC7B,IAAI,IAAI,CAAC,WAAW,GAAG,GAAG;YACxB,qDAAqD;YACrD,UAAU,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;QAC5C,OACK;YACH,uCAAuC;YACvC,UAAU,IAAI,CAAC,IAAI;QACrB;QACA,IAAI,CAAC,IAAI;IACX,OAGK;QACH,UAAU,IAAI,CAAC,IAAI;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;QAClC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC;IACpC;IAEA,sBAAsB;IACtB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG;IAClB,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;IAClB,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;IAElB,2CAA2C;IAC3C,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI;IACjC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG;IAC3B,IAAI,CAAC,IAAI,GAAG;AACd;AAEA;;;;;;;;;;CAUC,GACD,mBAAmB,SAAS,CAAC,MAAM,GAAG,SAAS,GAAG,EAAE,KAAK;IACvD,IAAI,WAAW;IACf,IAAI,SAAS;IAEb,IAAI,UAAU,IAAI,CAAC,KAAK,CAAC,IAAI;IAE7B,4EAA4E;IAC5E,IAAI,OAAO,YAAY,aAAa;QAClC,IAAI,CAAC,UAAU,CAAC;QAChB,WAAW,IAAI,CAAC,CAAC,CAAC,QAAQ;QAC1B,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;QAClB,OAAO;YAAC,SAAS;YAAO,KAAK;YAAK,OAAO;QAAQ;IACnD;IAEA,4BAA4B;IAC5B,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE;QAC7B,IAAI,IAAI,CAAC,WAAW,GAAG,GAAG;YACxB,qDAAqD;YACrD,UAAU,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;QAC5C,OACK;YACH,uCAAuC;YACvC,UAAU,IAAI,CAAC,IAAI;QACrB;QACA,IAAI,CAAC,IAAI;IACX,OAGK;QACH,UAAU,IAAI,CAAC,IAAI;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ;QAClC,WAAW,IAAI,CAAC,CAAC,CAAC,QAAQ;QAC1B,SAAS,IAAI,CAAC,CAAC,CAAC,QAAQ;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO;IAC3B;IAEA,sBAAsB;IACtB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG;IAClB,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;IAClB,IAAI,CAAC,CAAC,CAAC,QAAQ,GAAG;IAElB,2CAA2C;IAC3C,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI;IACjC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG;IAC3B,IAAI,CAAC,IAAI,GAAG;IAEZ,8DAA8D;IAC9D,IAAI,QAAQ;QACV,OAAO;YAAC,SAAS;YAAM,KAAK;YAAQ,OAAO;QAAQ;IACrD,OACK;QACH,OAAO;IACT;AACF;AAEA;;;;;CAKC,GACD,mBAAmB,SAAS,CAAC,MAAM,GAAG,SAAS,GAAG;IAEhD,IAAI,UAAU,IAAI,CAAC,KAAK,CAAC,IAAI;IAE7B,IAAI,OAAO,YAAY,aAAa;QAClC,OAAO;IACT;IAEA,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI;IAEtB,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG;QACnB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,WAAW,GAAG;QACnB,OAAO;IACT;IAEA,IAAI,WAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,EACjC,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ;IAEhC,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;QACzB,IAAI,CAAC,IAAI,GAAG;IACd;IACA,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;QACzB,IAAI,CAAC,IAAI,GAAG;IACd;IAEA,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG;IACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG;IAEtB,IAAI,CAAC,IAAI;IACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,GAAG,GAAG;IAEnC,OAAO;AACT;AAEA;;;;;;CAMC,GACD,mBAAmB,SAAS,CAAC,MAAM,GAAG,SAAS,GAAG,EAAE,UAAU,SAAS;IAErE,IAAI,UAAU,IAAI,CAAC,KAAK,CAAC,IAAI;IAE7B,IAAI,OAAO,YAAY,aAAa;QAClC,OAAO;IACT;IAEA,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ;IAC1B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI;IAEtB,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG;QACnB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,WAAW,GAAG;QACnB,OAAO;IACT;IAEA,IAAI,WAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,EACjC,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ;IAEhC,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;QACzB,IAAI,CAAC,IAAI,GAAG;IACd;IACA,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;QACzB,IAAI,CAAC,IAAI,GAAG;IACd;IAEA,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG;IACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG;IAEtB,IAAI,CAAC,IAAI;IACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,GAAG,GAAG;IAEnC,OAAO;AACT;AAEA;;;;;;;;;CASC,GACD,mBAAmB,IAAI,GAAG,SAAS,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ;IACjE,IAAI,UAAU,MAAM,GAAG,GAAG;QACxB,WAAW,UAAU,WAAW,CAAC;QAEjC,IAAI,OAAO,aAAa,UACtB,MAAM,IAAI,MAAM;IACpB,OACK,IAAI,UAAU,MAAM,KAAK,GAAG;QAC/B,WAAW;QACX,OAAO;QACP,SAAS;IACX;IAEA,IAAI,QAAQ,IAAI,mBAAmB,MAAM,QAAQ;IAEjD,QAAQ,UAAU,SAAS,KAAK,EAAE,GAAG;QACnC,MAAM,GAAG,CAAC,KAAK;IACjB;IAEA,OAAO;AACT;AAEA,OAAO,OAAO,GAAG","ignoreList":[0]}},
    {"offset": {"line": 891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/node_modules/mendoza/src/internal-patcher.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/node_modules/mendoza/src/utf8.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/node_modules/mendoza/src/incremental-patcher.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/node_modules/mendoza/src/simple-patcher.ts"],"sourcesContent":["import {ObjectModel} from './object-model'\nimport {RawPatch} from './patch'\n\nconst OPS = [\n  'Value',\n  'Copy',\n  'Blank',\n  'ReturnIntoArray',\n  'ReturnIntoObject',\n  'ReturnIntoObjectSameKey',\n  'PushField',\n  'PushElement',\n  'PushParent',\n  'Pop',\n  'PushFieldCopy',\n  'PushFieldBlank',\n  'PushElementCopy',\n  'PushElementBlank',\n  'ReturnIntoObjectPop',\n  'ReturnIntoObjectSameKeyPop',\n  'ReturnIntoArrayPop',\n  'ObjectSetFieldValue',\n  'ObjectCopyField',\n  'ObjectDeleteField',\n  'ArrayAppendValue',\n  'ArrayAppendSlice',\n  'StringAppendString',\n  'StringAppendSlice',\n]\n\ntype InputEntry<V> = {\n  value: V\n  key?: string\n  keys?: string[]\n}\n\ntype OutputEntry<V, S, O, A> = {\n  value: V | null\n  writeValue?: S | O | A\n}\n\nexport class Patcher<V, S, O, A> {\n  model: ObjectModel<V, S, O, A>\n  root: V\n  patch: RawPatch\n  i: number\n  inputStack: InputEntry<V>[]\n  outputStack: OutputEntry<V, S, O, A>[]\n\n  constructor(model: ObjectModel<V, S, O, A>, root: V, patch: RawPatch) {\n    this.model = model\n    this.root = root\n    this.patch = patch\n    this.i = 0\n    this.inputStack = []\n    this.outputStack = []\n  }\n\n  read(): unknown {\n    return this.patch[this.i++]\n  }\n\n  process() {\n    this.inputStack.push({value: this.root})\n    this.outputStack.push({value: this.root})\n\n    for (; this.i < this.patch.length; ) {\n      let opcode = this.read() as number\n      let op = OPS[opcode]\n      if (!op) throw new Error(`Unknown opcode: ${opcode}`)\n      let processor = `process${op}`\n      ;(this as any)[processor].apply(this)\n    }\n\n    let entry = this.outputStack.pop()!\n    return this.finalizeOutput(entry)\n  }\n\n  inputEntry(): InputEntry<V> {\n    return this.inputStack[this.inputStack.length - 1]\n  }\n\n  inputKey(entry: InputEntry<V>, idx: number): string {\n    if (!entry.keys) {\n      entry.keys = this.model.objectGetKeys(entry.value).sort()\n    }\n\n    return entry.keys[idx]\n  }\n\n  outputEntry(): OutputEntry<V, S, O, A> {\n    return this.outputStack[this.outputStack.length - 1]\n  }\n\n  outputArray(): A {\n    let entry = this.outputEntry()\n\n    if (!entry.writeValue) {\n      entry.writeValue = this.model.copyArray(entry.value)\n    }\n\n    return entry.writeValue as A\n  }\n\n  outputObject(): O {\n    let entry = this.outputEntry()\n\n    if (!entry.writeValue) {\n      entry.writeValue = this.model.copyObject(entry.value)\n    }\n\n    return entry.writeValue as O\n  }\n\n  outputString(): S {\n    let entry = this.outputEntry()\n\n    if (!entry.writeValue) {\n      entry.writeValue = this.model.copyString(entry.value)\n    }\n\n    return entry.writeValue as S\n  }\n\n  finalizeOutput(entry: OutputEntry<V, S, O, A>): V {\n    if (entry.writeValue) {\n      return this.model.finalize(entry.writeValue)\n    } else {\n      return entry.value!\n    }\n  }\n\n  // Processors:\n\n  processValue() {\n    let value = this.model.wrap(this.read())\n    this.outputStack.push({value})\n  }\n\n  processCopy() {\n    let input = this.inputEntry()\n    this.outputStack.push({value: input.value})\n  }\n\n  processBlank() {\n    this.outputStack.push({value: null})\n  }\n\n  processReturnIntoArray() {\n    let entry = this.outputStack.pop()!\n    let result = this.finalizeOutput(entry)\n    let arr = this.outputArray()\n    this.model.arrayAppendValue(arr, result)\n  }\n\n  processReturnIntoObject() {\n    let key = this.read() as string\n    let entry = this.outputStack.pop()!\n    let result = this.finalizeOutput(entry)\n    result = this.model.markChanged(result)\n    let obj = this.outputObject()\n    this.model.objectSetField(obj, key, result)\n  }\n\n  processReturnIntoObjectSameKey() {\n    let input = this.inputEntry()\n    let entry = this.outputStack.pop()!\n    let result = this.finalizeOutput(entry)\n    let obj = this.outputObject()\n    this.model.objectSetField(obj, input.key!, result)\n  }\n\n  processPushField() {\n    let idx = this.read() as number\n    let entry = this.inputEntry()\n    let key = this.inputKey(entry, idx)\n    let value = this.model.objectGetField(entry.value, key)\n    this.inputStack.push({value, key})\n  }\n\n  processPushElement() {\n    let idx = this.read() as number\n    let entry = this.inputEntry()\n    let value = this.model.arrayGetElement(entry.value, idx)\n    this.inputStack.push({value})\n  }\n\n  processPop() {\n    this.inputStack.pop()\n  }\n\n  processPushFieldCopy() {\n    this.processPushField()\n    this.processCopy()\n  }\n\n  processPushFieldBlank() {\n    this.processPushField()\n    this.processBlank()\n  }\n\n  processPushElementCopy() {\n    this.processPushElement()\n    this.processCopy()\n  }\n\n  processPushElementBlank() {\n    this.processPushElement()\n    this.processBlank()\n  }\n\n  processReturnIntoObjectPop() {\n    this.processReturnIntoObject()\n    this.processPop()\n  }\n\n  processReturnIntoObjectSameKeyPop() {\n    this.processReturnIntoObjectSameKey()\n    this.processPop()\n  }\n\n  processReturnIntoArrayPop() {\n    this.processReturnIntoArray()\n    this.processPop()\n  }\n\n  processObjectSetFieldValue() {\n    this.processValue()\n    this.processReturnIntoObject()\n  }\n\n  processObjectCopyField() {\n    this.processPushField()\n    this.processCopy()\n    this.processReturnIntoObjectSameKey()\n    this.processPop()\n  }\n\n  processObjectDeleteField() {\n    let idx = this.read() as number\n    let entry = this.inputEntry()\n    let key = this.inputKey(entry, idx)\n    let obj = this.outputObject()\n    this.model.objectDeleteField(obj, key)\n  }\n\n  processArrayAppendValue() {\n    let value = this.model.wrap(this.read())\n    let arr = this.outputArray()\n    this.model.arrayAppendValue(arr, value)\n  }\n\n  processArrayAppendSlice() {\n    let left = this.read() as number\n    let right = this.read() as number\n    let str = this.outputArray()\n    let val = this.inputEntry().value\n    this.model.arrayAppendSlice(str, val, left, right)\n  }\n\n  processStringAppendString() {\n    let value = this.model.wrap(this.read())\n    let str = this.outputString()\n    this.model.stringAppendValue(str, value)\n  }\n\n  processStringAppendSlice() {\n    let left = this.read() as number\n    let right = this.read() as number\n    let str = this.outputString()\n    let val = this.inputEntry().value\n    this.model.stringAppendSlice(str, val, left, right)\n  }\n}\n","export function utf8charSize(code: number): 1 | 2 | 3 | 4 {\n  if (code >> 16) {\n    return 4\n  } else if (code >> 11) {\n    return 3\n  } else if (code >> 7) {\n    return 2\n  } else {\n    return 1\n  }\n}\n\nexport function utf8stringSize(str: string): number {\n  let b = 0\n  for (let i = 0; i < str.length; i++) {\n    let code = str.codePointAt(i)!\n    let size = utf8charSize(code)\n    if (size == 4) i++\n    b += size\n  }\n  return b\n}\n\n/** Converts an UTF-8 byte index into a UCS-2 index. */\nexport function utf8resolveIndex(str: string, idx: number, start = 0) {\n  let byteCount = start\n  let ucsIdx = 0\n\n  for (ucsIdx = start; byteCount < idx; ucsIdx++) {\n    let code = str.codePointAt(ucsIdx)!\n    let size = utf8charSize(code)\n    if (size === 4) ucsIdx++ // Surrogate pair.\n    byteCount += size\n  }\n\n  return ucsIdx\n}\n\nexport function commonPrefix(str: string, str2: string) {\n  let len = Math.min(str.length, str2.length)\n  let b = 0\n  for (let i = 0; i < len; ) {\n    let aPoint = str.codePointAt(i)!\n    let bPoint = str2.codePointAt(i)!\n    if (aPoint !== bPoint) return b\n    let size = utf8charSize(aPoint)\n    b += size\n    i += size === 4 ? 2 : 1\n  }\n  return b\n}\n\nexport function commonSuffix(str: string, str2: string, prefix: number = 0) {\n  let len = Math.min(str.length, str2.length) - prefix\n  let b = 0\n  for (let i = 0; i < len; ) {\n    let aPoint = str.codePointAt(str.length - 1 - i)!\n    let bPoint = str2.codePointAt(str2.length - 1 - i)!\n    if (aPoint !== bPoint) return b\n    let size = utf8charSize(aPoint)\n    b += size\n    i += size === 4 ? 2 : 1\n  }\n  return b\n}\n","import {Patcher} from './internal-patcher'\nimport type {ObjectModel} from './object-model'\nimport type {RawPatch} from './patch'\nimport {commonPrefix, commonSuffix, utf8charSize, utf8stringSize} from './utf8'\n\n// The incremental patcher allows you to apply multiple patches and tracks the history of every element.\n// It also allows you to extract a simple diff between the documents.\n\nexport type Value<T> = {\n  data?: unknown\n  content?: Content<T>\n  startMeta: T\n  endMeta: T\n}\n\nexport type Type = 'array' | 'string' | 'object' | 'number' | 'boolean' | 'null'\n\nexport type Content<T> = ObjectContent<T> | ArrayContent<T> | StringContent<T>\n\nexport type ObjectContent<T> = {\n  type: 'object'\n  fields: {[key: string]: Value<T>}\n}\n\nexport type ArrayContent<T> = {\n  type: 'array'\n  elements: Value<T>[]\n  metas: T[]\n}\n\nexport type StringContent<T> = {\n  type: 'string'\n  parts: StringPart<T>[]\n}\n\nexport type StringPart<T> = {\n  value: string\n  utf8size: number\n  uses: StringContent<T>[]\n  startMeta: T\n  endMeta: T\n}\n\nclass IncrementalModel<T>\n  implements ObjectModel<Value<T>, StringContent<T>, ObjectContent<T>, ArrayContent<T>>\n{\n  meta: T\n\n  constructor(meta: T) {\n    this.meta = meta\n  }\n\n  wrap(data: unknown): Value<T> {\n    return this.wrapWithMeta(data, this.meta, this.meta)\n  }\n\n  wrapWithMeta(data: unknown, startMeta: T, endMeta: T = this.meta): Value<T> {\n    return {data, startMeta, endMeta}\n  }\n\n  asObject(value: Value<T>): ObjectContent<T> {\n    if (!value.content) {\n      let fields: ObjectContent<T>['fields'] = {}\n      for (let [key, val] of Object.entries(value.data as any)) {\n        fields[key] = this.wrapWithMeta(val, value.startMeta)\n      }\n      value.content = {type: 'object', fields}\n    }\n\n    return value.content as ObjectContent<T>\n  }\n\n  asArray(value: Value<T>): ArrayContent<T> {\n    if (!value.content) {\n      let elements = (value.data as unknown[]).map((item) =>\n        this.wrapWithMeta(item, value.startMeta),\n      )\n      let metas = elements.map(() => this.meta)\n      value.content = {type: 'array', elements, metas}\n    }\n\n    return value.content as ArrayContent<T>\n  }\n\n  asString(value: Value<T>): StringContent<T> {\n    if (!value.content) {\n      let str = value.data as string\n\n      let part: StringPart<T> = {\n        value: str,\n        utf8size: utf8stringSize(str),\n        uses: [],\n        startMeta: value.startMeta,\n        endMeta: value.endMeta,\n      }\n      value.content = this.stringFromParts([part])\n    }\n\n    return value.content as StringContent<T>\n  }\n\n  stringFromParts(parts: StringPart<T>[]): StringContent<T> {\n    let str: StringContent<T> = {\n      type: 'string',\n      parts,\n    }\n\n    for (let part of parts) {\n      part.uses.push(str)\n    }\n\n    return str\n  }\n\n  objectGetKeys(value: Value<T>): string[] {\n    if (value.content) {\n      return Object.keys((value.content as ObjectContent<T>).fields)\n    } else {\n      return Object.keys(value.data as any)\n    }\n  }\n\n  objectGetField(value: Value<T>, key: string): Value<T> {\n    let obj = this.asObject(value)\n    return obj.fields[key]\n  }\n\n  arrayGetElement(value: Value<T>, idx: number): Value<T> {\n    let arr = this.asArray(value)\n    return arr.elements[idx]\n  }\n\n  finalize(content: Content<T>): Value<T> {\n    this.updateEndMeta(content)\n    return {content, startMeta: this.meta, endMeta: this.meta}\n  }\n\n  markChanged(value: Value<T>): Value<T> {\n    return this.wrap(unwrap(value))\n  }\n\n  updateEndMeta(content: Content<T>) {\n    if (content.type == 'string') {\n      for (let part of content.parts) {\n        part.endMeta = this.meta\n      }\n    } else {\n      if (content.type === 'array') {\n        for (let val of content.elements) {\n          if (val.content && val.endMeta !== this.meta) {\n            this.updateEndMeta(val.content)\n          }\n          val.endMeta = this.meta\n        }\n      } else {\n        for (let val of Object.values(content.fields)) {\n          if (val.content && val.endMeta !== this.meta) {\n            this.updateEndMeta(val.content)\n          }\n          val.endMeta = this.meta\n        }\n      }\n    }\n  }\n\n  copyString(value: Value<T> | null): StringContent<T> {\n    if (value) {\n      let other = this.asString(value)\n      return this.stringFromParts(other.parts.slice())\n    } else {\n      return {\n        type: 'string',\n        parts: [],\n      }\n    }\n  }\n\n  copyObject(value: Value<T> | null): ObjectContent<T> {\n    let obj: ObjectContent<T> = {\n      type: 'object',\n      fields: {},\n    }\n\n    if (value) {\n      let other = this.asObject(value)\n      Object.assign(obj.fields, other.fields)\n    }\n\n    return obj\n  }\n\n  copyArray(value: Value<T> | null): ArrayContent<T> {\n    let arr = value ? this.asArray(value) : null\n    let elements = arr ? arr.elements : []\n    let metas = arr ? arr.metas : []\n\n    return {\n      type: 'array',\n      elements,\n      metas,\n    }\n  }\n\n  objectSetField(target: ObjectContent<T>, key: string, value: Value<T>): void {\n    target.fields[key] = value\n  }\n\n  objectDeleteField(target: ObjectContent<T>, key: string): void {\n    delete target.fields[key]\n  }\n\n  arrayAppendValue(target: ArrayContent<T>, value: Value<T>): void {\n    target.elements.push(value)\n    target.metas.push(this.meta)\n  }\n\n  arrayAppendSlice(target: ArrayContent<T>, source: Value<T>, left: number, right: number): void {\n    let arr = this.asArray(source)\n    let samePosition = arr.elements.length === left\n\n    target.elements.push(...arr.elements.slice(left, right))\n\n    if (samePosition) {\n      target.metas.push(...arr.metas.slice(left, right))\n    } else {\n      for (let i = left; i < right; i++) {\n        target.metas.push(this.meta)\n      }\n    }\n  }\n\n  stringAppendValue(target: StringContent<T>, value: Value<T>): void {\n    let str = this.asString(value)\n    for (let part of str.parts) {\n      this.stringAppendPart(target, part)\n    }\n  }\n\n  stringAppendPart(target: StringContent<T>, part: StringPart<T>): void {\n    target.parts.push(part)\n    part.uses.push(target)\n  }\n\n  resolveStringPart(str: StringContent<T>, from: number, len: number): number {\n    if (len === 0) return from\n\n    for (let i = from; i < str.parts.length; i++) {\n      let part = str.parts[i]\n\n      if (len === part.utf8size) {\n        // Matches perfect!\n        return i + 1\n      }\n\n      if (len < part.utf8size) {\n        // It's a part of this chunk. We now need to split it up.\n        this.splitString(part, len)\n        return i + 1\n      }\n\n      len -= part.utf8size\n    }\n\n    throw new Error('splitting string out of bounds')\n  }\n\n  splitString(part: StringPart<T>, idx: number) {\n    let leftValue\n    let rightValue\n    let leftSize = idx\n    let rightSize = part.utf8size - leftSize\n\n    // idx is here in UTF-8 index, not codepoint index.\n    // This means we might to adjust for multi-byte characters.\n    if (part.utf8size !== part.value.length) {\n      let byteCount = 0\n\n      for (idx = 0; byteCount < leftSize; idx++) {\n        let code = part.value.codePointAt(idx)!\n        let size = utf8charSize(code)\n        if (size === 4) idx++ // Surrogate pair.\n        byteCount += size\n      }\n    }\n\n    leftValue = part.value.slice(0, idx)\n    rightValue = part.value.slice(idx)\n\n    let newPart: StringPart<T> = {\n      value: rightValue,\n      utf8size: rightSize,\n      uses: part.uses.slice(),\n      startMeta: part.startMeta,\n      endMeta: part.endMeta,\n    }\n\n    part.value = leftValue\n    part.utf8size = leftSize\n\n    for (let use of part.uses) {\n      // Insert the new part.\n      let ndx = use.parts.indexOf(part)\n      if (ndx === -1) throw new Error('bug: mismatch between string parts and use.')\n      use.parts.splice(ndx + 1, 0, newPart)\n    }\n  }\n\n  stringAppendSlice(target: StringContent<T>, source: Value<T>, left: number, right: number): void {\n    let str = this.asString(source)\n    let firstPart = this.resolveStringPart(str, 0, left)\n    let lastPart = this.resolveStringPart(str, firstPart, right - left)\n\n    for (let i = firstPart; i < lastPart; i++) {\n      let part = str.parts[i]\n      this.stringAppendPart(target, part)\n    }\n  }\n}\n\n// Turns a native JavaScript object into a Value with a given origin.\nexport function wrap<T>(data: unknown, meta: T): Value<T> {\n  return {data, startMeta: meta, endMeta: meta}\n}\n\n// Converts a Value into a native JavaScript type.\nexport function unwrap<T>(value: Value<T>): unknown {\n  if (typeof value.data !== 'undefined') return value.data\n\n  let result: any\n  let content = value.content!\n  switch (content.type) {\n    case 'string':\n      result = content.parts.map((part) => part.value).join('')\n      break\n    case 'array':\n      result = content.elements.map((val) => unwrap(val))\n      break\n    case 'object': {\n      result = {}\n      for (let [key, val] of Object.entries(content.fields)) {\n        result[key] = unwrap(val)\n      }\n    }\n  }\n\n  value.data = result\n  return result\n}\n\n// Returns the type of a Value.\nexport function getType<T>(value: Value<T>): Type {\n  if (value.content) return value.content.type\n  if (Array.isArray(value.data!)) return 'array'\n  if (value.data === null) return 'null'\n\n  return typeof value.data as Type\n}\n\n// Updates the `right` value such that it reuses as much as possible from the `left` value.\nexport function rebaseValue<T>(left: Value<T>, right: Value<T>): Value<T> {\n  let leftType = getType(left)\n  let rightType = getType(right)\n  if (leftType !== rightType) return right\n\n  let leftModel = new IncrementalModel(left.endMeta)\n  let rightModel = new IncrementalModel(right.endMeta)\n\n  switch (leftType) {\n    case 'object': {\n      let leftObj = leftModel.asObject(left)\n      let rightObj = rightModel.asObject(right)\n\n      // Number of fields which are identical in left and right.\n      let identicalFieldCount = 0\n      let leftFieldCount = Object.keys(leftObj.fields).length\n      let rightFieldCount = Object.keys(rightObj.fields).length\n\n      for (let [key, rightVal] of Object.entries(rightObj.fields)) {\n        let leftVal = leftObj.fields[key]\n        if (leftVal) {\n          rightObj.fields[key] = rebaseValue(leftVal, rightVal)\n          if (rightObj.fields[key] === leftVal) {\n            identicalFieldCount++\n          }\n        }\n      }\n\n      let isIdentical = leftFieldCount === rightFieldCount && leftFieldCount === identicalFieldCount\n      return isIdentical ? left : right\n    }\n    case 'array': {\n      let leftArr = leftModel.asArray(left)\n      let rightArr = rightModel.asArray(right)\n\n      if (leftArr.elements.length !== rightArr.elements.length) {\n        break\n      }\n\n      let numRebased = 0\n      for (let i = 0; i < rightArr.elements.length; i++) {\n        rightArr.elements[i] = rebaseValue(leftArr.elements[i], rightArr.elements[i])\n        if (rightArr.elements[i] !== leftArr.elements[i]) {\n          numRebased++\n        }\n      }\n\n      return numRebased === 0 ? left : right\n    }\n    case 'null':\n    case 'boolean':\n    case 'number': {\n      if (unwrap(left) === unwrap(right)) return left\n      break\n    }\n    case 'string': {\n      let leftRaw = unwrap(left) as string\n      let rightRaw = unwrap(right) as string\n      if (leftRaw === rightRaw) return left\n\n      let result = rightModel.copyString(null)\n      let prefix = commonPrefix(leftRaw, rightRaw)\n      let suffix = commonSuffix(leftRaw, rightRaw, prefix)\n\n      let rightLen = utf8stringSize(rightRaw)\n      let leftLen = utf8stringSize(leftRaw)\n\n      if (0 < prefix) {\n        rightModel.stringAppendSlice(result, left, 0, prefix)\n      }\n      if (prefix < rightLen - suffix) {\n        rightModel.stringAppendSlice(result, right, prefix, rightLen - suffix)\n      }\n      if (leftLen - suffix < leftLen) {\n        rightModel.stringAppendSlice(result, left, leftLen - suffix, leftLen)\n      }\n      let value = rightModel.finalize(result)\n      if (unwrap(value) !== rightRaw) throw new Error('incorrect string rebase')\n      return value\n    }\n  }\n\n  return right\n}\n\nexport function applyPatch<T>(left: Value<T>, patch: RawPatch, startMeta: T) {\n  let model = new IncrementalModel(startMeta)\n  let patcher = new Patcher(model, left, patch)\n  return patcher.process()\n}\n","import {Patcher} from './internal-patcher'\nimport {ObjectModel} from './object-model'\nimport {RawPatch} from './patch'\nimport {utf8resolveIndex} from './utf8'\n\ntype StringBuilder = {type: 'string'; data: string}\ntype ObjectBuilder = {type: 'object'; data: {[key: string]: unknown}}\ntype ArrayBuilder = unknown[]\n\nclass SimpleModel implements ObjectModel<unknown, StringBuilder, ObjectBuilder, ArrayBuilder> {\n  wrap(data: any): unknown {\n    return data\n  }\n\n  finalize(b: StringBuilder | ObjectBuilder | ArrayBuilder): unknown {\n    if (Array.isArray(b)) {\n      return b\n    } else {\n      return b.data\n    }\n  }\n\n  markChanged(value: unknown) {\n    return value\n  }\n\n  objectGetKeys(value: unknown): string[] {\n    return Object.keys(value as any)\n  }\n\n  objectGetField(value: unknown, key: string): unknown {\n    return (value as any)[key]\n  }\n\n  arrayGetElement(value: unknown, idx: number): unknown {\n    return (value as any[])[idx]\n  }\n\n  copyObject(value: unknown | null): ObjectBuilder {\n    let res: ObjectBuilder = {\n      type: 'object',\n      data: {},\n    }\n    if (value !== null) {\n      for (let [key, val] of Object.entries(value as ObjectBuilder)) {\n        res.data[key] = val\n      }\n    }\n    return res\n  }\n\n  copyArray(value: unknown | null): ArrayBuilder {\n    if (value === null) return []\n    return (value as ArrayBuilder).slice()\n  }\n\n  copyString(value: unknown | null): StringBuilder {\n    return {\n      type: 'string',\n      data: value === null ? '' : (value as string),\n    }\n  }\n\n  objectSetField(target: ObjectBuilder, key: string, value: unknown): void {\n    target.data[key] = value\n  }\n\n  objectDeleteField(target: ObjectBuilder, key: string): void {\n    delete target.data[key]\n  }\n\n  arrayAppendValue(target: ArrayBuilder, value: unknown): void {\n    target.push(value)\n  }\n\n  arrayAppendSlice(target: ArrayBuilder, source: unknown, left: number, right: number): void {\n    target.push(...(source as ArrayBuilder).slice(left, right))\n  }\n\n  stringAppendSlice(target: StringBuilder, source: unknown, left: number, right: number): void {\n    const sourceString = source as string\n\n    const leftPos = utf8resolveIndex(sourceString, left)\n    const rightPos = utf8resolveIndex(sourceString, right, leftPos)\n\n    target.data += sourceString.slice(leftPos, rightPos)\n  }\n\n  stringAppendValue(target: StringBuilder, value: unknown): void {\n    target.data += value as string\n  }\n}\n\n// Applies a patch on a JavaScript object.\nexport function applyPatch(left: any, patch: RawPatch): any {\n  let root = left // No need to wrap because the representation is the same.\n  let patcher = new Patcher(new SimpleModel(), root, patch)\n  return patcher.process()\n}\n"],"names":["applyPatch"],"mappings":"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","ignoreList":[0,1,2,3]}},
    {"offset": {"line": 1425, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1431, "column": 0}, "map": {"version":3,"file":"hooks.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/visual-editing-helpers/dist/hooks.js"],"sourcesContent":["import { useMemo, useState, useCallback, useEffect, useSyncExternalStore } from \"react\";\nfunction useQueryParams(params) {\n  const stringifiedParams = useMemo(() => JSON.stringify(params || {}), [params]);\n  return useMemo(() => JSON.parse(stringifiedParams), [stringifiedParams]);\n}\nfunction useRevalidate(props) {\n  const { refreshInterval } = props, shouldPause = useShouldPause(), [state, setState] = useState(\"hit\"), startRefresh = useCallback(() => (setState(\"inflight\"), () => setState(\"hit\")), []);\n  return useEffect(() => {\n    if (!refreshInterval || state !== \"hit\")\n      return;\n    const timeout = setTimeout(() => setState(\"stale\"), refreshInterval);\n    return () => clearTimeout(timeout);\n  }, [refreshInterval, state]), useEffect(() => {\n    if (state !== \"hit\")\n      return;\n    const onFocus = () => setState(\"stale\");\n    return window.addEventListener(\"focus\", onFocus), () => window.removeEventListener(\"focus\", onFocus);\n  }, [refreshInterval, state]), useEffect(() => {\n    shouldPause && state === \"hit\" && setState(\"stale\"), !shouldPause && state === \"stale\" && setState(\"refresh\");\n  }, [shouldPause, state]), [state, startRefresh];\n}\nfunction useShouldPause() {\n  const [online, setOnline] = useState(!1);\n  useEffect(() => {\n    setOnline(navigator.onLine);\n    const online2 = () => setOnline(!0), offline = () => setOnline(!1);\n    return window.addEventListener(\"online\", online2), window.addEventListener(\"offline\", offline), () => {\n      window.removeEventListener(\"online\", online2), window.removeEventListener(\"offline\", offline);\n    };\n  }, []);\n  const visibilityState = useSyncExternalStore(\n    onVisibilityChange,\n    () => document.visibilityState,\n    () => \"hidden\"\n  );\n  return !online || visibilityState === \"hidden\";\n}\nfunction onVisibilityChange(onStoreChange) {\n  return document.addEventListener(\"visibilitychange\", onStoreChange), () => document.removeEventListener(\"visibilitychange\", onStoreChange);\n}\nexport {\n  useQueryParams,\n  useRevalidate\n};\n//# sourceMappingURL=hooks.js.map\n"],"names":["useQueryParams","params","stringifiedParams","useMemo","JSON","stringify","parse"],"mappings":";;;;;;;;AAOO,SAASA,eAAeC,MAAAA,EAAsD;IAC7EC,MAAAA,sLAAoBC,UAAAA;qDAAQ,IAAMC,KAAKC,SAAAA,CAAUJ,UAAU,CAAK,CAAA;oDAAA;QAACA,MAAM;KAAC;IACvEE,wKAAAA,WAAAA;kCAAQ,IAAMC,KAAKE,KAAAA,CAAMJ,iBAAiB;iCAAkB;QAACA,iBAAiB;KAAC;AACxF","ignoreList":[0]}},
    {"offset": {"line": 1519, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1525, "column": 0}, "map": {"version":3,"file":"csm.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/csm/applySourceDocuments.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/csm/resolvedKeyedSourcePath.ts","file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/client/src/csm/resolveEditUrl.ts"],"sourcesContent":["import {DRAFTS_PREFIX, getPublishedId} from './getPublishedId'\nimport {parseJsonPath} from './jsonPath'\nimport {resolveMapping} from './resolveMapping'\nimport * as paths from './studioPath'\nimport type {\n  Any,\n  ApplySourceDocumentsUpdateFunction,\n  ClientPerspective,\n  ContentSourceMap,\n  ContentSourceMapDocuments,\n  Path,\n  SanityDocument,\n} from './types'\nimport {walkMap} from './walkMap'\n\nconst defaultUpdateFunction = <T = unknown>(changed: T): T => changed\n\n/**\n * Optimistically applies source documents to a result, using the content source map to trace fields.\n * Can be used to apply mutations to documents being edited in a Studio, or any mutation on Content Lake, to a result with extremely low latency.\n * @alpha\n */\nexport function applySourceDocuments<Result = unknown>(\n  result: Result,\n  resultSourceMap: ContentSourceMap | undefined,\n  getCachedDocument: (\n    sourceDocument: ContentSourceMapDocuments[number],\n  ) => Partial<SanityDocument> | null | undefined,\n  updateFn: ApplySourceDocumentsUpdateFunction = defaultUpdateFunction,\n  perspective: ClientPerspective = 'raw',\n): Result {\n  if (!resultSourceMap) return result\n\n  if (perspective !== 'published' && perspective !== 'raw' && perspective !== 'previewDrafts') {\n    throw new Error(`Unknown perspective \"${perspective}\"`)\n  }\n\n  return walkMap(JSON.parse(JSON.stringify(result)), (value, path) => {\n    const resolveMappingResult = resolveMapping(path, resultSourceMap)\n    if (!resolveMappingResult) {\n      // console.warn('no mapping for path', path)\n      return value\n    }\n\n    const {mapping, pathSuffix} = resolveMappingResult\n    if (mapping.type !== 'value') {\n      return value\n    }\n\n    if (mapping.source.type !== 'documentValue') {\n      return value\n    }\n\n    const sourceDocument = resultSourceMap.documents[mapping.source.document]\n    const sourcePath = resultSourceMap.paths[mapping.source.path]\n\n    if (sourceDocument) {\n      const parsedPath = parseJsonPath(sourcePath + pathSuffix)\n      const stringifiedPath = paths.toString(parsedPath as Path)\n\n      // The _id is sometimes used used as `key` in lists, and should not be changed optimistically\n      if (stringifiedPath === '_id') {\n        return value\n      }\n\n      let cachedDocument: Partial<SanityDocument> | null | undefined\n      if (perspective === 'previewDrafts') {\n        cachedDocument = getCachedDocument(\n          sourceDocument._id.startsWith(DRAFTS_PREFIX)\n            ? sourceDocument\n            : {...sourceDocument, _id: `${DRAFTS_PREFIX}${sourceDocument._id}}`},\n        )\n        if (!cachedDocument) {\n          cachedDocument = getCachedDocument(\n            sourceDocument._id.startsWith(DRAFTS_PREFIX)\n              ? {...sourceDocument, _id: getPublishedId(sourceDocument._id)}\n              : sourceDocument,\n          )\n        }\n        if (cachedDocument) {\n          cachedDocument = {\n            ...cachedDocument,\n            _id: getPublishedId(sourceDocument._id),\n            _originalId: sourceDocument._id,\n          }\n        }\n      } else {\n        cachedDocument = getCachedDocument(sourceDocument)\n      }\n\n      if (!cachedDocument) {\n        return value\n      }\n\n      const changedValue = cachedDocument\n        ? paths.get<Result[keyof Result]>(cachedDocument, stringifiedPath, value)\n        : value\n      return value === changedValue\n        ? value\n        : updateFn<Result[keyof Result]>(changedValue as Any, {\n            cachedDocument,\n            previousValue: value as Result[keyof Result],\n            sourceDocument,\n            sourcePath: parsedPath,\n          })\n    }\n\n    return value\n  }) as Result\n}\n","import {jsonPath, parseJsonPath} from './jsonPath'\nimport type {ContentSourceMapParsedPath} from './types'\n\n/**\n * @internal\n */\nexport function resolvedKeyedSourcePath(options: {\n  keyedResultPath: ContentSourceMapParsedPath\n  pathSuffix?: string\n  sourceBasePath: string\n}): ContentSourceMapParsedPath {\n  const {keyedResultPath, pathSuffix, sourceBasePath} = options\n\n  const inferredResultPath = pathSuffix === undefined ? [] : parseJsonPath(pathSuffix)\n\n  const inferredPath = keyedResultPath.slice(keyedResultPath.length - inferredResultPath.length)\n\n  const inferredPathSuffix = inferredPath.length ? jsonPath(inferredPath).slice(1) : ''\n\n  return parseJsonPath(sourceBasePath + inferredPathSuffix)\n}\n","import {createEditUrl} from './createEditUrl'\nimport {studioPathToJsonPath} from './jsonPath'\nimport {resolveEditInfo} from './resolveEditInfo'\nimport type {ResolveEditUrlOptions} from './types'\n\n/** @alpha */\nexport function resolveEditUrl(\n  options: ResolveEditUrlOptions,\n): ReturnType<typeof createEditUrl> | undefined {\n  const {resultSourceMap, studioUrl} = options\n  const resultPath = studioPathToJsonPath(options.resultPath)\n\n  const editInfo = resolveEditInfo({\n    resultPath,\n    resultSourceMap,\n    studioUrl,\n  })\n  if (!editInfo) {\n    return undefined\n  }\n\n  return createEditUrl(editInfo)\n}\n"],"names":["paths.toString","paths.get"],"mappings":";;;;;;;;AAeA,MAAM,wBAAwB,CAAc,UAAkB;AAOvD,SAAS,qBACd,MAAA,EACA,eAAA,EACA,iBAAA,EAGA,WAA+C,qBAAA,EAC/C,cAAiC,KAAA,EACzB;IACR,IAAI,CAAC,iBAAwB,OAAA;IAE7B,IAAI,gBAAgB,eAAe,gBAAgB,SAAS,gBAAgB,iBAC1E,MAAM,IAAI,MAAM,CAAA,qBAAA,EAAwB,WAAW,CAAA,CAAA,CAAG;IAGjD,6LAAA,UAAA,EAAQ,KAAK,KAAA,CAAM,KAAK,SAAA,CAAU,MAAM,CAAC,GAAG,CAAC,OAAO,SAAS;QAC5D,MAAA,2BAAuB,mMAAA,EAAe,MAAM,eAAe;QACjE,IAAI,CAAC,sBAEI,OAAA;QAGH,MAAA,EAAC,OAAA,EAAS,UAAA,CAAA,CAAA,GAAc;QAK9B,IAJI,QAAQ,IAAA,KAAS,WAIjB,QAAQ,MAAA,CAAO,IAAA,KAAS,iBACnB,OAAA;QAGT,MAAM,iBAAiB,gBAAgB,SAAA,CAAU,QAAQ,MAAA,CAAO,QAAQ,CAAA,EAClE,aAAa,gBAAgB,KAAA,CAAM,QAAQ,MAAA,CAAO,IAAI,CAAA;QAE5D,IAAI,gBAAgB;YACZ,MAAA,aAAa,sMAAA,EAAc,aAAa,UAAU,GAClD,wMAAkBA,WAAAA,EAAe,UAAkB;YAGzD,IAAI,oBAAoB,OACf,OAAA;YAGL,IAAA;YACA,IAAA,gBAAgB,kBAAA,CAClB,iBAAiB,kBACf,eAAe,GAAA,CAAI,UAAA,mLAAW,gBAAa,IACvC,iBACA;gBAAC,GAAG,cAAA;gBAAgB,KAAK,qLAAG,gBAAa,GAAG,eAAe,GAAG,CAAA,CAAA,CAAA;YAAG,IAElE,kBAAA,CACH,iBAAiB,kBACf,eAAe,GAAA,CAAI,UAAA,mLAAW,gBAAa,IACvC;gBAAC,GAAG,cAAA;gBAAgB,2LAAK,iBAAA,EAAe,eAAe,GAAG;YAAA,IAC1D,eAAA,GAGJ,kBAAA,CACF,iBAAiB;gBACf,GAAG,cAAA;gBACH,MAAK,sMAAA,EAAe,eAAe,GAAG;gBACtC,aAAa,eAAe,GAAA;YAIhC,CAAA,CAAA,IAAA,iBAAiB,kBAAkB,cAAc,GAG/C,CAAC,gBACI,OAAA;YAGT,MAAM,eAAe,qBACjBC,wLAAAA,EAAgC,gBAAgB,iBAAiB,KAAK,IACtE;YACJ,OAAO,UAAU,eACb,QACA,SAA+B,cAAqB;gBAClD;gBACA,eAAe;gBACf;gBACA,YAAY;YAAA,CACb;QAAA;QAGA,OAAA;IAAA,CACR;AACH;ACvGO,SAAS,wBAAwB,OAAA,EAIT;IAC7B,MAAM,EAAC,eAAA,EAAiB,UAAA,EAAY,cAAA,CAAkB,CAAA,GAAA,SAEhD,qBAAqB,eAAe,KAAA,IAAY,CAAK,CAAA,yLAAA,gBAAA,EAAc,UAAU,GAE7E,eAAe,gBAAgB,KAAA,CAAM,gBAAgB,MAAA,GAAS,mBAAmB,MAAM,GAEvF,qBAAqB,aAAa,MAAA,yLAAS,WAAA,EAAS,YAAY,EAAE,KAAA,CAAM,CAAC,IAAI;IAE5E,QAAA,qMAAA,EAAc,iBAAiB,kBAAkB;AAC1D;ACdO,SAAS,eACd,OAAA,EAC8C;IACxC,MAAA,EAAC,eAAA,EAAiB,SAAA,CAAa,CAAA,GAAA,SAC/B,aAAa,6MAAA,EAAqB,QAAQ,UAAU,GAEpD,iMAAW,kBAAA,EAAgB;QAC/B;QACA;QACA;IAAA,CACD;IACI,IAAA,UAIL,6LAAO,gBAAA,EAAc,QAAQ;AAC/B","ignoreList":[0,1,2]}},
    {"offset": {"line": 1583, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1589, "column": 0}, "map": {"version":3,"file":"LoaderQueries.js","sources":["file://C%3A/Users/Rey%20Omar%20Esguerra/Downloads/reyecommerce/node_modules/%40sanity/presentation/src/loader/LoaderQueries.tsx"],"sourcesContent":["import {\n  createCompatibilityActors,\n  getQueryCacheKey,\n  type LoaderControllerMsg,\n  type LoaderNodeMsg,\n} from '@repo/visual-editing-helpers'\nimport {useQueryParams, useRevalidate} from '@repo/visual-editing-helpers/hooks'\nimport type {\n  ClientConfig,\n  ClientPerspective,\n  ContentSourceMap,\n  QueryParams,\n  SyncTag,\n} from '@sanity/client'\nimport {applySourceDocuments, getPublishedId} from '@sanity/client/csm'\nimport {\n  createConnectionMachine,\n  type ChannelInstance,\n  type Controller,\n  type StatusEvent,\n} from '@sanity/comlink'\nimport {applyPatch} from 'mendoza'\nimport LRUCache from 'mnemonist/lru-cache-with-delete'\nimport {memo, useEffect, useMemo, useState} from 'react'\nimport {\n  useClient,\n  // useCurrentUser,\n  useDataset,\n  useProjectId,\n  type SanityClient,\n  type SanityDocument,\n} from 'sanity'\nimport {\n  LIVE_QUERY_CACHE_BATCH_SIZE,\n  LIVE_QUERY_CACHE_SIZE,\n  MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL,\n} from '../constants'\nimport type {\n  LiveQueriesState,\n  LiveQueriesStateValue,\n  LoaderConnection,\n  PresentationPerspective,\n} from '../types'\nimport type {DocumentOnPage} from '../useDocumentsOnPage'\n\nexport interface LoaderQueriesProps {\n  liveDocument: Partial<SanityDocument> | null | undefined\n  controller: Controller | undefined\n  perspective: ClientPerspective\n  documentsOnPage: {_id: string; _type: string}[]\n  onLoadersConnection: (event: StatusEvent) => void\n  onDocumentsOnPage: (\n    key: string,\n    perspective: PresentationPerspective,\n    state: DocumentOnPage[],\n  ) => void\n}\n\nexport default function LoaderQueries(props: LoaderQueriesProps): JSX.Element {\n  const {\n    liveDocument,\n    controller,\n    perspective: activePerspective,\n    documentsOnPage,\n    onLoadersConnection,\n    onDocumentsOnPage,\n  } = props\n\n  const [comlink, setComlink] = useState<ChannelInstance<LoaderControllerMsg, LoaderNodeMsg>>()\n  const [liveQueries, setLiveQueries] = useState<LiveQueriesState>({})\n\n  const projectId = useProjectId()\n  const dataset = useDataset()\n\n  useEffect(() => {\n    const interval = setInterval(\n      () =>\n        setLiveQueries((liveQueries) => {\n          if (Object.keys(liveQueries).length < 1) {\n            return liveQueries\n          }\n\n          const now = Date.now()\n          const hasAnyExpired = Object.values(liveQueries).some(\n            (liveQuery) =>\n              liveQuery.heartbeat !== false && now > liveQuery.receivedAt + liveQuery.heartbeat,\n          )\n          if (!hasAnyExpired) {\n            return liveQueries\n          }\n          const next = {} as LiveQueriesState\n          for (const [key, value] of Object.entries(liveQueries)) {\n            if (value.heartbeat !== false && now > value.receivedAt + value.heartbeat) {\n              continue\n            }\n            next[key] = value\n          }\n          return next\n        }),\n      MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL,\n    )\n    return () => clearInterval(interval)\n  }, [])\n\n  useEffect(() => {\n    if (controller) {\n      const comlink = controller.createChannel<LoaderControllerMsg, LoaderNodeMsg>(\n        {\n          name: 'presentation',\n          connectTo: 'loaders',\n          heartbeat: true,\n        },\n        createConnectionMachine<LoaderControllerMsg, LoaderNodeMsg>().provide({\n          actors: createCompatibilityActors<LoaderControllerMsg>(),\n        }),\n      )\n      setComlink(comlink)\n\n      comlink.onStatus(onLoadersConnection)\n\n      comlink.on('loader/documents', (data) => {\n        if (data.projectId === projectId && data.dataset === dataset) {\n          onDocumentsOnPage(\n            'loaders',\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data.perspective as unknown as any,\n            data.documents,\n          )\n        }\n      })\n\n      comlink.on('loader/query-listen', (data) => {\n        if (data.projectId === projectId && data.dataset === dataset) {\n          if (\n            typeof data.heartbeat === 'number' &&\n            data.heartbeat < MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL\n          ) {\n            throw new Error(\n              `Loader query listen heartbeat interval must be at least ${MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL}ms`,\n            )\n          }\n          setLiveQueries((prev) => ({\n            ...prev,\n            [getQueryCacheKey(data.query, data.params)]: {\n              perspective: data.perspective,\n              query: data.query,\n              params: data.params,\n              receivedAt: Date.now(),\n              heartbeat: data.heartbeat ?? false,\n            } satisfies LiveQueriesStateValue,\n          }))\n        }\n      })\n\n      return comlink.start()\n    }\n    return\n  }, [controller, dataset, onDocumentsOnPage, onLoadersConnection, projectId])\n\n  const [cache] = useState(() => new LRUCache<string, SanityDocument>(LIVE_QUERY_CACHE_SIZE))\n  const studioClient = useClient({apiVersion: '2023-10-16'})\n  const clientConfig = useMemo(() => studioClient.config(), [studioClient])\n  const client = useMemo(\n    () =>\n      studioClient.withConfig({\n        resultSourceMap: 'withKeyArraySelector',\n      }),\n    [studioClient],\n  )\n  useEffect(() => {\n    if (comlink) {\n      const {projectId, dataset} = clientConfig\n      // @todo - Can this be migrated/deprecated in favour of emitting\n      // `presentation/perspective` at a higher level?\n      comlink.post('loader/perspective', {\n        projectId: projectId!,\n        dataset: dataset!,\n        perspective: activePerspective,\n      })\n    }\n  }, [comlink, clientConfig, activePerspective])\n\n  const turboIds = useMemo(() => {\n    const documentsActuallyInUse = documentsOnPage.map(({_id}) => _id)\n    const set = new Set(documentsActuallyInUse)\n    const ids = [...set]\n    const max = cache.capacity\n    if (ids.length >= max) {\n      ids.length = max\n    }\n    return ids\n  }, [cache.capacity, documentsOnPage])\n\n  const [documentsCacheLastUpdated, setDocumentsCacheLastUpdated] = useState(0)\n\n  return (\n    <>\n      <Turbo\n        cache={cache}\n        client={client}\n        turboIds={turboIds}\n        setDocumentsCacheLastUpdated={setDocumentsCacheLastUpdated}\n      />\n      {Object.entries(liveQueries).map(([key, {query, params, perspective}]) => (\n        <QuerySubscription\n          key={`${key}${perspective}`}\n          cache={cache}\n          projectId={clientConfig.projectId!}\n          dataset={clientConfig.dataset!}\n          perspective={perspective}\n          query={query}\n          params={params}\n          comlink={comlink}\n          client={client}\n          refreshInterval={activePerspective ? 2000 : 0}\n          liveDocument={liveDocument}\n          documentsCacheLastUpdated={documentsCacheLastUpdated}\n        />\n      ))}\n    </>\n  )\n}\n\ninterface SharedProps {\n  /**\n   * The Sanity client to use for fetching data and listening to mutations.\n   */\n  client: SanityClient\n  /**\n   * How frequently queries should be refetched in the background to refresh the parts of queries that can't be source mapped.\n   * Setting it to `0` will disable background refresh.\n   * @defaultValue 10000\n   */\n  refreshInterval?: number\n  /**\n   * The documents cache to use for turbo-charging queries.\n   */\n  cache: LRUCache<string, SanityDocument>\n}\n\ninterface TurboProps extends Pick<SharedProps, 'client' | 'cache'> {\n  turboIds: string[]\n  setDocumentsCacheLastUpdated: (timestamp: number) => void\n}\n/**\n * A turbo-charged mutation observer that uses Content Source Maps to apply mendoza patches on your queries\n */\nconst Turbo = memo(function Turbo(props: TurboProps) {\n  const {cache, client, turboIds, setDocumentsCacheLastUpdated} = props\n  // Figure out which documents are missing from the cache\n  const [batch, setBatch] = useState<string[][]>([])\n  useEffect(() => {\n    const batchSet = new Set(batch.flat())\n    const nextBatch = new Set<string>()\n    for (const turboId of turboIds) {\n      if (!batchSet.has(turboId) && !cache.has(turboId)) {\n        nextBatch.add(turboId)\n      }\n    }\n    const nextBatchSlice = [...nextBatch].slice(0, LIVE_QUERY_CACHE_BATCH_SIZE)\n    if (nextBatchSlice.length === 0) return\n    setBatch((prevBatch) => [...prevBatch.slice(-LIVE_QUERY_CACHE_BATCH_SIZE), nextBatchSlice])\n  }, [batch, cache, turboIds])\n\n  // Use the same listen instance and patch documents as they come in\n  useEffect(() => {\n    const subscription = client\n      .listen(\n        '*',\n        {},\n        {\n          events: ['mutation'],\n          effectFormat: 'mendoza',\n          includePreviousRevision: false,\n          includeResult: false,\n          tag: 'presentation-loader',\n        },\n      )\n      .subscribe((update) => {\n        if (update.type === 'mutation' && update.transition === 'disappear') {\n          if (cache.delete(update.documentId)) {\n            setDocumentsCacheLastUpdated(Date.now())\n          }\n        }\n\n        if (update.type !== 'mutation' || !update.effects?.apply?.length) return\n        // Schedule a reach state update with the ID of the document that were mutated\n        // This react handler will apply the document to related source map snapshots\n        const cachedDocument = cache.peek(update.documentId)\n        if (cachedDocument as SanityDocument) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          const patchDoc = {...cachedDocument} as any\n          delete patchDoc._rev\n          const patchedDocument = applyPatch(patchDoc, update.effects.apply)\n          cache.set(update.documentId, patchedDocument)\n          setDocumentsCacheLastUpdated(Date.now())\n        }\n      })\n    return () => subscription.unsubscribe()\n  }, [cache, client, setDocumentsCacheLastUpdated])\n\n  return (\n    <>\n      {batch.map((ids) => (\n        <GetDocuments\n          key={JSON.stringify(ids)}\n          cache={cache}\n          client={client}\n          ids={ids}\n          setDocumentsCacheLastUpdated={setDocumentsCacheLastUpdated}\n        />\n      ))}\n    </>\n  )\n})\n\ninterface GetDocumentsProps extends Pick<SharedProps, 'client' | 'cache'> {\n  ids: string[]\n  setDocumentsCacheLastUpdated: (timestamp: number) => void\n}\nconst GetDocuments = memo(function GetDocuments(props: GetDocumentsProps) {\n  const {client, cache, ids, setDocumentsCacheLastUpdated} = props\n\n  useEffect(() => {\n    const missingIds = ids.filter((id) => !cache.has(id))\n    if (missingIds.length === 0) return\n    client.getDocuments(missingIds).then((documents) => {\n      for (const doc of documents) {\n        if (doc && doc?._id) {\n          cache.set(doc._id, doc)\n          setDocumentsCacheLastUpdated(Date.now())\n        }\n      }\n      // eslint-disable-next-line no-console\n    }, console.error)\n  }, [cache, client, ids, setDocumentsCacheLastUpdated])\n\n  return null\n})\nGetDocuments.displayName = 'GetDocuments'\n\ninterface QuerySubscriptionProps\n  extends Pick<\n    UseQuerySubscriptionProps,\n    'client' | 'cache' | 'refreshInterval' | 'liveDocument' | 'documentsCacheLastUpdated'\n  > {\n  projectId: string\n  dataset: string\n  perspective: ClientPerspective\n  query: string\n  params: QueryParams\n  comlink: LoaderConnection | undefined\n}\nfunction QuerySubscription(props: QuerySubscriptionProps) {\n  const {\n    cache,\n    projectId,\n    dataset,\n    perspective,\n    query,\n    client,\n    refreshInterval,\n    liveDocument,\n    comlink,\n    documentsCacheLastUpdated,\n  } = props\n\n  const params = useQueryParams(props.params)\n  const data = useQuerySubscription({\n    cache,\n    client,\n    liveDocument,\n    params,\n    perspective,\n    query,\n    refreshInterval,\n    documentsCacheLastUpdated,\n  })\n  const result = data?.result\n  const resultSourceMap = data?.resultSourceMap\n  const tags = data?.tags\n\n  useEffect(() => {\n    if (resultSourceMap) {\n      comlink?.post('loader/query-change', {\n        projectId,\n        dataset,\n        perspective,\n        query,\n        params,\n        result,\n        resultSourceMap,\n        tags,\n      })\n    }\n  }, [comlink, dataset, params, perspective, projectId, query, result, resultSourceMap, tags])\n\n  return null\n}\n\ninterface UseQuerySubscriptionProps\n  extends Required<Pick<SharedProps, 'client' | 'refreshInterval' | 'cache'>> {\n  liveDocument: Partial<SanityDocument> | null | undefined\n  query: string\n  params: QueryParams\n  perspective: ClientPerspective\n  documentsCacheLastUpdated: number\n}\nfunction useQuerySubscription(props: UseQuerySubscriptionProps) {\n  const {\n    cache,\n    liveDocument,\n    client,\n    refreshInterval,\n    query,\n    params,\n    perspective,\n    documentsCacheLastUpdated,\n  } = props\n  const [snapshot, setSnapshot] = useState<{\n    result: unknown\n    resultSourceMap?: ContentSourceMap\n    tags?: SyncTag[]\n  } | null>(null)\n  const {projectId, dataset} = useMemo(() => {\n    const {projectId, dataset} = client.config()\n    return {projectId, dataset} as Required<Pick<ClientConfig, 'projectId' | 'dataset'>>\n  }, [client])\n\n  // Make sure any async errors bubble up to the nearest error boundary\n  const [error, setError] = useState<unknown>(null)\n  if (error) throw error\n\n  const [revalidate, startRefresh] = useRevalidate({refreshInterval})\n  const shouldRefetch = revalidate === 'refresh' || revalidate === 'inflight'\n  useEffect(() => {\n    if (!shouldRefetch) {\n      return\n    }\n\n    let fulfilled = false\n    let fetching = false\n    const controller = new AbortController()\n    // eslint-disable-next-line no-inner-declarations\n    async function effect() {\n      const {signal} = controller\n      fetching = true\n      const {result, resultSourceMap, syncTags} = await client.fetch(query, params, {\n        tag: 'presentation-loader',\n        signal,\n        perspective,\n        filterResponse: false,\n      })\n      fetching = false\n\n      if (!signal.aborted) {\n        setSnapshot({result, resultSourceMap, tags: syncTags})\n\n        fulfilled = true\n      }\n    }\n    const onFinally = startRefresh()\n    effect()\n      .catch((error) => {\n        fetching = false\n        if (error.name !== 'AbortError') {\n          setError(error)\n        }\n      })\n      .finally(onFinally)\n    return () => {\n      if (!fulfilled && !fetching) {\n        controller.abort()\n      }\n    }\n  }, [\n    client,\n    dataset,\n    liveDocument,\n    params,\n    perspective,\n    projectId,\n    query,\n    shouldRefetch,\n    startRefresh,\n  ])\n\n  return useMemo(() => {\n    if (documentsCacheLastUpdated && snapshot?.resultSourceMap) {\n      return {\n        result: turboChargeResultIfSourceMap(\n          cache,\n          liveDocument,\n          snapshot.result,\n          perspective,\n          snapshot.resultSourceMap,\n        ),\n        resultSourceMap: snapshot.resultSourceMap,\n      }\n    }\n    return snapshot\n  }, [cache, documentsCacheLastUpdated, liveDocument, perspective, snapshot])\n}\n\nlet warnedAboutCrossDatasetReference = false\nexport function turboChargeResultIfSourceMap<T = unknown>(\n  cache: SharedProps['cache'],\n  liveDocument: Partial<SanityDocument> | null | undefined,\n  result: T,\n  perspective: ClientPerspective,\n  resultSourceMap?: ContentSourceMap,\n): T {\n  if (perspective === 'raw') {\n    throw new Error('turboChargeResultIfSourceMap does not support raw perspective')\n  }\n  return applySourceDocuments(\n    result,\n    resultSourceMap,\n    (sourceDocument) => {\n      if (sourceDocument._projectId) {\n        // @TODO Handle cross dataset references\n        if (!warnedAboutCrossDatasetReference) {\n          // eslint-disable-next-line no-console\n          console.warn(\n            'Cross dataset references are not supported yet, ignoring source document',\n            sourceDocument,\n          )\n          warnedAboutCrossDatasetReference = true\n        }\n        return undefined\n      }\n      // If there's a displayed document, always prefer it\n      if (\n        liveDocument?._id &&\n        getPublishedId(liveDocument._id) === getPublishedId(sourceDocument._id)\n      ) {\n        return liveDocument\n      }\n      // Fallback to general documents cache\n      return cache.get(sourceDocument._id)\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (changedValue: any, {previousValue}) => {\n      if (typeof changedValue === 'number' && typeof previousValue === 'string') {\n        // If the string() function was used in the query, we need to convert the source value to a string as well\n        return `${changedValue}`\n      }\n      return changedValue\n    },\n    perspective,\n  )\n}\n"],"names":["LoaderQueries","props","liveDocument","controller","perspective","activePerspective","documentsOnPage","onLoadersConnection","onDocumentsOnPage","comlink","setComlink","useState","liveQueries","setLiveQueries","projectId","useProjectId","dataset","useDataset","useEffect","interval","setInterval","Object","keys","length","now","Date","values","some","liveQuery","heartbeat","receivedAt","next","key","value","entries","MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL","clearInterval","createChannel","name","connectTo","createConnectionMachine","provide","actors","createCompatibilityActors","onStatus","on","data","documents","Error","prev","getQueryCacheKey","query","params","start","cache","LRUCache","LIVE_QUERY_CACHE_SIZE","studioClient","useClient","apiVersion","clientConfig","useMemo","config","client","withConfig","resultSourceMap","post","turboIds","documentsActuallyInUse","map","_id","ids","Set","max","capacity","documentsCacheLastUpdated","setDocumentsCacheLastUpdated","Turbo","memo","$","_c","t0","Symbol","for","batch","setBatch","t1","t2","batchSet","flat","nextBatch","turboId","has","add","nextBatchSlice","slice","LIVE_QUERY_CACHE_BATCH_SIZE","prevBatch","t3","t4","subscription","listen","events","effectFormat","includePreviousRevision","includeResult","tag","subscribe","update","type","transition","delete","documentId","effects","apply","cachedDocument","peek","patchDoc","_rev","patchedDocument","applyPatch","set","unsubscribe","t5","t6","JSON","stringify","GetDocuments","missingIds","filter","id","getDocuments","then","doc","console","error","displayName","QuerySubscription","refreshInterval","useQueryParams","useQuerySubscription","result","tags","snapshot","setSnapshot","setError","revalidate","startRefresh","useRevalidate","shouldRefetch","fulfilled","fetching","AbortController","effect","signal","syncTags","fetch","filterResponse","aborted","onFinally","catch","finally","abort","turboChargeResultIfSourceMap","warnedAboutCrossDatasetReference","applySourceDocuments","sourceDocument","_projectId","warn","getPublishedId","get","changedValue","previousValue"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1950, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}